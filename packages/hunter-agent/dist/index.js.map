{"version":3,"sources":["../src/hunter-agent.ts","../src/scanner/types.ts","../src/scanner/aggregators.ts","../src/scanner/index.ts"],"sourcesContent":["import { BaseAgent } from \"@gicm/agent-core\";\nimport type { AgentConfig, AgentContext, AgentResult } from \"@gicm/agent-core\";\nimport { CronJob } from \"cron\";\nimport {\n  type BaseHunterSource,\n  DEFAULT_SCHEDULES,\n  type HunterConfig,\n  type HuntDiscovery,\n  type HuntSource,\n} from \"./types.js\";\nimport {\n  TokenScanner,\n  type TokenAnalysis,\n  type ScanOptions,\n  type TokenScannerConfig,\n} from \"./scanner/index.js\";\n// Social/Tech Sources\nimport { GitHubHunter } from \"./sources/github-hunter.js\";\nimport { HackerNewsHunter } from \"./sources/hackernews-hunter.js\";\nimport { TwitterHunter } from \"./sources/twitter-hunter.js\";\nimport { RedditHunter } from \"./sources/reddit-hunter.js\";\nimport { ProductHuntHunter } from \"./sources/producthunt-hunter.js\";\nimport { ArxivHunter } from \"./sources/arxiv-hunter.js\";\nimport { LobstersHunter } from \"./sources/lobsters-hunter.js\";\nimport { DevToHunter } from \"./sources/devto-hunter.js\";\nimport { TikTokHunter } from \"./sources/tiktok-hunter.js\";\n// DeFi/Crypto Sources\nimport { DeFiLlamaHunter } from \"./sources/defillama-hunter.js\";\nimport { GeckoTerminalHunter } from \"./sources/geckoterminal-hunter.js\";\nimport { FearGreedHunter } from \"./sources/feargreed-hunter.js\";\nimport { BinanceHunter } from \"./sources/binance-hunter.js\";\n// Economic/Financial Sources\nimport { FREDHunter } from \"./sources/fred-hunter.js\";\nimport { SECHunter } from \"./sources/sec-hunter.js\";\nimport { FinnhubHunter } from \"./sources/finnhub-hunter.js\";\n// Alternative Sources\nimport { NPMHunter } from \"./sources/npm-hunter.js\";\n\nexport interface HunterAgentConfig extends AgentConfig {\n  sources: HunterConfig[];\n  deduplicationTTL?: number; // ms\n  onDiscovery?: (discoveries: HuntDiscovery[]) => Promise<void>;\n  // Token scanner config\n  scanner?: TokenScannerConfig;\n}\n\nexport class HunterAgent extends BaseAgent {\n  private hunters: Map<HuntSource, BaseHunterSource> = new Map();\n  private jobs: Map<HuntSource, CronJob> = new Map();\n  private seen: Map<string, number> = new Map(); // fingerprint -> timestamp\n  private deduplicationTTL: number;\n  private onDiscovery?: (discoveries: HuntDiscovery[]) => Promise<void>;\n  private isRunning = false;\n  private scanner: TokenScanner;\n\n  constructor(config: HunterAgentConfig) {\n    super(\"hunter\", config);\n    this.deduplicationTTL = config.deduplicationTTL ?? 7 * 24 * 60 * 60 * 1000; // 7 days\n    this.onDiscovery = config.onDiscovery;\n\n    // Initialize hunters\n    for (const sourceConfig of config.sources) {\n      if (!sourceConfig.enabled) continue;\n\n      const hunter = this.createHunter(sourceConfig);\n      if (hunter) {\n        this.hunters.set(sourceConfig.source, hunter);\n      }\n    }\n\n    // Initialize token scanner\n    this.scanner = new TokenScanner(config.scanner || {\n      vybeApiKey: process.env.VYBE_API_KEY,\n    });\n  }\n\n  getSystemPrompt(): string {\n    return `You are a tech discovery and alpha-hunting agent for gICM.\nYour role is to find valuable opportunities from multiple sources\nthat are relevant to Web3, AI, trading, and developer tooling.\n\nYou hunt from:\nSOCIAL/TECH:\n- GitHub: Trending repos in crypto/AI\n- HackerNews: Tech posts and Show HN launches\n- Twitter: Crypto/AI discussions\n- Reddit: r/programming, r/MachineLearning, r/cryptocurrency, r/solana\n- ProductHunt: New product launches\n- ArXiv: AI/ML research papers\n- Lobste.rs: High-signal tech discussions\n- Dev.to: Developer tutorials and tools\n- TikTok: Viral crypto/tech content\n\nDEFI/CRYPTO:\n- DeFiLlama: TVL changes, yield opportunities, protocol metrics\n- GeckoTerminal: New pool launches, trending pairs across chains\n- Fear & Greed Index: Market sentiment for contrarian signals\n- Binance: Price moves, volume anomalies on major pairs\n\nECONOMIC/FINANCIAL:\n- FRED: Federal Reserve data (rates, inflation, employment)\n- SEC EDGAR: Insider trades, 13-F institutional holdings\n- Finnhub: Congressional trades, earnings surprises\n\nALTERNATIVE:\n- npm: Package download trends for tech adoption signals\n\nSIX THINKING HATS ANALYSIS:\nWhen evaluating discoveries, analyze from 6 perspectives:\nðŸŽ© WHITE (Facts): What are the objective metrics and data points?\nðŸŽ© RED (Emotions): What's the gut feeling? Is there hype or fear?\nðŸŽ© BLACK (Risks): What could go wrong? Rug risk? Technical issues?\nðŸŽ© YELLOW (Benefits): What's the upside potential? Alpha opportunity?\nðŸŽ© GREEN (Creativity): What novel approaches or use cases exist?\nðŸŽ© BLUE (Process): What's the action plan? Entry/exit strategy?\n\nYou evaluate discoveries based on:\n- Relevance to gICM (Web3/AI/trading focus)\n- Quality signals (stars, engagement, volume, TVL)\n- Recency and momentum\n- Alpha potential (congressional trades, insider buys, new pools)\n- Six Hats multi-perspective analysis`;\n  }\n\n  async analyze(context: AgentContext): Promise<AgentResult> {\n    const action = context.action ?? \"hunt\";\n\n    switch (action) {\n      case \"hunt\":\n        return this.performHunt(context.params?.sources as HuntSource[] | undefined);\n\n      case \"status\":\n        return this.getStatus();\n\n      default:\n        return this.createResult(false, null, `Unknown action: ${action}`);\n    }\n  }\n\n  async start(): Promise<void> {\n    if (this.isRunning) {\n      this.log(\"Hunter agent already running\");\n      return;\n    }\n\n    this.isRunning = true;\n    this.log(\"Starting hunter agent\");\n\n    // Schedule jobs for each hunter\n    for (const [source, hunter] of this.hunters) {\n      const schedule = this.getSchedule(source);\n\n      const job = new CronJob(schedule, async () => {\n        this.log(`Running scheduled hunt for ${source}`);\n        await this.huntSource(source, hunter);\n      });\n\n      job.start();\n      this.jobs.set(source, job);\n      this.log(`Scheduled ${source} hunter with cron: ${schedule}`);\n    }\n  }\n\n  async stop(): Promise<void> {\n    this.log(\"Stopping hunter agent\");\n    this.isRunning = false;\n\n    for (const [source, job] of this.jobs) {\n      job.stop();\n      this.log(`Stopped ${source} hunter`);\n    }\n\n    this.jobs.clear();\n  }\n\n  async huntNow(sources?: HuntSource[]): Promise<HuntDiscovery[]> {\n    const targetSources = sources ?? Array.from(this.hunters.keys());\n    const allDiscoveries: HuntDiscovery[] = [];\n\n    for (const source of targetSources) {\n      const hunter = this.hunters.get(source);\n      if (!hunter) continue;\n\n      const discoveries = await this.huntSource(source, hunter);\n      allDiscoveries.push(...discoveries);\n    }\n\n    return allDiscoveries;\n  }\n\n  private async performHunt(\n    sources?: HuntSource[]\n  ): Promise<AgentResult> {\n    try {\n      const discoveries = await this.huntNow(sources);\n\n      return this.createResult(\n        true,\n        {\n          count: discoveries.length,\n          discoveries,\n          sources: sources ?? Array.from(this.hunters.keys()),\n        },\n        undefined,\n        0.9,\n        `Found ${discoveries.length} new discoveries`\n      );\n    } catch (error) {\n      const message = error instanceof Error ? error.message : \"Unknown error\";\n      return this.createResult(false, null, message);\n    }\n  }\n\n  private async huntSource(\n    source: HuntSource,\n    hunter: BaseHunterSource\n  ): Promise<HuntDiscovery[]> {\n    try {\n      this.log(`Hunting ${source}...`);\n\n      // Fetch raw discoveries\n      const rawDiscoveries = await hunter.hunt();\n      this.log(`${source}: Found ${rawDiscoveries.length} raw discoveries`);\n\n      // Transform and filter\n      const discoveries: HuntDiscovery[] = [];\n\n      for (const raw of rawDiscoveries) {\n        const discovery = hunter.transform(raw);\n\n        // Check deduplication\n        if (this.hasSeen(discovery.fingerprint)) {\n          continue;\n        }\n\n        // Mark as seen\n        this.markSeen(discovery.fingerprint);\n        discoveries.push(discovery);\n      }\n\n      this.log(`${source}: ${discoveries.length} new unique discoveries`);\n\n      // Notify callback if provided\n      if (this.onDiscovery && discoveries.length > 0) {\n        await this.onDiscovery(discoveries);\n      }\n\n      return discoveries;\n    } catch (error) {\n      this.log(`${source} hunt failed: ${error}`);\n      return [];\n    }\n  }\n\n  private getStatus(): AgentResult {\n    const status = {\n      isRunning: this.isRunning,\n      hunters: Array.from(this.hunters.keys()),\n      jobs: Array.from(this.jobs.entries()).map(([source, job]) => ({\n        source,\n        running: job.running,\n        nextRun: job.nextDate()?.toISO(),\n      })),\n      seenCount: this.seen.size,\n    };\n\n    return this.createResult(true, status, undefined, 1.0, \"Status retrieved\");\n  }\n\n  private createHunter(config: HunterConfig): BaseHunterSource | null {\n    switch (config.source) {\n      // Social/Tech Sources\n      case \"github\":\n        return new GitHubHunter(config);\n      case \"hackernews\":\n        return new HackerNewsHunter(config);\n      case \"twitter\":\n        return new TwitterHunter(config);\n      case \"reddit\":\n        return new RedditHunter(config);\n      case \"producthunt\":\n        return new ProductHuntHunter(config);\n      case \"arxiv\":\n        return new ArxivHunter(config);\n      case \"lobsters\":\n        return new LobstersHunter(config);\n      case \"devto\":\n        return new DevToHunter(config);\n      case \"tiktok\":\n        return new TikTokHunter(config);\n      // DeFi/Crypto Sources\n      case \"defillama\":\n        return new DeFiLlamaHunter(config);\n      case \"geckoterminal\":\n        return new GeckoTerminalHunter(config);\n      case \"feargreed\":\n        return new FearGreedHunter(config);\n      case \"binance\":\n        return new BinanceHunter(config);\n      // Economic/Financial Sources\n      case \"fred\":\n        return new FREDHunter(config);\n      case \"sec\":\n        return new SECHunter(config);\n      case \"finnhub\":\n        return new FinnhubHunter(config);\n      // Alternative Sources\n      case \"npm\":\n        return new NPMHunter(config);\n      default:\n        this.log(`Unknown source: ${config.source}`);\n        return null;\n    }\n  }\n\n  private getSchedule(source: HuntSource): string {\n    const config = this.findSourceConfig(source);\n    return config?.schedule ?? DEFAULT_SCHEDULES[source];\n  }\n\n  private findSourceConfig(source: HuntSource): HunterConfig | undefined {\n    const agentConfig = this.config as HunterAgentConfig;\n    return agentConfig.sources.find((s) => s.source === source);\n  }\n\n  private hasSeen(fingerprint: string): boolean {\n    const timestamp = this.seen.get(fingerprint);\n    if (!timestamp) return false;\n\n    // Check if expired\n    if (Date.now() - timestamp > this.deduplicationTTL) {\n      this.seen.delete(fingerprint);\n      return false;\n    }\n\n    return true;\n  }\n\n  private markSeen(fingerprint: string): void {\n    this.seen.set(fingerprint, Date.now());\n\n    // Cleanup old entries periodically\n    if (this.seen.size > 10000) {\n      this.cleanupSeen();\n    }\n  }\n\n  private cleanupSeen(): void {\n    const now = Date.now();\n    for (const [fingerprint, timestamp] of this.seen) {\n      if (now - timestamp > this.deduplicationTTL) {\n        this.seen.delete(fingerprint);\n      }\n    }\n  }\n\n  // ============================================\n  // TOKEN SCANNER METHODS\n  // ============================================\n\n  /**\n   * Scan a single token by mint address\n   * Combines data from RugCheck, Pump.fun, Vybe, and CoinGecko\n   */\n  async scanToken(mint: string): Promise<TokenAnalysis> {\n    this.log(`Scanning token: ${mint}`);\n    return this.scanner.scanToken(mint);\n  }\n\n  /**\n   * Scan new launches from Pump.fun\n   * Returns analyzed tokens sorted by overall score\n   */\n  async scanNewLaunches(options?: Partial<ScanOptions>): Promise<TokenAnalysis[]> {\n    this.log(`Scanning new launches with options: ${JSON.stringify(options)}`);\n    const results = await this.scanner.scanNewLaunches(options);\n    // Sort by overall score descending\n    return results.sort((a, b) => b.scores.overall - a.scores.overall);\n  }\n\n  /**\n   * Scan multiple tokens in batch\n   */\n  async scanBatch(mints: string[]): Promise<TokenAnalysis[]> {\n    this.log(`Batch scanning ${mints.length} tokens`);\n    return this.scanner.scanBatch(mints);\n  }\n\n  /**\n   * Get the underlying token scanner instance\n   */\n  getScanner(): TokenScanner {\n    return this.scanner;\n  }\n}\n","import { z } from \"zod\";\n\n// Recommendation levels\nexport const RecommendationSchema = z.enum([\n  \"STRONG_BUY\",\n  \"BUY\",\n  \"HOLD\",\n  \"SELL\",\n  \"AVOID\",\n]);\nexport type Recommendation = z.infer<typeof RecommendationSchema>;\n\n// Score weights\nexport const SCORE_WEIGHTS = {\n  safety: 0.30,\n  fundamentals: 0.25,\n  momentum: 0.20,\n  onChain: 0.15,\n  sentiment: 0.10,\n} as const;\n\n// Score thresholds for recommendations\nexport const RECOMMENDATION_THRESHOLDS = {\n  STRONG_BUY: 80,\n  BUY: 65,\n  HOLD: 45,\n  SELL: 25,\n  // Below 25 = AVOID\n} as const;\n\n// Individual scores\nexport const ScoresSchema = z.object({\n  safety: z.number().min(0).max(100),\n  fundamentals: z.number().min(0).max(100),\n  momentum: z.number().min(0).max(100),\n  onChain: z.number().min(0).max(100),\n  sentiment: z.number().min(0).max(100),\n  overall: z.number().min(0).max(100),\n});\nexport type Scores = z.infer<typeof ScoresSchema>;\n\n// RugCheck data shape\nexport const RugCheckDataSchema = z.object({\n  score: z.number().optional(),\n  rugged: z.boolean().optional(),\n  risks: z.array(z.string()).optional(),\n  mintAuthority: z.boolean().optional(),\n  freezeAuthority: z.boolean().optional(),\n  lpLocked: z.boolean().optional(),\n  topHoldersPercent: z.number().optional(),\n});\nexport type RugCheckData = z.infer<typeof RugCheckDataSchema>;\n\n// PumpFun data shape\nexport const PumpFunDataSchema = z.object({\n  mint: z.string(),\n  name: z.string().optional(),\n  symbol: z.string().optional(),\n  description: z.string().optional(),\n  imageUri: z.string().optional(),\n  twitter: z.string().optional(),\n  telegram: z.string().optional(),\n  website: z.string().optional(),\n  bondingCurveProgress: z.number().optional(),\n  marketCap: z.number().optional(),\n  complete: z.boolean().optional(),\n  raydiumPool: z.string().optional(),\n  createdAt: z.date().optional(),\n});\nexport type PumpFunData = z.infer<typeof PumpFunDataSchema>;\n\n// Vybe data shape\nexport const VybeDataSchema = z.object({\n  holders: z.number().optional(),\n  topHolderPercent: z.number().optional(),\n  top10Percent: z.number().optional(),\n  whaleCount: z.number().optional(),\n  concentrationRisk: z.enum([\"low\", \"medium\", \"high\"]).optional(),\n  price: z.number().optional(),\n  volume24h: z.number().optional(),\n});\nexport type VybeData = z.infer<typeof VybeDataSchema>;\n\n// CoinGecko/Market data shape\nexport const MarketDataSchema = z.object({\n  price: z.number().optional(),\n  marketCap: z.number().optional(),\n  volume24h: z.number().optional(),\n  priceChange24h: z.number().optional(),\n  priceChange7d: z.number().optional(),\n  liquidity: z.number().optional(),\n  fdv: z.number().optional(),\n  ath: z.number().optional(),\n  athChangePercent: z.number().optional(),\n});\nexport type MarketData = z.infer<typeof MarketDataSchema>;\n\n// Combined source data\nexport const SourceDataSchema = z.object({\n  rugcheck: RugCheckDataSchema.optional(),\n  pumpfun: PumpFunDataSchema.optional(),\n  vybe: VybeDataSchema.optional(),\n  market: MarketDataSchema.optional(),\n});\nexport type SourceData = z.infer<typeof SourceDataSchema>;\n\n// Main TokenAnalysis result\nexport const TokenAnalysisSchema = z.object({\n  mint: z.string(),\n  symbol: z.string(),\n  name: z.string(),\n\n  scores: ScoresSchema,\n  risks: z.array(z.string()),\n\n  recommendation: RecommendationSchema,\n  confidence: z.number().min(0).max(1),\n\n  sources: SourceDataSchema,\n  scannedAt: z.date(),\n});\nexport type TokenAnalysis = z.infer<typeof TokenAnalysisSchema>;\n\n// Scan options\nexport const ScanOptionsSchema = z.object({\n  limit: z.number().min(1).max(100).default(10),\n  minProgress: z.number().min(0).max(100).default(10),\n  includeNsfw: z.boolean().default(false),\n  minSafetyScore: z.number().min(0).max(100).optional(),\n});\nexport type ScanOptions = z.infer<typeof ScanOptionsSchema>;\n\n// Scanner configuration\nexport interface TokenScannerConfig {\n  vybeApiKey?: string;\n  enableVybe?: boolean;\n  enableRugCheck?: boolean;\n  enablePumpFun?: boolean;\n  enableMarketData?: boolean;\n  timeout?: number;\n}\n","import {\n  type Scores,\n  type RugCheckData,\n  type VybeData,\n  type MarketData,\n  type PumpFunData,\n  type Recommendation,\n  SCORE_WEIGHTS,\n  RECOMMENDATION_THRESHOLDS,\n} from \"./types.js\";\n\n/**\n * Calculate safety score (30% weight)\n * Sources: RugCheck score, mint/freeze authority, holder distribution\n */\nexport function calculateSafetyScore(\n  rugcheck?: RugCheckData,\n  vybe?: VybeData\n): { score: number; risks: string[] } {\n  const risks: string[] = [];\n  let score = 50; // Base neutral score\n\n  if (!rugcheck && !vybe) {\n    risks.push(\"No safety data available\");\n    return { score: 30, risks };\n  }\n\n  // RugCheck score (primary factor)\n  if (rugcheck?.score !== undefined) {\n    score = rugcheck.score;\n\n    if (rugcheck.rugged) {\n      risks.push(\"TOKEN RUGGED\");\n      return { score: 0, risks };\n    }\n\n    if (rugcheck.mintAuthority) {\n      score -= 15;\n      risks.push(\"Mint authority enabled\");\n    }\n\n    if (rugcheck.freezeAuthority) {\n      score -= 10;\n      risks.push(\"Freeze authority enabled\");\n    }\n\n    if (!rugcheck.lpLocked) {\n      score -= 10;\n      risks.push(\"Liquidity not locked\");\n    }\n\n    if (rugcheck.topHoldersPercent && rugcheck.topHoldersPercent > 50) {\n      score -= 15;\n      risks.push(`Top holders own ${rugcheck.topHoldersPercent.toFixed(1)}%`);\n    }\n\n    if (rugcheck.risks) {\n      risks.push(...rugcheck.risks);\n    }\n  }\n\n  // Vybe concentration data (supplement)\n  if (vybe?.concentrationRisk === \"high\") {\n    score -= 10;\n    if (!risks.some((r) => r.includes(\"holder\"))) {\n      risks.push(\"High holder concentration\");\n    }\n  }\n\n  if (vybe?.topHolderPercent && vybe.topHolderPercent > 30) {\n    score -= 5;\n    if (!risks.some((r) => r.includes(\"holder\"))) {\n      risks.push(`Single wallet owns ${vybe.topHolderPercent.toFixed(1)}%`);\n    }\n  }\n\n  return { score: Math.max(0, Math.min(100, score)), risks };\n}\n\n/**\n * Calculate fundamentals score (25% weight)\n * Sources: Market cap, liquidity, volume, age\n */\nexport function calculateFundamentalsScore(\n  market?: MarketData,\n  pumpfun?: PumpFunData\n): number {\n  if (!market && !pumpfun) return 40; // Neutral when no data\n\n  let score = 50;\n\n  // Market cap tier\n  const marketCap = market?.marketCap || pumpfun?.marketCap || 0;\n  if (marketCap > 10_000_000) score += 20; // >$10M\n  else if (marketCap > 1_000_000) score += 15; // >$1M\n  else if (marketCap > 100_000) score += 10; // >$100K\n  else if (marketCap > 10_000) score += 5; // >$10K\n  else score -= 5; // Very low mcap\n\n  // Liquidity\n  if (market?.liquidity) {\n    if (market.liquidity > 500_000) score += 15;\n    else if (market.liquidity > 100_000) score += 10;\n    else if (market.liquidity > 10_000) score += 5;\n    else score -= 10; // Low liquidity = high slippage\n  }\n\n  // Volume relative to mcap (healthy = 10-50%)\n  if (market?.volume24h && marketCap > 0) {\n    const volumeRatio = market.volume24h / marketCap;\n    if (volumeRatio > 0.1 && volumeRatio < 0.5) score += 10;\n    else if (volumeRatio > 0.5) score += 5; // High but possibly wash trading\n    else score -= 5; // Low activity\n  }\n\n  // Bonding curve progress (PumpFun)\n  if (pumpfun?.bondingCurveProgress !== undefined) {\n    if (pumpfun.bondingCurveProgress >= 100 || pumpfun.complete) {\n      score += 10; // Graduated to Raydium\n    } else if (pumpfun.bondingCurveProgress > 50) {\n      score += 5; // Good progress\n    }\n  }\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Calculate momentum score (20% weight)\n * Sources: Price change 24h, volume spike, trending\n */\nexport function calculateMomentumScore(market?: MarketData): number {\n  if (!market) return 50; // Neutral\n\n  let score = 50;\n\n  // Price change 24h\n  const priceChange = market.priceChange24h || 0;\n  if (priceChange > 50) score += 25; // >50% up\n  else if (priceChange > 20) score += 15; // >20% up\n  else if (priceChange > 5) score += 10; // >5% up\n  else if (priceChange > 0) score += 5; // Slightly up\n  else if (priceChange > -10) score -= 5; // Slightly down\n  else if (priceChange > -30) score -= 15; // Significant drop\n  else score -= 25; // Major dump\n\n  // 7-day trend (if available)\n  if (market.priceChange7d !== undefined) {\n    if (market.priceChange7d > 100) score += 10;\n    else if (market.priceChange7d > 0) score += 5;\n    else if (market.priceChange7d < -50) score -= 10;\n  }\n\n  // Distance from ATH\n  if (market.athChangePercent !== undefined) {\n    if (market.athChangePercent > -10) score += 5; // Near ATH\n    else if (market.athChangePercent < -90) score -= 10; // 90%+ down from ATH\n  }\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Calculate on-chain score (15% weight)\n * Sources: Vybe holder count, whale %, tx count\n */\nexport function calculateOnChainScore(vybe?: VybeData): number {\n  if (!vybe) return 50; // Neutral\n\n  let score = 50;\n\n  // Holder count\n  if (vybe.holders !== undefined) {\n    if (vybe.holders > 10000) score += 20;\n    else if (vybe.holders > 1000) score += 15;\n    else if (vybe.holders > 100) score += 10;\n    else if (vybe.holders > 10) score += 5;\n    else score -= 10; // Very few holders\n  }\n\n  // Top 10 concentration\n  if (vybe.top10Percent !== undefined) {\n    if (vybe.top10Percent < 30) score += 15; // Well distributed\n    else if (vybe.top10Percent < 50) score += 5;\n    else if (vybe.top10Percent > 70) score -= 15; // Very concentrated\n    else score -= 5;\n  }\n\n  // Whale count\n  if (vybe.whaleCount !== undefined) {\n    if (vybe.whaleCount === 0) score += 10; // No whales\n    else if (vybe.whaleCount <= 2) score += 5;\n    else if (vybe.whaleCount > 5) score -= 10; // Many whales\n  }\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Calculate sentiment score (10% weight)\n * Sources: Social presence, community size\n */\nexport function calculateSentimentScore(pumpfun?: PumpFunData): number {\n  if (!pumpfun) return 50; // Neutral\n\n  let score = 50;\n\n  // Social links presence\n  if (pumpfun.twitter) score += 15;\n  if (pumpfun.telegram) score += 10;\n  if (pumpfun.website) score += 10;\n\n  // Description quality\n  if (pumpfun.description) {\n    if (pumpfun.description.length > 100) score += 10;\n    else if (pumpfun.description.length > 20) score += 5;\n  }\n\n  // Image/branding\n  if (pumpfun.imageUri) score += 5;\n\n  // Penalize no socials\n  if (!pumpfun.twitter && !pumpfun.telegram && !pumpfun.website) {\n    score -= 20;\n  }\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Calculate overall weighted score\n */\nexport function calculateOverallScore(scores: Omit<Scores, \"overall\">): number {\n  const overall =\n    scores.safety * SCORE_WEIGHTS.safety +\n    scores.fundamentals * SCORE_WEIGHTS.fundamentals +\n    scores.momentum * SCORE_WEIGHTS.momentum +\n    scores.onChain * SCORE_WEIGHTS.onChain +\n    scores.sentiment * SCORE_WEIGHTS.sentiment;\n\n  return Math.round(overall * 10) / 10; // Round to 1 decimal\n}\n\n/**\n * Get recommendation based on overall score and risks\n */\nexport function getRecommendation(\n  overallScore: number,\n  risks: string[]\n): Recommendation {\n  // Critical risks override score\n  const criticalRisks = risks.filter(\n    (r) =>\n      r.includes(\"RUGGED\") ||\n      r.includes(\"Mint authority\") ||\n      r.includes(\"No safety data\")\n  );\n\n  if (criticalRisks.length > 0 && overallScore < 70) {\n    return \"AVOID\";\n  }\n\n  // Score-based recommendation\n  if (overallScore >= RECOMMENDATION_THRESHOLDS.STRONG_BUY) return \"STRONG_BUY\";\n  if (overallScore >= RECOMMENDATION_THRESHOLDS.BUY) return \"BUY\";\n  if (overallScore >= RECOMMENDATION_THRESHOLDS.HOLD) return \"HOLD\";\n  if (overallScore >= RECOMMENDATION_THRESHOLDS.SELL) return \"SELL\";\n  return \"AVOID\";\n}\n\n/**\n * Calculate confidence based on data availability\n */\nexport function calculateConfidence(sources: {\n  rugcheck?: unknown;\n  pumpfun?: unknown;\n  vybe?: unknown;\n  market?: unknown;\n}): number {\n  let available = 0;\n  let total = 4;\n\n  if (sources.rugcheck) available++;\n  if (sources.pumpfun) available++;\n  if (sources.vybe) available++;\n  if (sources.market) available++;\n\n  // Base confidence on data availability\n  const dataConfidence = available / total;\n\n  // Minimum confidence floor\n  return Math.max(0.3, dataConfidence);\n}\n","import {\n  type TokenAnalysis,\n  type TokenScannerConfig,\n  type ScanOptions,\n  type RugCheckData,\n  type PumpFunData,\n  type VybeData,\n  type MarketData,\n  type Scores,\n  ScanOptionsSchema,\n} from \"./types.js\";\nimport {\n  calculateSafetyScore,\n  calculateFundamentalsScore,\n  calculateMomentumScore,\n  calculateOnChainScore,\n  calculateSentimentScore,\n  calculateOverallScore,\n  getRecommendation,\n  calculateConfidence,\n} from \"./aggregators.js\";\nimport { RugCheckHunter } from \"../sources/rugcheck-hunter.js\";\nimport { PumpFunHunter } from \"../sources/pumpfun-hunter.js\";\nimport { VybeHunter } from \"../sources/vybe-hunter.js\";\n\nconst DEFAULT_CONFIG: TokenScannerConfig = {\n  enableRugCheck: true,\n  enablePumpFun: true,\n  enableVybe: true,\n  enableMarketData: true,\n  timeout: 30000,\n};\n\nexport class TokenScanner {\n  private config: TokenScannerConfig;\n  private rugcheck: RugCheckHunter;\n  private pumpfun: PumpFunHunter;\n  private vybe: VybeHunter;\n\n  constructor(config: Partial<TokenScannerConfig> = {}) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n\n    // Initialize hunters\n    this.rugcheck = new RugCheckHunter({\n      source: \"rugcheck\",\n      enabled: this.config.enableRugCheck ?? true,\n    });\n\n    this.pumpfun = new PumpFunHunter({\n      source: \"pumpfun\",\n      enabled: this.config.enablePumpFun ?? true,\n    });\n\n    this.vybe = new VybeHunter({\n      source: \"vybe\",\n      enabled: this.config.enableVybe ?? true,\n      apiKey: this.config.vybeApiKey,\n    });\n  }\n\n  /**\n   * Scan a single token by mint address\n   */\n  async scanToken(mint: string): Promise<TokenAnalysis> {\n    // Fetch data from all sources in parallel\n    const [rugcheckData, pumpfunData, vybeData] = await Promise.all([\n      this.fetchRugCheckData(mint),\n      this.fetchPumpFunData(mint),\n      this.fetchVybeData(mint),\n    ]);\n\n    // Build market data from available sources\n    const marketData = this.buildMarketData(pumpfunData, vybeData);\n\n    return this.analyzeToken(mint, {\n      rugcheck: rugcheckData,\n      pumpfun: pumpfunData,\n      vybe: vybeData,\n      market: marketData,\n    });\n  }\n\n  /**\n   * Scan new launches from Pump.fun\n   */\n  async scanNewLaunches(options?: Partial<ScanOptions>): Promise<TokenAnalysis[]> {\n    const opts = ScanOptionsSchema.parse(options || {});\n\n    // Get new coins from Pump.fun\n    const coins = await this.pumpfun.fetchNewCoins(opts.limit * 2); // Fetch extra for filtering\n\n    // Filter by progress using inline calculation\n    const filtered = coins.filter((coin) => {\n      const progress = this.calculateBondingProgress(coin);\n      return progress >= opts.minProgress;\n    });\n\n    // Analyze each token\n    const analyses: TokenAnalysis[] = [];\n\n    for (const coin of filtered.slice(0, opts.limit)) {\n      try {\n        const analysis = await this.scanToken(coin.mint);\n\n        // Apply safety filter if specified\n        if (\n          opts.minSafetyScore &&\n          analysis.scores.safety < opts.minSafetyScore\n        ) {\n          continue;\n        }\n\n        analyses.push(analysis);\n      } catch (error) {\n        console.warn(`[TokenScanner] Failed to scan ${coin.mint}:`, error);\n      }\n    }\n\n    return analyses;\n  }\n\n  /**\n   * Scan multiple tokens in batch\n   */\n  async scanBatch(mints: string[]): Promise<TokenAnalysis[]> {\n    const results: TokenAnalysis[] = [];\n\n    // Process in batches of 5 to respect rate limits\n    const batchSize = 5;\n    for (let i = 0; i < mints.length; i += batchSize) {\n      const batch = mints.slice(i, i + batchSize);\n      const batchResults = await Promise.all(\n        batch.map((mint) =>\n          this.scanToken(mint).catch((err) => {\n            console.warn(`[TokenScanner] Failed to scan ${mint}:`, err);\n            return null;\n          })\n        )\n      );\n\n      results.push(\n        ...batchResults.filter((r): r is TokenAnalysis => r !== null)\n      );\n\n      // Rate limit delay between batches\n      if (i + batchSize < mints.length) {\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Calculate bonding curve progress for PumpFun coins\n   */\n  private calculateBondingProgress(coin: { complete?: boolean; virtual_sol_reserves?: number }): number {\n    if (coin.complete) return 100;\n    const targetSol = 85; // ~85 SOL to complete\n    const currentSol = (coin.virtual_sol_reserves || 0) / 1e9;\n    return Math.min(100, (currentSol / targetSol) * 100);\n  }\n\n  /**\n   * Build market data from available sources\n   */\n  private buildMarketData(\n    pumpfun?: PumpFunData,\n    vybe?: VybeData\n  ): MarketData | undefined {\n    if (!pumpfun && !vybe) return undefined;\n\n    return {\n      price: vybe?.price,\n      marketCap: pumpfun?.marketCap,\n      volume24h: vybe?.volume24h,\n      priceChange24h: undefined,\n      priceChange7d: undefined,\n      liquidity: undefined,\n      fdv: undefined,\n      ath: undefined,\n      athChangePercent: undefined,\n    };\n  }\n\n  /**\n   * Analyze token data and compute scores\n   */\n  private analyzeToken(\n    mint: string,\n    sources: {\n      rugcheck?: RugCheckData;\n      pumpfun?: PumpFunData;\n      vybe?: VybeData;\n      market?: MarketData;\n    }\n  ): TokenAnalysis {\n    // Calculate individual scores\n    const { score: safetyScore, risks } = calculateSafetyScore(\n      sources.rugcheck,\n      sources.vybe\n    );\n    const fundamentalsScore = calculateFundamentalsScore(\n      sources.market,\n      sources.pumpfun\n    );\n    const momentumScore = calculateMomentumScore(sources.market);\n    const onChainScore = calculateOnChainScore(sources.vybe);\n    const sentimentScore = calculateSentimentScore(sources.pumpfun);\n\n    // Calculate overall score\n    const partialScores: Omit<Scores, \"overall\"> = {\n      safety: safetyScore,\n      fundamentals: fundamentalsScore,\n      momentum: momentumScore,\n      onChain: onChainScore,\n      sentiment: sentimentScore,\n    };\n    const overallScore = calculateOverallScore(partialScores);\n\n    // Get recommendation\n    const recommendation = getRecommendation(overallScore, risks);\n\n    // Calculate confidence\n    const confidence = calculateConfidence(sources);\n\n    // Extract token info\n    const symbol = sources.pumpfun?.symbol || \"UNKNOWN\";\n    const name = sources.pumpfun?.name || symbol;\n\n    return {\n      mint,\n      symbol,\n      name,\n      scores: {\n        ...partialScores,\n        overall: overallScore,\n      },\n      risks,\n      recommendation,\n      confidence,\n      sources: {\n        rugcheck: sources.rugcheck,\n        pumpfun: sources.pumpfun,\n        vybe: sources.vybe,\n        market: sources.market,\n      },\n      scannedAt: new Date(),\n    };\n  }\n\n  /**\n   * Fetch RugCheck safety data\n   */\n  private async fetchRugCheckData(mint: string): Promise<RugCheckData | undefined> {\n    if (!this.config.enableRugCheck) return undefined;\n\n    try {\n      const summary = await this.rugcheck.getTokenSummary(mint);\n      if (!summary) return undefined;\n\n      const report = await this.rugcheck.getTokenReport(mint);\n\n      // Extract data from nested structure\n      const hasMintAuthority = !!report?.token?.mintAuthority;\n      const hasFreezeAuthority = !!report?.token?.freezeAuthority;\n\n      // Calculate top holders percentage\n      let topHoldersPercent: number | undefined;\n      if (report?.topHolders && report.topHolders.length > 0) {\n        topHoldersPercent = report.topHolders\n          .slice(0, 10)\n          .reduce((sum, h) => sum + (h.pct || 0), 0);\n      }\n\n      return {\n        score: summary.score,\n        rugged: summary.rugged,\n        risks: report?.risks?.map((r) => r.name || r.description || \"Unknown risk\") || [],\n        mintAuthority: hasMintAuthority,\n        freezeAuthority: hasFreezeAuthority,\n        lpLocked: undefined, // Not directly available in API\n        topHoldersPercent,\n      };\n    } catch (error) {\n      console.warn(`[TokenScanner] RugCheck fetch failed for ${mint}:`, error);\n      return undefined;\n    }\n  }\n\n  /**\n   * Fetch Pump.fun token data\n   */\n  private async fetchPumpFunData(mint: string): Promise<PumpFunData | undefined> {\n    if (!this.config.enablePumpFun) return undefined;\n\n    try {\n      const coin = await this.pumpfun.getCoinDetails(mint);\n      if (!coin) return undefined;\n\n      return {\n        mint: coin.mint,\n        name: coin.name,\n        symbol: coin.symbol,\n        description: coin.description,\n        imageUri: coin.image_uri,\n        twitter: coin.twitter,\n        telegram: coin.telegram,\n        website: coin.website,\n        bondingCurveProgress: this.calculateBondingProgress(coin),\n        marketCap: coin.usd_market_cap || coin.market_cap,\n        complete: coin.complete,\n        raydiumPool: coin.raydium_pool,\n        createdAt: coin.created_timestamp\n          ? new Date(coin.created_timestamp)\n          : undefined,\n      };\n    } catch (error) {\n      console.warn(`[TokenScanner] PumpFun fetch failed for ${mint}:`, error);\n      return undefined;\n    }\n  }\n\n  /**\n   * Fetch Vybe on-chain data\n   */\n  private async fetchVybeData(mint: string): Promise<VybeData | undefined> {\n    if (!this.config.enableVybe || !this.config.vybeApiKey) return undefined;\n\n    try {\n      const [details, concentration] = await Promise.all([\n        this.vybe.fetchTokenDetails(mint),\n        this.vybe.getConcentrationRisk(mint),\n      ]);\n\n      return {\n        holders: details?.holders,\n        topHolderPercent: concentration.topHolderPercent,\n        top10Percent: concentration.top10Percent,\n        whaleCount: concentration.whaleCount,\n        concentrationRisk: concentration.risk,\n        price: details?.price,\n        volume24h: details?.volume_24h,\n      };\n    } catch (error) {\n      console.warn(`[TokenScanner] Vybe fetch failed for ${mint}:`, error);\n      return undefined;\n    }\n  }\n}\n\n// Re-export types\nexport * from \"./types.js\";\nexport * from \"./aggregators.js\";\n"],"mappings":"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","names":[]}