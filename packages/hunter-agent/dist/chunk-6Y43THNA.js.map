{"version":3,"sources":["../src/sources/github-hunter.ts","../src/types.ts","../src/sources/hackernews-hunter.ts","../src/sources/twitter-hunter.ts","../src/sources/reddit-hunter.ts","../src/sources/producthunt-hunter.ts","../src/sources/arxiv-hunter.ts","../src/sources/lobsters-hunter.ts","../src/sources/devto-hunter.ts","../src/sources/tiktok-hunter.ts","../src/sources/defillama-hunter.ts","../src/sources/geckoterminal-hunter.ts","../src/sources/feargreed-hunter.ts","../src/sources/binance-hunter.ts","../src/sources/coingecko-hunter.ts","../src/sources/coinmarketcap-hunter.ts","../src/sources/lunarcrush-hunter.ts","../src/sources/rugcheck-hunter.ts","../src/sources/pumpfun-hunter.ts","../src/sources/vybe-hunter.ts","../src/sources/polymarket-hunter.ts","../src/sources/kalshi-hunter.ts","../src/sources/fred-hunter.ts","../src/sources/sec-hunter.ts","../src/sources/finnhub-hunter.ts","../src/sources/npm-hunter.ts","../src/sources/rss-hunter.ts"],"sourcesContent":["import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type GitHubRepo,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\nconst GITHUB_API = \"https://api.github.com\";\n\n// Topics to search for relevant repos\nconst SEARCH_TOPICS = [\n  \"solana\",\n  \"ethereum\",\n  \"web3\",\n  \"defi\",\n  \"ai-agents\",\n  \"llm\",\n  \"langchain\",\n  \"blockchain\",\n];\n\nexport class GitHubHunter implements BaseHunterSource {\n  source = \"github\" as const;\n  private token: string;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.token = config.apiKey ?? config.apiToken ?? process.env.GITHUB_TOKEN ?? \"\";\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Search trending repos by topic\n    for (const topic of SEARCH_TOPICS) {\n      const repos = await this.searchTrendingByTopic(topic);\n      discoveries.push(...repos.map((r) => this.repoToRawDiscovery(r)));\n    }\n\n    // Search recently created repos with high stars\n    const recentHot = await this.searchRecentHotRepos();\n    discoveries.push(...recentHot.map((r) => this.repoToRawDiscovery(r)));\n\n    // Deduplicate by URL\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceUrl)) return false;\n      seen.add(d.sourceUrl);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as GitHubRepo | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"github\",\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, metadata?.topics ?? []),\n      tags: metadata?.topics ?? [],\n      language: metadata?.language ?? undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript) ||\n          metadata?.language?.toLowerCase() === \"typescript\",\n        recentActivity: this.isRecentlyActive(metadata),\n        highEngagement: (raw.metrics.stars ?? 0) > 100 || (raw.metrics.forks ?? 0) > 20,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async searchTrendingByTopic(topic: string): Promise<GitHubRepo[]> {\n    // Search for repos created in the last 7 days with this topic\n    const sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n    const dateStr = sevenDaysAgo.toISOString().split(\"T\")[0];\n\n    const minStars = this.config.filters?.minStars ?? 10;\n\n    const query = encodeURIComponent(\n      `topic:${topic} created:>${dateStr} stars:>=${minStars}`\n    );\n\n    const response = await this.fetchGitHub(\n      `/search/repositories?q=${query}&sort=stars&order=desc&per_page=30`\n    );\n\n    if (!response.ok) {\n      console.error(`[GitHubHunter] Search failed for topic ${topic}:`, response.status);\n      return [];\n    }\n\n    const data = await response.json();\n    return data.items ?? [];\n  }\n\n  private async searchRecentHotRepos(): Promise<GitHubRepo[]> {\n    // Find repos that gained a lot of stars recently\n    const threeDaysAgo = new Date();\n    threeDaysAgo.setDate(threeDaysAgo.getDate() - 3);\n    const dateStr = threeDaysAgo.toISOString().split(\"T\")[0];\n\n    const query = encodeURIComponent(`created:>${dateStr} stars:>=50`);\n\n    const response = await this.fetchGitHub(\n      `/search/repositories?q=${query}&sort=stars&order=desc&per_page=50`\n    );\n\n    if (!response.ok) {\n      console.error(\"[GitHubHunter] Recent hot search failed:\", response.status);\n      return [];\n    }\n\n    const data = await response.json();\n    return data.items ?? [];\n  }\n\n  private async fetchGitHub(path: string): Promise<Response> {\n    const headers: Record<string, string> = {\n      Accept: \"application/vnd.github.v3+json\",\n      \"User-Agent\": \"gICM-Hunter\",\n    };\n\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n\n    return fetch(`${GITHUB_API}${path}`, { headers });\n  }\n\n  private repoToRawDiscovery(repo: GitHubRepo): RawDiscovery {\n    return {\n      sourceId: String(repo.id),\n      sourceUrl: repo.html_url,\n      title: repo.full_name,\n      description: repo.description ?? undefined,\n      author: repo.owner.login,\n      authorUrl: repo.owner.html_url,\n      publishedAt: new Date(repo.created_at),\n      metrics: {\n        stars: repo.stargazers_count,\n        forks: repo.forks_count,\n        watchers: repo.watchers_count,\n        openIssues: repo.open_issues_count,\n      },\n      metadata: repo,\n    };\n  }\n\n  private categorize(\n    text: string,\n    topics: string[]\n  ): HuntDiscovery[\"category\"] {\n    const allText = `${text} ${topics.join(\" \")}`.toLowerCase();\n\n    if (this.hasKeywords(allText, [\"defi\", \"lending\", \"dex\", \"swap\", \"yield\"])) {\n      return \"defi\";\n    }\n    if (this.hasKeywords(allText, [\"nft\", \"metaplex\", \"opensea\", \"collectible\"])) {\n      return \"nft\";\n    }\n    if (this.hasKeywords(allText, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (this.hasKeywords(allText, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (this.hasKeywords(allText, [\"cli\", \"tool\", \"sdk\", \"library\", \"framework\"])) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecentlyActive(repo?: GitHubRepo): boolean {\n    if (!repo?.pushed_at) return false;\n    const lastPush = new Date(repo.pushed_at);\n    const daysSinceLastPush =\n      (Date.now() - lastPush.getTime()) / (1000 * 60 * 60 * 24);\n    return daysSinceLastPush < 7;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `github:${raw.sourceUrl}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { z } from \"zod\";\n\n// Hunt sources\nexport const HuntSourceSchema = z.enum([\n  // Social/Tech\n  \"github\",\n  \"hackernews\",\n  \"twitter\",\n  \"reddit\",\n  \"producthunt\",\n  \"arxiv\",\n  \"lobsters\",\n  \"devto\",\n  \"tiktok\",\n  // DeFi/Crypto\n  \"defillama\",\n  \"geckoterminal\",\n  \"feargreed\",\n  \"binance\",\n  \"coingecko\", // Market data, trending, categories\n  \"coinmarketcap\", // 2.4M assets, historical OHLCV, global metrics\n  \"lunarcrush\", // Social sentiment metrics\n  // Solana-Specific (FREE)\n  \"rugcheck\", // Token safety scanner (FREE, no auth)\n  \"pumpfun\", // Memecoin launches (FREE, no auth)\n  \"vybe\", // Enterprise Solana data (FREE tier, API key)\n  // Prediction Markets\n  \"polymarket\",\n  \"kalshi\",\n  // Economic/Financial\n  \"fred\",\n  \"sec\",\n  \"finnhub\",\n  // Alternative\n  \"npm\",\n  \"rss\", // NEW: Aggregated news feeds\n]);\nexport type HuntSource = z.infer<typeof HuntSourceSchema>;\n\n// Raw discovery from source\nexport const RawDiscoverySchema = z.object({\n  sourceId: z.string(),\n  sourceUrl: z.string().url(),\n  title: z.string(),\n  description: z.string().optional(),\n  author: z.string().optional(),\n  authorUrl: z.string().optional(),\n  publishedAt: z.date().optional(),\n  // Metrics (source-dependent)\n  metrics: z.object({\n    stars: z.number().optional(),\n    forks: z.number().optional(),\n    watchers: z.number().optional(),\n    openIssues: z.number().optional(),\n    points: z.number().optional(),\n    comments: z.number().optional(),\n    likes: z.number().optional(),\n    reposts: z.number().optional(),\n    views: z.number().optional(),\n  }),\n  // Source-specific metadata\n  metadata: z.record(z.unknown()).optional(),\n});\nexport type RawDiscovery = z.infer<typeof RawDiscoverySchema>;\n\n// Processed discovery with relevance scoring\nexport const HuntDiscoverySchema = z.object({\n  id: z.string(),\n  source: HuntSourceSchema,\n  sourceId: z.string(),\n  sourceUrl: z.string().url(),\n  title: z.string(),\n  description: z.string().optional(),\n  author: z.string().optional(),\n  authorUrl: z.string().optional(),\n  publishedAt: z.date().optional(),\n  discoveredAt: z.date(),\n  // Categorization\n  category: z.enum([\"web3\", \"ai\", \"defi\", \"nft\", \"tooling\", \"other\"]).optional(),\n  tags: z.array(z.string()).default([]),\n  language: z.string().optional(),\n  // Metrics\n  metrics: z.object({\n    stars: z.number().optional(),\n    forks: z.number().optional(),\n    watchers: z.number().optional(),\n    openIssues: z.number().optional(),\n    points: z.number().optional(),\n    comments: z.number().optional(),\n    likes: z.number().optional(),\n    reposts: z.number().optional(),\n    views: z.number().optional(),\n  }),\n  // Relevance factors (computed locally)\n  relevanceFactors: z.object({\n    hasWeb3Keywords: z.boolean().default(false),\n    hasAIKeywords: z.boolean().default(false),\n    hasSolanaKeywords: z.boolean().default(false),\n    hasEthereumKeywords: z.boolean().default(false),\n    hasTypeScript: z.boolean().default(false),\n    recentActivity: z.boolean().default(false),\n    highEngagement: z.boolean().default(false),\n    isShowHN: z.boolean().default(false),\n  }),\n  // Raw metadata for later processing\n  rawMetadata: z.record(z.unknown()).optional(),\n  // Fingerprint for deduplication\n  fingerprint: z.string(),\n});\nexport type HuntDiscovery = z.infer<typeof HuntDiscoverySchema>;\n\n// Hunter configuration\nexport interface HunterConfig {\n  source: HuntSource;\n  enabled: boolean;\n  schedule?: string; // Cron expression\n  // API credentials\n  apiKey?: string;\n  apiToken?: string;\n  // Rate limiting\n  rateLimit?: {\n    requestsPerMinute?: number;\n    requestsPerHour?: number;\n  };\n  // Filters\n  filters?: {\n    minStars?: number;\n    minPoints?: number;\n    minEngagement?: number;\n    languages?: string[];\n    topics?: string[];\n    keywords?: string[];\n    excludeKeywords?: string[];\n  };\n}\n\n// Base hunter interface\nexport interface BaseHunterSource {\n  source: HuntSource;\n  hunt(): Promise<RawDiscovery[]>;\n  transform(raw: RawDiscovery): HuntDiscovery;\n}\n\n// GitHub-specific types\nexport const GitHubRepoSchema = z.object({\n  id: z.number(),\n  node_id: z.string(),\n  name: z.string(),\n  full_name: z.string(),\n  owner: z.object({\n    login: z.string(),\n    avatar_url: z.string().optional(),\n    html_url: z.string(),\n  }),\n  html_url: z.string(),\n  description: z.string().nullable(),\n  fork: z.boolean(),\n  created_at: z.string(),\n  updated_at: z.string(),\n  pushed_at: z.string(),\n  homepage: z.string().nullable(),\n  size: z.number(),\n  stargazers_count: z.number(),\n  watchers_count: z.number(),\n  language: z.string().nullable(),\n  forks_count: z.number(),\n  open_issues_count: z.number(),\n  license: z.object({ name: z.string() }).nullable(),\n  topics: z.array(z.string()).default([]),\n  visibility: z.string().optional(),\n  default_branch: z.string().optional(),\n});\nexport type GitHubRepo = z.infer<typeof GitHubRepoSchema>;\n\n// HackerNews-specific types\nexport const HNItemSchema = z.object({\n  id: z.number(),\n  type: z.enum([\"story\", \"comment\", \"job\", \"poll\", \"pollopt\"]),\n  by: z.string().optional(),\n  time: z.number(),\n  title: z.string().optional(),\n  url: z.string().optional(),\n  text: z.string().optional(),\n  score: z.number().optional(),\n  descendants: z.number().optional(),\n  kids: z.array(z.number()).optional(),\n});\nexport type HNItem = z.infer<typeof HNItemSchema>;\n\n// Twitter-specific types (for Apify)\nexport const TwitterTweetSchema = z.object({\n  id: z.string(),\n  text: z.string(),\n  created_at: z.string().optional(),\n  author: z.object({\n    id: z.string(),\n    username: z.string(),\n    name: z.string(),\n    followers_count: z.number().optional(),\n  }).optional(),\n  public_metrics: z.object({\n    retweet_count: z.number(),\n    reply_count: z.number(),\n    like_count: z.number(),\n    quote_count: z.number().optional(),\n    impression_count: z.number().optional(),\n  }).optional(),\n  urls: z.array(z.string()).optional(),\n});\nexport type TwitterTweet = z.infer<typeof TwitterTweetSchema>;\n\n// Keywords for relevance detection\nexport const RELEVANCE_KEYWORDS = {\n  web3: [\n    \"web3\",\n    \"blockchain\",\n    \"crypto\",\n    \"cryptocurrency\",\n    \"token\",\n    \"smart contract\",\n    \"decentralized\",\n    \"dapp\",\n    \"defi\",\n    \"nft\",\n    \"dao\",\n    \"wallet\",\n    \"on-chain\",\n    \"onchain\",\n  ],\n  ai: [\n    \"ai\",\n    \"artificial intelligence\",\n    \"machine learning\",\n    \"ml\",\n    \"llm\",\n    \"large language model\",\n    \"gpt\",\n    \"claude\",\n    \"langchain\",\n    \"agent\",\n    \"chatbot\",\n    \"neural\",\n    \"transformer\",\n    \"embedding\",\n  ],\n  solana: [\n    \"solana\",\n    \"$sol\",\n    \"spl token\",\n    \"anchor\",\n    \"metaplex\",\n    \"phantom\",\n    \"solflare\",\n    \"jupiter\",\n    \"raydium\",\n  ],\n  ethereum: [\n    \"ethereum\",\n    \"$eth\",\n    \"erc20\",\n    \"erc721\",\n    \"erc1155\",\n    \"solidity\",\n    \"hardhat\",\n    \"foundry\",\n    \"uniswap\",\n    \"openzeppelin\",\n  ],\n  typescript: [\"typescript\", \"ts\", \"tsx\", \"deno\", \"bun\"],\n};\n\n// Schedules\nexport const DEFAULT_SCHEDULES: Record<HuntSource, string> = {\n  // Social/Tech\n  github: \"0 */4 * * *\", // Every 4 hours\n  hackernews: \"0 */2 * * *\", // Every 2 hours\n  twitter: \"*/30 * * * *\", // Every 30 minutes\n  reddit: \"0 */3 * * *\", // Every 3 hours\n  producthunt: \"0 */6 * * *\", // Every 6 hours\n  arxiv: \"0 0 * * *\", // Once daily (rate limited)\n  lobsters: \"0 */4 * * *\", // Every 4 hours\n  devto: \"0 */6 * * *\", // Every 6 hours\n  tiktok: \"0 */4 * * *\", // Every 4 hours (Apify rate limited)\n  // DeFi/Crypto\n  defillama: \"0 */2 * * *\", // Every 2 hours (real-time TVL)\n  geckoterminal: \"*/15 * * * *\", // Every 15 minutes (new pools)\n  feargreed: \"0 */6 * * *\", // Every 6 hours (daily index)\n  binance: \"*/5 * * * *\", // Every 5 minutes (price moves)\n  coingecko: \"*/10 * * * *\", // Every 10 minutes (trending, market data)\n  coinmarketcap: \"*/15 * * * *\", // Every 15 minutes (price moves, global data)\n  lunarcrush: \"*/15 * * * *\", // Every 15 minutes (social sentiment)\n  // Solana-Specific (FREE)\n  rugcheck: \"*/2 * * * *\", // Every 2 minutes (safety scans, no limit)\n  pumpfun: \"*/1 * * * *\", // Every minute (new memecoin launches)\n  vybe: \"*/5 * * * *\", // Every 5 minutes (4 req/min limit)\n  // Prediction Markets\n  polymarket: \"*/10 * * * *\", // Every 10 minutes (active markets)\n  kalshi: \"*/10 * * * *\", // Every 10 minutes (active markets)\n  // Economic/Financial\n  fred: \"0 8 * * *\", // Daily at 8am (economic data releases)\n  sec: \"0 */4 * * *\", // Every 4 hours (filings)\n  finnhub: \"0 */2 * * *\", // Every 2 hours (congress trades)\n  // Alternative\n  npm: \"0 0 * * 0\", // Weekly on Sundays (package trends)\n  rss: \"*/30 * * * *\", // Every 30 minutes (aggregated news)\n};\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HNItem,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\nconst HN_API = \"https://hacker-news.firebaseio.com/v0\";\n\nexport class HackerNewsHunter implements BaseHunterSource {\n  source = \"hackernews\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch top stories\n    const topStories = await this.fetchTopStories(100);\n    discoveries.push(...topStories);\n\n    // Fetch Show HN stories\n    const showHN = await this.fetchShowHN(50);\n    discoveries.push(...showHN);\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as HNItem | undefined;\n\n    const isShowHN = raw.title.toLowerCase().startsWith(\"show hn:\");\n\n    return {\n      id: randomUUID(),\n      source: \"hackernews\",\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text),\n      tags: this.extractTags(text),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement:\n          (raw.metrics.points ?? 0) > 100 || (raw.metrics.comments ?? 0) > 50,\n        isShowHN,\n      },\n      rawMetadata: metadata as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchTopStories(limit: number): Promise<RawDiscovery[]> {\n    const response = await fetch(`${HN_API}/topstories.json`);\n    if (!response.ok) {\n      console.error(\"[HackerNewsHunter] Failed to fetch top stories\");\n      return [];\n    }\n\n    const ids = (await response.json()) as number[];\n    const topIds = ids.slice(0, limit);\n\n    return this.fetchItems(topIds);\n  }\n\n  private async fetchShowHN(limit: number): Promise<RawDiscovery[]> {\n    const response = await fetch(`${HN_API}/showstories.json`);\n    if (!response.ok) {\n      console.error(\"[HackerNewsHunter] Failed to fetch Show HN stories\");\n      return [];\n    }\n\n    const ids = (await response.json()) as number[];\n    const topIds = ids.slice(0, limit);\n\n    return this.fetchItems(topIds);\n  }\n\n  private async fetchItems(ids: number[]): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch in batches of 20 to avoid overwhelming the API\n    const batchSize = 20;\n    for (let i = 0; i < ids.length; i += batchSize) {\n      const batch = ids.slice(i, i + batchSize);\n      const items = await Promise.all(batch.map((id) => this.fetchItem(id)));\n\n      for (const item of items) {\n        if (!item || item.type !== \"story\") continue;\n        if (!this.passesFilters(item)) continue;\n\n        discoveries.push(this.itemToRawDiscovery(item));\n      }\n    }\n\n    return discoveries;\n  }\n\n  private async fetchItem(id: number): Promise<HNItem | null> {\n    try {\n      const response = await fetch(`${HN_API}/item/${id}.json`);\n      if (!response.ok) return null;\n      return (await response.json()) as HNItem;\n    } catch {\n      return null;\n    }\n  }\n\n  private passesFilters(item: HNItem): boolean {\n    const minPoints = this.config.filters?.minPoints ?? 20;\n    const minEngagement = this.config.filters?.minEngagement ?? 5;\n\n    if ((item.score ?? 0) < minPoints) return false;\n    if ((item.descendants ?? 0) < minEngagement) return false;\n\n    // Check if matches any keywords\n    const text = `${item.title ?? \"\"} ${item.text ?? \"\"}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n    ];\n\n    const matchesKeywords = keywords.some((kw) =>\n      text.includes(kw.toLowerCase())\n    );\n\n    // For high-scoring items, include even without keyword match\n    if ((item.score ?? 0) >= 100) return true;\n\n    return matchesKeywords;\n  }\n\n  private itemToRawDiscovery(item: HNItem): RawDiscovery {\n    const hnUrl = `https://news.ycombinator.com/item?id=${item.id}`;\n\n    return {\n      sourceId: String(item.id),\n      sourceUrl: item.url ?? hnUrl,\n      title: item.title ?? \"Untitled\",\n      description: item.text ?? undefined,\n      author: item.by,\n      authorUrl: item.by\n        ? `https://news.ycombinator.com/user?id=${item.by}`\n        : undefined,\n      publishedAt: new Date(item.time * 1000),\n      metrics: {\n        points: item.score,\n        comments: item.descendants,\n      },\n      metadata: item,\n    };\n  }\n\n  private categorize(text: string): HuntDiscovery[\"category\"] {\n    if (this.hasKeywords(text, [\"defi\", \"lending\", \"dex\", \"swap\", \"yield\"])) {\n      return \"defi\";\n    }\n    if (this.hasKeywords(text, [\"nft\", \"collectible\", \"opensea\"])) {\n      return \"nft\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (this.hasKeywords(text, [\"cli\", \"tool\", \"sdk\", \"library\", \"framework\"])) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string): string[] {\n    const tags: string[] = [];\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.solana)) tags.push(\"solana\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum)) tags.push(\"ethereum\");\n    if (text.includes(\"show hn:\")) tags.push(\"show-hn\");\n\n    return tags;\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(item?: HNItem): boolean {\n    if (!item?.time) return false;\n    const postTime = new Date(item.time * 1000);\n    const hoursSincePost =\n      (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 24;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `hackernews:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Apify Twitter Scraper endpoints\nconst APIFY_API = \"https://api.apify.com/v2\";\n\n// Default keywords to search for\nconst DEFAULT_SEARCH_KEYWORDS = [\n  \"solana dev\",\n  \"ethereum dev\",\n  \"web3 tool\",\n  \"ai agent crypto\",\n  \"defi protocol\",\n  \"$SOL alpha\",\n  \"blockchain framework\",\n];\n\nexport interface TwitterHunterConfig extends HunterConfig {\n  apifyToken?: string;\n  searchKeywords?: string[];\n  minLikes?: number;\n  minReposts?: number;\n}\n\ninterface ApifyTweet {\n  id: string;\n  text: string;\n  createdAt?: string;\n  author?: {\n    id: string;\n    userName: string;\n    name: string;\n    followers?: number;\n    isVerified?: boolean;\n  };\n  likeCount?: number;\n  retweetCount?: number;\n  replyCount?: number;\n  quoteCount?: number;\n  viewCount?: number;\n  url?: string;\n  entities?: {\n    urls?: Array<{ expanded_url: string }>;\n  };\n  // Index signature for compatibility with Record<string, unknown>\n  [key: string]: unknown;\n}\n\nexport class TwitterHunter implements BaseHunterSource {\n  source = \"twitter\" as const;\n  private config: TwitterHunterConfig;\n  private apifyToken: string;\n\n  constructor(config: TwitterHunterConfig) {\n    this.config = config;\n    this.apifyToken =\n      config.apifyToken ?? config.apiToken ?? process.env.APIFY_TOKEN ?? \"\";\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.apifyToken) {\n      console.warn(\n        \"[TwitterHunter] No Apify token configured. Set APIFY_TOKEN env var.\"\n      );\n      return [];\n    }\n\n    const discoveries: RawDiscovery[] = [];\n    const keywords = this.config.searchKeywords ?? DEFAULT_SEARCH_KEYWORDS;\n\n    // Search for each keyword\n    for (const keyword of keywords) {\n      try {\n        const tweets = await this.searchTweets(keyword);\n        discoveries.push(...tweets.map((t) => this.tweetToRawDiscovery(t)));\n      } catch (error) {\n        console.error(`[TwitterHunter] Failed to search for \"${keyword}\":`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as ApifyTweet | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"twitter\",\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text),\n      tags: this.extractTags(text),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement:\n          (raw.metrics.likes ?? 0) > 50 || (raw.metrics.reposts ?? 0) > 20,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async searchTweets(query: string): Promise<ApifyTweet[]> {\n    // Use apidojo's Tweet Scraper V2 (most popular/reliable)\n    // Actor ID: apidojo/tweet-scraper\n    const actorId = \"apidojo~tweet-scraper\";\n\n    const runInput = {\n      searchTerms: [query],\n      maxTweets: 50,\n      addUserInfo: true,\n      // Optional filters\n      // minLikes: this.config.minLikes ?? 10,\n      // minRetweets: this.config.minReposts ?? 5,\n    };\n\n    // Start the actor run\n    const runResponse = await fetch(\n      `${APIFY_API}/acts/${actorId}/runs?token=${this.apifyToken}`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(runInput),\n      }\n    );\n\n    if (!runResponse.ok) {\n      throw new Error(`Apify run failed: ${runResponse.status}`);\n    }\n\n    const runData = await runResponse.json();\n    const runId = runData.data?.id;\n\n    if (!runId) {\n      throw new Error(\"No run ID returned from Apify\");\n    }\n\n    // Wait for the run to complete (with timeout)\n    const maxWaitMs = 60000; // 1 minute\n    const startTime = Date.now();\n\n    while (Date.now() - startTime < maxWaitMs) {\n      const statusResponse = await fetch(\n        `${APIFY_API}/actor-runs/${runId}?token=${this.apifyToken}`\n      );\n\n      if (!statusResponse.ok) break;\n\n      const statusData = await statusResponse.json();\n      const status = statusData.data?.status;\n\n      if (status === \"SUCCEEDED\") {\n        // Fetch results\n        const datasetId = statusData.data?.defaultDatasetId;\n        if (!datasetId) return [];\n\n        const resultsResponse = await fetch(\n          `${APIFY_API}/datasets/${datasetId}/items?token=${this.apifyToken}`\n        );\n\n        if (!resultsResponse.ok) return [];\n\n        return (await resultsResponse.json()) as ApifyTweet[];\n      }\n\n      if (status === \"FAILED\" || status === \"ABORTED\") {\n        console.error(`[TwitterHunter] Apify run ${status}`);\n        return [];\n      }\n\n      // Wait before checking again\n      await new Promise((resolve) => setTimeout(resolve, 5000));\n    }\n\n    console.warn(\"[TwitterHunter] Apify run timed out\");\n    return [];\n  }\n\n  private tweetToRawDiscovery(tweet: ApifyTweet): RawDiscovery {\n    const tweetUrl =\n      tweet.url ??\n      `https://twitter.com/${tweet.author?.userName ?? \"unknown\"}/status/${tweet.id}`;\n\n    // Truncate text for title, use full text for description\n    const title =\n      tweet.text.length > 100\n        ? tweet.text.slice(0, 100) + \"...\"\n        : tweet.text;\n\n    return {\n      sourceId: tweet.id,\n      sourceUrl: tweetUrl,\n      title,\n      description: tweet.text,\n      author: tweet.author?.userName,\n      authorUrl: tweet.author?.userName\n        ? `https://twitter.com/${tweet.author.userName}`\n        : undefined,\n      publishedAt: tweet.createdAt ? new Date(tweet.createdAt) : undefined,\n      metrics: {\n        likes: tweet.likeCount,\n        reposts: tweet.retweetCount,\n        comments: tweet.replyCount,\n        views: tweet.viewCount,\n      },\n      metadata: tweet,\n    };\n  }\n\n  private categorize(text: string): HuntDiscovery[\"category\"] {\n    if (this.hasKeywords(text, [\"defi\", \"lending\", \"dex\", \"swap\", \"yield\"])) {\n      return \"defi\";\n    }\n    if (this.hasKeywords(text, [\"nft\", \"collectible\", \"mint\", \"pfp\"])) {\n      return \"nft\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (this.hasKeywords(text, [\"sdk\", \"api\", \"framework\", \"tool\"])) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string): string[] {\n    const tags: string[] = [];\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.solana)) tags.push(\"solana\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum)) tags.push(\"ethereum\");\n\n    // Extract hashtags\n    const hashtags = text.match(/#\\w+/g) ?? [];\n    tags.push(\n      ...hashtags.map((h) => h.slice(1).toLowerCase()).slice(0, 5)\n    );\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(tweet?: ApifyTweet): boolean {\n    if (!tweet?.createdAt) return false;\n    const postTime = new Date(tweet.createdAt);\n    const hoursSincePost =\n      (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 6; // Very recent for Twitter\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `twitter:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n\n// Alternative: Nitter-based hunter (free but less reliable)\nexport class NitterHunter implements BaseHunterSource {\n  source = \"twitter\" as const;\n  private nitterInstances = [\n    \"https://nitter.net\",\n    \"https://nitter.it\",\n    \"https://nitter.privacydev.net\",\n  ];\n\n  constructor(_config: HunterConfig) {\n    // Nitter doesn't need auth\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    // Nitter hunting is less reliable, use as fallback\n    console.warn(\n      \"[NitterHunter] Nitter is less reliable. Consider using Apify for production.\"\n    );\n    return [];\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    return {\n      id: randomUUID(),\n      source: \"twitter\",\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: \"other\",\n      tags: [],\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: false,\n        hasAIKeywords: false,\n        hasSolanaKeywords: false,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: false,\n        highEngagement: false,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `twitter:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Reddit JSON API (no auth needed for public data)\nconst REDDIT_API = \"https://www.reddit.com\";\n\ninterface RedditPost {\n  id: string;\n  title: string;\n  selftext?: string;\n  url: string;\n  permalink: string;\n  author: string;\n  subreddit: string;\n  created_utc: number;\n  score: number;\n  num_comments: number;\n  upvote_ratio: number;\n  link_flair_text?: string;\n}\n\ninterface RedditListing {\n  data: {\n    children: Array<{ data: RedditPost }>;\n  };\n}\n\n// High-value subreddits for tech discovery\nconst TARGET_SUBREDDITS = [\n  // AI/ML\n  \"MachineLearning\",\n  \"LocalLLaMA\",\n  \"artificial\",\n  \"deeplearning\",\n  // Crypto/Web3\n  \"CryptoCurrency\",\n  \"solana\",\n  \"ethereum\",\n  \"defi\",\n  // Development\n  \"programming\",\n  \"webdev\",\n  \"typescript\",\n  \"node\",\n  \"rust\",\n  // Startups/Products\n  \"startups\",\n  \"SideProject\",\n  \"coolgithubprojects\",\n];\n\nexport class RedditHunter implements BaseHunterSource {\n  source = \"reddit\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    for (const subreddit of TARGET_SUBREDDITS) {\n      try {\n        const posts = await this.fetchSubreddit(subreddit);\n        discoveries.push(...posts);\n        // Rate limit: wait 1s between subreddits\n        await new Promise((r) => setTimeout(r, 1000));\n      } catch (error) {\n        console.error(`[RedditHunter] Failed to fetch r/${subreddit}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as RedditPost | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"reddit\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text),\n      tags: this.extractTags(text, metadata?.subreddit),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement: (raw.metrics.points ?? 0) > 100 || (raw.metrics.comments ?? 0) > 50,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchSubreddit(subreddit: string): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch hot and new posts\n    for (const sort of [\"hot\", \"new\"]) {\n      try {\n        const response = await fetch(\n          `${REDDIT_API}/r/${subreddit}/${sort}.json?limit=25`,\n          {\n            headers: {\n              \"User-Agent\": \"gICM-Hunter/1.0 (Tech Discovery Bot)\",\n            },\n          }\n        );\n\n        if (!response.ok) continue;\n\n        const data = (await response.json()) as RedditListing;\n        for (const child of data.data.children) {\n          const post = child.data;\n          if (!this.passesFilters(post)) continue;\n          discoveries.push(this.postToRawDiscovery(post));\n        }\n      } catch {\n        // Ignore errors for individual fetches\n      }\n    }\n\n    return discoveries;\n  }\n\n  private passesFilters(post: RedditPost): boolean {\n    const minPoints = this.config.filters?.minPoints ?? 10;\n    const minEngagement = this.config.filters?.minEngagement ?? 3;\n\n    if (post.score < minPoints) return false;\n    if (post.num_comments < minEngagement) return false;\n\n    // Check keywords\n    const text = `${post.title} ${post.selftext ?? \"\"}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n      \"github\",\n      \"open source\",\n      \"tool\",\n      \"library\",\n      \"framework\",\n      \"sdk\",\n    ];\n\n    const matchesKeywords = keywords.some((kw) => text.includes(kw.toLowerCase()));\n\n    // High scoring posts are always included\n    if (post.score >= 100) return true;\n\n    return matchesKeywords;\n  }\n\n  private postToRawDiscovery(post: RedditPost): RawDiscovery {\n    const redditUrl = `https://reddit.com${post.permalink}`;\n\n    return {\n      sourceId: post.id,\n      sourceUrl: post.url.startsWith(\"http\") ? post.url : redditUrl,\n      title: `[r/${post.subreddit}] ${post.title}`,\n      description: post.selftext?.slice(0, 500),\n      author: post.author,\n      authorUrl: `https://reddit.com/user/${post.author}`,\n      publishedAt: new Date(post.created_utc * 1000),\n      metrics: {\n        points: post.score,\n        comments: post.num_comments,\n      },\n      metadata: post as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string): HuntDiscovery[\"category\"] {\n    if (this.hasKeywords(text, [\"defi\", \"lending\", \"dex\", \"swap\", \"yield\"])) {\n      return \"defi\";\n    }\n    if (this.hasKeywords(text, [\"nft\", \"collectible\"])) {\n      return \"nft\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (this.hasKeywords(text, [\"cli\", \"tool\", \"sdk\", \"library\", \"framework\"])) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, subreddit?: string): string[] {\n    const tags: string[] = [];\n\n    if (subreddit) tags.push(`r/${subreddit.toLowerCase()}`);\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.solana)) tags.push(\"solana\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum)) tags.push(\"ethereum\");\n\n    return tags;\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(post?: RedditPost): boolean {\n    if (!post?.created_utc) return false;\n    const postTime = new Date(post.created_utc * 1000);\n    const hoursSincePost = (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 24;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `reddit:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Product Hunt API (public GraphQL endpoint)\nconst PH_API = \"https://api.producthunt.com/v2/api/graphql\";\n\ninterface PHPost {\n  id: string;\n  name: string;\n  tagline: string;\n  description?: string;\n  url: string;\n  website: string;\n  votesCount: number;\n  commentsCount: number;\n  createdAt: string;\n  makers: Array<{ name: string; username: string }>;\n  topics: Array<{ name: string }>;\n}\n\n// GraphQL query to fetch recent posts\nconst POSTS_QUERY = `\nquery GetPosts($first: Int!, $order: PostsOrder!) {\n  posts(first: $first, order: $order) {\n    edges {\n      node {\n        id\n        name\n        tagline\n        description\n        url\n        website\n        votesCount\n        commentsCount\n        createdAt\n        makers {\n          name\n          username\n        }\n        topics {\n          edges {\n            node {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n}`;\n\nexport class ProductHuntHunter implements BaseHunterSource {\n  source = \"producthunt\" as const;\n  private config: HunterConfig;\n  private apiToken?: string;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.apiToken = config.apiToken;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch newest and most voted\n    for (const order of [\"NEWEST\", \"VOTES\"]) {\n      try {\n        const posts = await this.fetchPosts(order, 50);\n        discoveries.push(...posts);\n      } catch (error) {\n        console.error(`[ProductHuntHunter] Failed to fetch ${order}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as PHPost | undefined;\n\n    const topics = metadata?.topics?.map((t) => t.name.toLowerCase()) ?? [];\n\n    return {\n      id: randomUUID(),\n      source: \"producthunt\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, topics),\n      tags: this.extractTags(text, topics),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement: (raw.metrics.points ?? 0) > 200,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchPosts(order: string, limit: number): Promise<RawDiscovery[]> {\n    // If no API token, use RSS feed fallback\n    if (!this.apiToken) {\n      return this.fetchFromRSS();\n    }\n\n    const response = await fetch(PH_API, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${this.apiToken}`,\n      },\n      body: JSON.stringify({\n        query: POSTS_QUERY,\n        variables: { first: limit, order },\n      }),\n    });\n\n    if (!response.ok) {\n      console.error(\"[ProductHuntHunter] API request failed, using RSS fallback\");\n      return this.fetchFromRSS();\n    }\n\n    const data = await response.json();\n    const posts = data.data?.posts?.edges ?? [];\n\n    return posts\n      .map((edge: any) => this.nodeToRawDiscovery(edge.node))\n      .filter((d: RawDiscovery) => this.passesFilters(d));\n  }\n\n  private async fetchFromRSS(): Promise<RawDiscovery[]> {\n    // Fallback to scraping their RSS-like endpoints\n    try {\n      const response = await fetch(\"https://www.producthunt.com/feed?category=undefined\", {\n        headers: {\n          \"User-Agent\": \"gICM-Hunter/1.0 (Tech Discovery Bot)\",\n        },\n      });\n\n      if (!response.ok) return [];\n\n      // Parse RSS XML (simplified)\n      const text = await response.text();\n      const discoveries: RawDiscovery[] = [];\n\n      // Basic XML parsing for RSS items\n      const itemRegex = /<item>([\\s\\S]*?)<\\/item>/g;\n      let match;\n      while ((match = itemRegex.exec(text)) !== null) {\n        const item = match[1];\n        const title = this.extractXMLTag(item, \"title\");\n        const link = this.extractXMLTag(item, \"link\");\n        const description = this.extractXMLTag(item, \"description\");\n        const pubDate = this.extractXMLTag(item, \"pubDate\");\n\n        if (title && link) {\n          discoveries.push({\n            sourceId: createHash(\"md5\").update(link).digest(\"hex\"),\n            sourceUrl: link,\n            title: `[PH] ${title}`,\n            description: description?.slice(0, 500),\n            publishedAt: pubDate ? new Date(pubDate) : undefined,\n            metrics: {\n              points: 0,\n              comments: 0,\n            },\n          });\n        }\n      }\n\n      return discoveries.filter((d) => this.passesFilters(d));\n    } catch {\n      return [];\n    }\n  }\n\n  private extractXMLTag(xml: string, tag: string): string | undefined {\n    const regex = new RegExp(`<${tag}><!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)\\\\]\\\\]><\\\\/${tag}>|<${tag}>([\\\\s\\\\S]*?)<\\\\/${tag}>`);\n    const match = regex.exec(xml);\n    return match?.[1] ?? match?.[2];\n  }\n\n  private nodeToRawDiscovery(node: any): RawDiscovery {\n    const makers = node.makers ?? [];\n    const topics = (node.topics?.edges ?? []).map((e: any) => ({ name: e.node.name }));\n\n    return {\n      sourceId: node.id,\n      sourceUrl: node.url,\n      title: `[PH] ${node.name}: ${node.tagline}`,\n      description: node.description,\n      author: makers[0]?.name,\n      authorUrl: makers[0] ? `https://producthunt.com/@${makers[0].username}` : undefined,\n      publishedAt: new Date(node.createdAt),\n      metrics: {\n        points: node.votesCount,\n        comments: node.commentsCount,\n      },\n      metadata: { ...node, topics } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private passesFilters(discovery: RawDiscovery): boolean {\n    const text = `${discovery.title} ${discovery.description ?? \"\"}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n      \"developer\",\n      \"api\",\n      \"sdk\",\n      \"open source\",\n      \"automation\",\n    ];\n\n    return keywords.some((kw) => text.includes(kw.toLowerCase()));\n  }\n\n  private categorize(text: string, topics: string[]): HuntDiscovery[\"category\"] {\n    if (topics.includes(\"web3\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (topics.includes(\"artificial intelligence\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (this.hasKeywords(text, [\"defi\", \"lending\", \"swap\"])) {\n      return \"defi\";\n    }\n    if (topics.includes(\"developer tools\") || this.hasKeywords(text, [\"cli\", \"sdk\", \"api\"])) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, topics: string[]): string[] {\n    const tags = topics.slice(0, 5);\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(post?: PHPost): boolean {\n    if (!post?.createdAt) return false;\n    const postTime = new Date(post.createdAt);\n    const hoursSincePost = (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 48;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `producthunt:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// ArXiv API for research papers\nconst ARXIV_API = \"http://export.arxiv.org/api/query\";\n\ninterface ArxivEntry {\n  id: string;\n  title: string;\n  summary: string;\n  authors: string[];\n  published: string;\n  updated: string;\n  link: string;\n  categories: string[];\n  pdfLink?: string;\n}\n\n// High-value ArXiv categories for AI/ML/Crypto\nconst TARGET_CATEGORIES = [\n  \"cs.AI\",      // Artificial Intelligence\n  \"cs.LG\",      // Machine Learning\n  \"cs.CL\",      // Computation and Language (NLP)\n  \"cs.CV\",      // Computer Vision\n  \"cs.CR\",      // Cryptography and Security\n  \"cs.DC\",      // Distributed Computing\n  \"cs.NE\",      // Neural and Evolutionary Computing\n  \"stat.ML\",    // Machine Learning (stat)\n];\n\n// Search queries for crypto/web3 papers\nconst SEARCH_QUERIES = [\n  \"blockchain\",\n  \"smart contract\",\n  \"decentralized\",\n  \"large language model\",\n  \"transformer\",\n  \"attention mechanism\",\n  \"AI agent\",\n  \"reinforcement learning\",\n  \"zero knowledge\",\n  \"zkSNARK\",\n];\n\nexport class ArxivHunter implements BaseHunterSource {\n  source = \"arxiv\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch from each category\n    for (const category of TARGET_CATEGORIES.slice(0, 5)) { // Limit to avoid rate limits\n      try {\n        const papers = await this.fetchCategory(category, 20);\n        discoveries.push(...papers);\n        await new Promise((r) => setTimeout(r, 3000)); // 3s delay per ArXiv ToS\n      } catch (error) {\n        console.error(`[ArxivHunter] Failed to fetch ${category}:`, error);\n      }\n    }\n\n    // Also search by keywords\n    for (const query of SEARCH_QUERIES.slice(0, 3)) {\n      try {\n        const papers = await this.searchPapers(query, 10);\n        discoveries.push(...papers);\n        await new Promise((r) => setTimeout(r, 3000));\n      } catch (error) {\n        console.error(`[ArxivHunter] Failed to search \"${query}\":`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as ArxivEntry | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"arxiv\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, metadata?.categories ?? []),\n      tags: this.extractTags(text, metadata?.categories ?? []),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: this.isRecent(metadata),\n        highEngagement: false, // ArXiv doesn't have engagement metrics\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchCategory(category: string, maxResults: number): Promise<RawDiscovery[]> {\n    const params = new URLSearchParams({\n      search_query: `cat:${category}`,\n      start: \"0\",\n      max_results: String(maxResults),\n      sortBy: \"submittedDate\",\n      sortOrder: \"descending\",\n    });\n\n    const response = await fetch(`${ARXIV_API}?${params}`);\n    if (!response.ok) return [];\n\n    const xml = await response.text();\n    return this.parseAtomFeed(xml);\n  }\n\n  private async searchPapers(query: string, maxResults: number): Promise<RawDiscovery[]> {\n    const params = new URLSearchParams({\n      search_query: `all:${query}`,\n      start: \"0\",\n      max_results: String(maxResults),\n      sortBy: \"submittedDate\",\n      sortOrder: \"descending\",\n    });\n\n    const response = await fetch(`${ARXIV_API}?${params}`);\n    if (!response.ok) return [];\n\n    const xml = await response.text();\n    return this.parseAtomFeed(xml);\n  }\n\n  private parseAtomFeed(xml: string): RawDiscovery[] {\n    const discoveries: RawDiscovery[] = [];\n\n    // Parse Atom entries (simplified XML parsing)\n    const entryRegex = /<entry>([\\s\\S]*?)<\\/entry>/g;\n    let match;\n\n    while ((match = entryRegex.exec(xml)) !== null) {\n      const entry = match[1];\n\n      const id = this.extractTag(entry, \"id\");\n      const title = this.extractTag(entry, \"title\")?.replace(/\\s+/g, \" \").trim();\n      const summary = this.extractTag(entry, \"summary\")?.replace(/\\s+/g, \" \").trim();\n      const published = this.extractTag(entry, \"published\");\n      const updated = this.extractTag(entry, \"updated\");\n\n      // Extract authors\n      const authorRegex = /<author>[\\s\\S]*?<name>(.*?)<\\/name>[\\s\\S]*?<\\/author>/g;\n      const authors: string[] = [];\n      let authorMatch;\n      while ((authorMatch = authorRegex.exec(entry)) !== null) {\n        authors.push(authorMatch[1]);\n      }\n\n      // Extract categories\n      const categoryRegex = /category term=\"([^\"]+)\"/g;\n      const categories: string[] = [];\n      let catMatch;\n      while ((catMatch = categoryRegex.exec(entry)) !== null) {\n        categories.push(catMatch[1]);\n      }\n\n      // Extract PDF link\n      const pdfMatch = /href=\"([^\"]+)\" title=\"pdf\"/i.exec(entry);\n      const pdfLink = pdfMatch?.[1];\n\n      if (id && title) {\n        const arxivId = id.replace(\"http://arxiv.org/abs/\", \"\");\n\n        if (!this.passesFilters(title, summary ?? \"\", categories)) continue;\n\n        discoveries.push({\n          sourceId: arxivId,\n          sourceUrl: id,\n          title: `[ArXiv] ${title}`,\n          description: summary?.slice(0, 800),\n          author: authors.slice(0, 3).join(\", \"),\n          authorUrl: `https://arxiv.org/search/?query=${encodeURIComponent(authors[0] ?? \"\")}&searchtype=author`,\n          publishedAt: published ? new Date(published) : undefined,\n          metrics: {\n            views: 0,\n          },\n          metadata: {\n            id: arxivId,\n            title,\n            summary,\n            authors,\n            published,\n            updated,\n            link: id,\n            categories,\n            pdfLink,\n          } as unknown as Record<string, unknown>,\n        });\n      }\n    }\n\n    return discoveries;\n  }\n\n  private extractTag(xml: string, tag: string): string | undefined {\n    const regex = new RegExp(`<${tag}[^>]*>([\\\\s\\\\S]*?)<\\\\/${tag}>`);\n    const match = regex.exec(xml);\n    return match?.[1];\n  }\n\n  private passesFilters(title: string, summary: string, categories: string[]): boolean {\n    const text = `${title} ${summary}`.toLowerCase();\n\n    // High-value categories always pass\n    if (categories.some((c) => TARGET_CATEGORIES.includes(c))) {\n      return true;\n    }\n\n    // Check for relevant keywords\n    const keywords = [\n      ...RELEVANCE_KEYWORDS.ai,\n      ...RELEVANCE_KEYWORDS.web3,\n      \"zero knowledge\",\n      \"zksnark\",\n      \"zkstark\",\n      \"mpc\",\n      \"homomorphic\",\n    ];\n\n    return keywords.some((kw) => text.includes(kw.toLowerCase()));\n  }\n\n  private categorize(text: string, categories: string[]): HuntDiscovery[\"category\"] {\n    if (categories.includes(\"cs.CR\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (\n      categories.some((c) => [\"cs.AI\", \"cs.LG\", \"cs.CL\", \"cs.CV\", \"cs.NE\", \"stat.ML\"].includes(c)) ||\n      this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)\n    ) {\n      return \"ai\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, categories: string[]): string[] {\n    const tags = categories.slice(0, 3);\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, [\"llm\", \"large language model\", \"gpt\", \"transformer\"])) {\n      tags.push(\"llm\");\n    }\n    if (this.hasKeywords(text, [\"zero knowledge\", \"zksnark\", \"zkstark\"])) {\n      tags.push(\"zk\");\n    }\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(entry?: ArxivEntry): boolean {\n    if (!entry?.published) return false;\n    const pubTime = new Date(entry.published);\n    const daysSincePub = (Date.now() - pubTime.getTime()) / (1000 * 60 * 60 * 24);\n    return daysSincePub < 7;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `arxiv:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Lobste.rs - tech-focused HN alternative (higher signal-to-noise)\nconst LOBSTERS_API = \"https://lobste.rs\";\n\ninterface LobstersStory {\n  short_id: string;\n  short_id_url: string;\n  created_at: string;\n  title: string;\n  url: string;\n  score: number;\n  comment_count: number;\n  description: string;\n  submitter_user: {\n    username: string;\n  };\n  tags: string[];\n}\n\nexport class LobstersHunter implements BaseHunterSource {\n  source = \"lobsters\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch hottest and newest stories\n    try {\n      const hottest = await this.fetchHottest();\n      discoveries.push(...hottest);\n    } catch (error) {\n      console.error(\"[LobstersHunter] Failed to fetch hottest:\", error);\n    }\n\n    try {\n      const newest = await this.fetchNewest();\n      discoveries.push(...newest);\n    } catch (error) {\n      console.error(\"[LobstersHunter] Failed to fetch newest:\", error);\n    }\n\n    // Fetch specific tags\n    const tags = [\"ai\", \"crypto\", \"rust\", \"programming\", \"web\", \"security\"];\n    for (const tag of tags) {\n      try {\n        const tagged = await this.fetchByTag(tag);\n        discoveries.push(...tagged);\n        await new Promise((r) => setTimeout(r, 500));\n      } catch (error) {\n        console.error(`[LobstersHunter] Failed to fetch tag ${tag}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as LobstersStory | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"lobsters\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, metadata?.tags ?? []),\n      tags: this.extractTags(text, metadata?.tags ?? []),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement: (raw.metrics.points ?? 0) > 30 || (raw.metrics.comments ?? 0) > 20,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchHottest(): Promise<RawDiscovery[]> {\n    const response = await fetch(`${LOBSTERS_API}/hottest.json`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n    if (!response.ok) return [];\n\n    const stories = (await response.json()) as LobstersStory[];\n    return stories.filter((s) => this.passesFilters(s)).map((s) => this.storyToRawDiscovery(s));\n  }\n\n  private async fetchNewest(): Promise<RawDiscovery[]> {\n    const response = await fetch(`${LOBSTERS_API}/newest.json`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n    if (!response.ok) return [];\n\n    const stories = (await response.json()) as LobstersStory[];\n    return stories.filter((s) => this.passesFilters(s)).map((s) => this.storyToRawDiscovery(s));\n  }\n\n  private async fetchByTag(tag: string): Promise<RawDiscovery[]> {\n    const response = await fetch(`${LOBSTERS_API}/t/${tag}.json`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n    if (!response.ok) return [];\n\n    const stories = (await response.json()) as LobstersStory[];\n    return stories.filter((s) => this.passesFilters(s)).map((s) => this.storyToRawDiscovery(s));\n  }\n\n  private passesFilters(story: LobstersStory): boolean {\n    const minPoints = this.config.filters?.minPoints ?? 5;\n    if (story.score < minPoints) return false;\n\n    // Check keywords\n    const text = `${story.title} ${story.description ?? \"\"} ${story.tags.join(\" \")}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n      \"rust\",\n      \"typescript\",\n      \"security\",\n      \"distributed\",\n      \"open source\",\n    ];\n\n    const matchesKeywords = keywords.some((kw) => text.includes(kw.toLowerCase()));\n\n    // High scoring stories always pass\n    if (story.score >= 20) return true;\n\n    return matchesKeywords;\n  }\n\n  private storyToRawDiscovery(story: LobstersStory): RawDiscovery {\n    return {\n      sourceId: story.short_id,\n      sourceUrl: story.url || story.short_id_url,\n      title: `[Lobsters] ${story.title}`,\n      description: story.description || undefined,\n      author: story.submitter_user.username,\n      authorUrl: `https://lobste.rs/~${story.submitter_user.username}`,\n      publishedAt: new Date(story.created_at),\n      metrics: {\n        points: story.score,\n        comments: story.comment_count,\n      },\n      metadata: story as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string, tags: string[]): HuntDiscovery[\"category\"] {\n    if (tags.includes(\"crypto\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (tags.includes(\"ai\") || tags.includes(\"ml\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (tags.some((t) => [\"programming\", \"rust\", \"go\", \"python\", \"javascript\"].includes(t))) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, storyTags: string[]): string[] {\n    const tags = storyTags.slice(0, 5);\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(story?: LobstersStory): boolean {\n    if (!story?.created_at) return false;\n    const postTime = new Date(story.created_at);\n    const hoursSincePost = (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 24;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `lobsters:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Dev.to - Developer community articles\nconst DEVTO_API = \"https://dev.to/api\";\n\ninterface DevToArticle {\n  id: number;\n  title: string;\n  description: string;\n  cover_image?: string;\n  social_image?: string;\n  readable_publish_date: string;\n  tag_list: string[];\n  slug: string;\n  path: string;\n  url: string;\n  canonical_url: string;\n  comments_count: number;\n  positive_reactions_count: number;\n  public_reactions_count: number;\n  created_at: string;\n  published_at: string;\n  user: {\n    name: string;\n    username: string;\n    twitter_username?: string;\n    github_username?: string;\n  };\n}\n\n// High-value tags for discovery\nconst TARGET_TAGS = [\n  \"ai\",\n  \"machinelearning\",\n  \"webdev\",\n  \"typescript\",\n  \"javascript\",\n  \"rust\",\n  \"blockchain\",\n  \"web3\",\n  \"solana\",\n  \"ethereum\",\n  \"crypto\",\n  \"opensource\",\n  \"programming\",\n  \"devops\",\n  \"security\",\n];\n\nexport class DevToHunter implements BaseHunterSource {\n  source = \"devto\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Fetch top articles (by reactions)\n    try {\n      const top = await this.fetchArticles(\"top\", 30);\n      discoveries.push(...top);\n    } catch (error) {\n      console.error(\"[DevToHunter] Failed to fetch top:\", error);\n    }\n\n    // Fetch latest articles\n    try {\n      const latest = await this.fetchArticles(\"latest\", 30);\n      discoveries.push(...latest);\n    } catch (error) {\n      console.error(\"[DevToHunter] Failed to fetch latest:\", error);\n    }\n\n    // Fetch by tags\n    for (const tag of TARGET_TAGS.slice(0, 5)) {\n      try {\n        const tagged = await this.fetchByTag(tag, 15);\n        discoveries.push(...tagged);\n        await new Promise((r) => setTimeout(r, 300));\n      } catch (error) {\n        console.error(`[DevToHunter] Failed to fetch tag ${tag}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as DevToArticle | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"devto\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, metadata?.tag_list ?? []),\n      tags: this.extractTags(text, metadata?.tag_list ?? []),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: this.isRecent(metadata),\n        highEngagement: (raw.metrics.likes ?? 0) > 50,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchArticles(type: \"top\" | \"latest\", perPage: number): Promise<RawDiscovery[]> {\n    const response = await fetch(\n      `${DEVTO_API}/articles?per_page=${perPage}&state=rising${type === \"top\" ? \"&top=7\" : \"\"}`,\n      {\n        headers: {\n          \"User-Agent\": \"gICM-Hunter/1.0\",\n          Accept: \"application/json\",\n        },\n      }\n    );\n\n    if (!response.ok) return [];\n\n    const articles = (await response.json()) as DevToArticle[];\n    return articles.filter((a) => this.passesFilters(a)).map((a) => this.articleToRawDiscovery(a));\n  }\n\n  private async fetchByTag(tag: string, perPage: number): Promise<RawDiscovery[]> {\n    const response = await fetch(`${DEVTO_API}/articles?tag=${tag}&per_page=${perPage}`, {\n      headers: {\n        \"User-Agent\": \"gICM-Hunter/1.0\",\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) return [];\n\n    const articles = (await response.json()) as DevToArticle[];\n    return articles.filter((a) => this.passesFilters(a)).map((a) => this.articleToRawDiscovery(a));\n  }\n\n  private passesFilters(article: DevToArticle): boolean {\n    const minReactions = this.config.filters?.minPoints ?? 10;\n    if (article.positive_reactions_count < minReactions) return false;\n\n    // Check keywords\n    const text = `${article.title} ${article.description ?? \"\"} ${article.tag_list.join(\" \")}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n      \"tutorial\",\n      \"guide\",\n      \"tool\",\n      \"library\",\n      \"framework\",\n      \"open source\",\n    ];\n\n    const matchesKeywords = keywords.some((kw) => text.includes(kw.toLowerCase()));\n\n    // High engagement articles always pass\n    if (article.positive_reactions_count >= 100) return true;\n\n    // Articles with relevant tags pass\n    if (article.tag_list.some((t) => TARGET_TAGS.includes(t.toLowerCase()))) return true;\n\n    return matchesKeywords;\n  }\n\n  private articleToRawDiscovery(article: DevToArticle): RawDiscovery {\n    return {\n      sourceId: String(article.id),\n      sourceUrl: article.url,\n      title: `[DevTo] ${article.title}`,\n      description: article.description,\n      author: article.user.name,\n      authorUrl: `https://dev.to/${article.user.username}`,\n      publishedAt: new Date(article.published_at),\n      metrics: {\n        likes: article.positive_reactions_count,\n        comments: article.comments_count,\n        views: article.public_reactions_count,\n      },\n      metadata: article as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string, tags: string[]): HuntDiscovery[\"category\"] {\n    const tagSet = new Set(tags.map((t) => t.toLowerCase()));\n\n    if (tagSet.has(\"blockchain\") || tagSet.has(\"web3\") || tagSet.has(\"crypto\") ||\n        this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (tagSet.has(\"ai\") || tagSet.has(\"machinelearning\") ||\n        this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (tagSet.has(\"defi\")) {\n      return \"defi\";\n    }\n    if (tags.some((t) => [\"programming\", \"typescript\", \"javascript\", \"rust\", \"python\"].includes(t.toLowerCase()))) {\n      return \"tooling\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, articleTags: string[]): string[] {\n    const tags = articleTags.slice(0, 5);\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(article?: DevToArticle): boolean {\n    if (!article?.published_at) return false;\n    const pubTime = new Date(article.published_at);\n    const hoursSincePub = (Date.now() - pubTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePub < 48;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `devto:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// TikTok scraping via Apify Actor\nconst APIFY_API = \"https://api.apify.com/v2\";\n\ninterface TikTokVideo {\n  id: string;\n  text: string;\n  createTime: number;\n  authorMeta: {\n    id: string;\n    name: string;\n    nickName: string;\n    verified: boolean;\n    signature?: string;\n  };\n  musicMeta?: {\n    musicName: string;\n    musicAuthor: string;\n  };\n  hashtags?: Array<{ name: string }>;\n  videoMeta: {\n    duration: number;\n    coverUrl?: string;\n  };\n  diggCount: number;  // likes\n  shareCount: number;\n  playCount: number;\n  commentCount: number;\n  webVideoUrl: string;\n}\n\n// High-value hashtags for crypto/AI alpha\nconst TARGET_HASHTAGS = [\n  // Crypto\n  \"crypto\",\n  \"bitcoin\",\n  \"ethereum\",\n  \"solana\",\n  \"defi\",\n  \"web3\",\n  \"nft\",\n  \"altcoin\",\n  \"cryptotok\",\n  \"cryptonews\",\n  // AI\n  \"ai\",\n  \"chatgpt\",\n  \"artificialintelligence\",\n  \"machinelearning\",\n  \"aitools\",\n  // Tech/Dev\n  \"coding\",\n  \"programming\",\n  \"tech\",\n  \"startup\",\n  \"developer\",\n];\n\nexport class TikTokHunter implements BaseHunterSource {\n  source = \"tiktok\" as const;\n  private config: HunterConfig;\n  private apifyToken?: string;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.apifyToken = config.apiToken ?? process.env.APIFY_TOKEN;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.apifyToken) {\n      console.error(\"[TikTokHunter] No Apify token configured\");\n      return [];\n    }\n\n    const discoveries: RawDiscovery[] = [];\n\n    // Hunt each target hashtag\n    for (const hashtag of TARGET_HASHTAGS.slice(0, 5)) { // Limit to save API calls\n      try {\n        const videos = await this.searchHashtag(hashtag);\n        discoveries.push(...videos);\n        await new Promise((r) => setTimeout(r, 2000)); // Rate limit\n      } catch (error) {\n        console.error(`[TikTokHunter] Failed to search #${hashtag}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as TikTokVideo | undefined;\n\n    const hashtags = metadata?.hashtags?.map((h) => h.name.toLowerCase()) ?? [];\n\n    return {\n      id: randomUUID(),\n      source: \"tiktok\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, hashtags),\n      tags: this.extractTags(text, hashtags),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: this.isRecent(metadata),\n        highEngagement: (raw.metrics.views ?? 0) > 100000 || (raw.metrics.likes ?? 0) > 10000,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async searchHashtag(hashtag: string): Promise<RawDiscovery[]> {\n    // Run Apify Actor synchronously\n    const runUrl = `${APIFY_API}/acts/clockworks~tiktok-scraper/run-sync-get-dataset-items`;\n\n    const response = await fetch(runUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${this.apifyToken}`,\n      },\n      body: JSON.stringify({\n        hashtags: [hashtag],\n        resultsPerPage: 30,\n        profileScrapeSections: [\"videos\"],\n        profileSorting: \"latest\",\n        excludePinnedPosts: false,\n        searchSection: \"\",\n        maxProfilesPerQuery: 5,\n        scrapeRelatedVideos: false,\n        shouldDownloadVideos: false,\n        shouldDownloadCovers: false,\n      }),\n    });\n\n    if (!response.ok) {\n      const error = await response.text();\n      console.error(`[TikTokHunter] Apify error for #${hashtag}:`, error);\n      return [];\n    }\n\n    const videos = (await response.json()) as TikTokVideo[];\n    return videos.filter((v) => this.passesFilters(v)).map((v) => this.videoToRawDiscovery(v, hashtag));\n  }\n\n  private passesFilters(video: TikTokVideo): boolean {\n    const minViews = this.config.filters?.minPoints ?? 10000;\n    if (video.playCount < minViews) return false;\n\n    // Check keywords\n    const text = `${video.text} ${video.hashtags?.map((h) => h.name).join(\" \") ?? \"\"}`.toLowerCase();\n    const keywords = this.config.filters?.keywords ?? [\n      ...RELEVANCE_KEYWORDS.web3,\n      ...RELEVANCE_KEYWORDS.ai,\n      \"alpha\",\n      \"gem\",\n      \"100x\",\n      \"pump\",\n      \"launch\",\n      \"airdrop\",\n    ];\n\n    const matchesKeywords = keywords.some((kw) => text.includes(kw.toLowerCase()));\n\n    // High engagement videos always pass\n    if (video.playCount >= 1000000 || video.diggCount >= 100000) return true;\n\n    return matchesKeywords;\n  }\n\n  private videoToRawDiscovery(video: TikTokVideo, hashtag: string): RawDiscovery {\n    const text = video.text.slice(0, 200);\n    const username = video.authorMeta.name;\n\n    return {\n      sourceId: video.id,\n      sourceUrl: video.webVideoUrl,\n      title: `[TikTok #${hashtag}] @${username}: ${text}`,\n      description: video.text,\n      author: video.authorMeta.nickName || video.authorMeta.name,\n      authorUrl: `https://tiktok.com/@${username}`,\n      publishedAt: new Date(video.createTime * 1000),\n      metrics: {\n        views: video.playCount,\n        likes: video.diggCount,\n        comments: video.commentCount,\n        reposts: video.shareCount,\n      },\n      metadata: video as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string, hashtags: string[]): HuntDiscovery[\"category\"] {\n    const hastagSet = new Set(hashtags);\n\n    if (hastagSet.has(\"crypto\") || hastagSet.has(\"bitcoin\") || hastagSet.has(\"solana\") ||\n        hastagSet.has(\"ethereum\") || this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) {\n      return \"web3\";\n    }\n    if (hastagSet.has(\"ai\") || hastagSet.has(\"chatgpt\") ||\n        this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) {\n      return \"ai\";\n    }\n    if (hastagSet.has(\"defi\") || this.hasKeywords(text, [\"defi\", \"yield\", \"lending\"])) {\n      return \"defi\";\n    }\n    if (hastagSet.has(\"nft\")) {\n      return \"nft\";\n    }\n    return \"other\";\n  }\n\n  private extractTags(text: string, hashtags: string[]): string[] {\n    const tags = hashtags.slice(0, 5);\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, [\"alpha\", \"gem\", \"100x\"])) tags.push(\"alpha\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isRecent(video?: TikTokVideo): boolean {\n    if (!video?.createTime) return false;\n    const postTime = new Date(video.createTime * 1000);\n    const hoursSincePost = (Date.now() - postTime.getTime()) / (1000 * 60 * 60);\n    return hoursSincePost < 24;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `tiktok:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// DeFiLlama API - 100% Free, No Auth Required\nconst DEFILLAMA_API = \"https://api.llama.fi\";\nconst YIELDS_API = \"https://yields.llama.fi\";\n\ninterface DefiProtocol {\n  id: string;\n  name: string;\n  address?: string;\n  symbol?: string;\n  url: string;\n  description?: string;\n  chain: string;\n  chains: string[];\n  logo?: string;\n  audits?: string;\n  audit_note?: string;\n  gecko_id?: string;\n  cmcId?: string;\n  category: string;\n  twitter?: string;\n  tvl: number;\n  chainTvls: Record<string, number>;\n  change_1h?: number;\n  change_1d?: number;\n  change_7d?: number;\n  mcap?: number;\n  fdv?: number;\n}\n\ninterface YieldPool {\n  chain: string;\n  project: string;\n  symbol: string;\n  tvlUsd: number;\n  apyBase?: number;\n  apyReward?: number;\n  apy: number;\n  rewardTokens?: string[];\n  pool: string;\n  apyPct1D?: number;\n  apyPct7D?: number;\n  apyPct30D?: number;\n  stablecoin: boolean;\n  ilRisk: string;\n  exposure: string;\n  poolMeta?: string;\n  underlyingTokens?: string[];\n  il7d?: number;\n  apyBase7d?: number;\n  apyMean30d?: number;\n  volumeUsd1d?: number;\n  volumeUsd7d?: number;\n}\n\n// Chains we care about most\nconst TARGET_CHAINS = [\n  \"Solana\",\n  \"Ethereum\",\n  \"Arbitrum\",\n  \"Base\",\n  \"Optimism\",\n  \"BSC\",\n  \"Polygon\",\n  \"Avalanche\",\n];\n\n// Categories we care about\nconst TARGET_CATEGORIES = [\n  \"Dexes\",\n  \"Lending\",\n  \"Liquid Staking\",\n  \"Bridge\",\n  \"Yield\",\n  \"Derivatives\",\n  \"CDP\",\n  \"Yield Aggregator\",\n  \"Leveraged Farming\",\n];\n\nexport class DeFiLlamaHunter implements BaseHunterSource {\n  source = \"defillama\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // 1. Fetch protocols with significant TVL changes\n    try {\n      const protocols = await this.fetchProtocols();\n      const filtered = this.filterProtocols(protocols);\n      discoveries.push(...filtered.map((p) => this.protocolToRawDiscovery(p)));\n    } catch (error) {\n      console.error(\"[DeFiLlamaHunter] Failed to fetch protocols:\", error);\n    }\n\n    // 2. Fetch top yield opportunities\n    try {\n      const yields = await this.fetchYields();\n      const topYields = this.filterYields(yields);\n      discoveries.push(...topYields.map((y) => this.yieldToRawDiscovery(y)));\n    } catch (error) {\n      console.error(\"[DeFiLlamaHunter] Failed to fetch yields:\", error);\n    }\n\n    // Deduplicate by source ID\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as (DefiProtocol | YieldPool) | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"defillama\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text, metadata),\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: true, // DeFi is always web3\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: this.hasSignificantChange(metadata),\n        highEngagement: (raw.metrics.points ?? 0) > 1000000, // $1M+ TVL\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchProtocols(): Promise<DefiProtocol[]> {\n    const response = await fetch(`${DEFILLAMA_API}/protocols`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n\n    if (!response.ok) {\n      throw new Error(`DeFiLlama API error: ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  private async fetchYields(): Promise<YieldPool[]> {\n    const response = await fetch(`${YIELDS_API}/pools`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n\n    if (!response.ok) {\n      throw new Error(`DeFiLlama Yields API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data.data ?? [];\n  }\n\n  private filterProtocols(protocols: DefiProtocol[]): DefiProtocol[] {\n    const minTvl = this.config.filters?.minPoints ?? 100000; // $100K default\n    const minChange = 5; // 5% change threshold\n\n    return protocols.filter((p) => {\n      // Must have minimum TVL\n      if (p.tvl < minTvl) return false;\n\n      // Must be on a chain we care about\n      if (!p.chains.some((c) => TARGET_CHAINS.includes(c))) return false;\n\n      // Must be in a category we care about\n      if (!TARGET_CATEGORIES.includes(p.category)) return false;\n\n      // Significant TVL change (up or down)\n      const hasSignificantChange =\n        Math.abs(p.change_1d ?? 0) > minChange ||\n        Math.abs(p.change_7d ?? 0) > minChange * 2;\n\n      // High TVL protocols always included\n      if (p.tvl > 10000000) return true; // $10M+\n\n      return hasSignificantChange;\n    });\n  }\n\n  private filterYields(yields: YieldPool[]): YieldPool[] {\n    const minTvl = 50000; // $50K minimum\n    const minApy = 5; // 5% APY minimum\n\n    return yields\n      .filter((y) => {\n        // Must have minimum TVL\n        if (y.tvlUsd < minTvl) return false;\n\n        // Must be on a chain we care about\n        if (!TARGET_CHAINS.includes(y.chain)) return false;\n\n        // Must have decent APY\n        if (y.apy < minApy) return false;\n\n        // Filter out obviously unsustainable APYs (likely scams)\n        if (y.apy > 1000) return false;\n\n        return true;\n      })\n      .sort((a, b) => {\n        // Sort by risk-adjusted return (TVL * APY)\n        const scoreA = a.tvlUsd * Math.min(a.apy, 100);\n        const scoreB = b.tvlUsd * Math.min(b.apy, 100);\n        return scoreB - scoreA;\n      })\n      .slice(0, 50); // Top 50 opportunities\n  }\n\n  private protocolToRawDiscovery(protocol: DefiProtocol): RawDiscovery {\n    const changeStr = protocol.change_1d\n      ? `${protocol.change_1d > 0 ? \"+\" : \"\"}${protocol.change_1d.toFixed(1)}%`\n      : \"\";\n\n    return {\n      sourceId: `defillama:protocol:${protocol.id}`,\n      sourceUrl: protocol.url || `https://defillama.com/protocol/${protocol.id}`,\n      title: `[DeFi] ${protocol.name} - $${this.formatNumber(protocol.tvl)} TVL ${changeStr}`,\n      description: protocol.description || `${protocol.category} on ${protocol.chains.join(\", \")}`,\n      author: protocol.name,\n      authorUrl: protocol.twitter ? `https://twitter.com/${protocol.twitter}` : undefined,\n      publishedAt: undefined,\n      metrics: {\n        points: protocol.tvl,\n        views: protocol.mcap,\n      },\n      metadata: protocol as unknown as Record<string, unknown>,\n    };\n  }\n\n  private yieldToRawDiscovery(pool: YieldPool): RawDiscovery {\n    return {\n      sourceId: `defillama:yield:${pool.pool}`,\n      sourceUrl: `https://defillama.com/yields/pool/${pool.pool}`,\n      title: `[Yield] ${pool.project} ${pool.symbol} - ${pool.apy.toFixed(1)}% APY on ${pool.chain}`,\n      description: `TVL: $${this.formatNumber(pool.tvlUsd)} | ${pool.stablecoin ? \"Stablecoin\" : \"Volatile\"} | IL Risk: ${pool.ilRisk}`,\n      author: pool.project,\n      publishedAt: undefined,\n      metrics: {\n        points: pool.tvlUsd,\n        likes: pool.apy,\n      },\n      metadata: pool as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string, metadata?: DefiProtocol | YieldPool): HuntDiscovery[\"category\"] {\n    if (\"category\" in (metadata ?? {})) {\n      const cat = (metadata as DefiProtocol).category?.toLowerCase();\n      if (cat?.includes(\"dex\") || cat?.includes(\"swap\")) return \"defi\";\n      if (cat?.includes(\"lending\") || cat?.includes(\"cdp\")) return \"defi\";\n    }\n    if (\"apy\" in (metadata ?? {})) return \"defi\";\n    return \"defi\";\n  }\n\n  private extractTags(text: string, metadata?: DefiProtocol | YieldPool): string[] {\n    const tags: string[] = [\"defi\", \"tvl\"];\n\n    if (metadata && \"chains\" in metadata) {\n      tags.push(...(metadata as DefiProtocol).chains.slice(0, 3).map((c) => c.toLowerCase()));\n      if ((metadata as DefiProtocol).category) {\n        tags.push((metadata as DefiProtocol).category.toLowerCase());\n      }\n    }\n\n    if (metadata && \"chain\" in metadata) {\n      tags.push((metadata as YieldPool).chain.toLowerCase());\n      tags.push(\"yield\");\n      if ((metadata as YieldPool).stablecoin) tags.push(\"stablecoin\");\n    }\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private hasSignificantChange(metadata?: DefiProtocol | YieldPool): boolean {\n    if (!metadata) return false;\n    if (\"change_1d\" in metadata) {\n      return Math.abs((metadata as DefiProtocol).change_1d ?? 0) > 5;\n    }\n    if (\"apyPct1D\" in metadata) {\n      return Math.abs((metadata as YieldPool).apyPct1D ?? 0) > 10;\n    }\n    return false;\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `defillama:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// GeckoTerminal API - 100% Free, No Auth Required\n// 30 calls/min rate limit\nconst GECKOTERMINAL_API = \"https://api.geckoterminal.com/api/v2\";\n\ninterface GeckoPool {\n  id: string;\n  type: string;\n  attributes: {\n    name: string;\n    address: string;\n    base_token_price_usd: string;\n    quote_token_price_usd: string;\n    base_token_price_native_currency: string;\n    quote_token_price_native_currency: string;\n    pool_created_at: string;\n    reserve_in_usd: string;\n    fdv_usd?: string;\n    market_cap_usd?: string;\n    price_change_percentage: {\n      h1?: string;\n      h24?: string;\n    };\n    transactions: {\n      h1?: { buys: number; sells: number; buyers: number; sellers: number };\n      h24?: { buys: number; sells: number; buyers: number; sellers: number };\n    };\n    volume_usd: {\n      h1?: string;\n      h24?: string;\n    };\n  };\n  relationships?: {\n    base_token?: { data: { id: string } };\n    quote_token?: { data: { id: string } };\n    dex?: { data: { id: string } };\n  };\n}\n\ninterface GeckoToken {\n  id: string;\n  type: string;\n  attributes: {\n    name: string;\n    symbol: string;\n    address: string;\n    decimals: number;\n    image_url?: string;\n    coingecko_coin_id?: string;\n    total_supply?: string;\n    price_usd?: string;\n    fdv_usd?: string;\n    total_reserve_in_usd?: string;\n    volume_usd?: { h24?: string };\n    market_cap_usd?: string;\n  };\n}\n\n// Networks we care about most for new token discovery\nconst TARGET_NETWORKS = [\n  \"solana\",\n  \"eth\",\n  \"base\",\n  \"arbitrum\",\n  \"bsc\",\n  \"polygon\",\n  \"optimism\",\n  \"avalanche\",\n];\n\nexport class GeckoTerminalHunter implements BaseHunterSource {\n  source = \"geckoterminal\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // 1. Fetch new pools from each network\n    for (const network of TARGET_NETWORKS.slice(0, 4)) { // Limit to stay under rate limits\n      try {\n        const newPools = await this.fetchNewPools(network);\n        discoveries.push(...newPools.map((p) => this.poolToRawDiscovery(p, network, \"new\")));\n        await new Promise((r) => setTimeout(r, 2100)); // Rate limit: 30/min = 2s between calls\n      } catch (error) {\n        console.error(`[GeckoTerminalHunter] Failed to fetch new pools for ${network}:`, error);\n      }\n    }\n\n    // 2. Fetch trending pools\n    for (const network of TARGET_NETWORKS.slice(0, 4)) {\n      try {\n        const trendingPools = await this.fetchTrendingPools(network);\n        discoveries.push(...trendingPools.map((p) => this.poolToRawDiscovery(p, network, \"trending\")));\n        await new Promise((r) => setTimeout(r, 2100));\n      } catch (error) {\n        console.error(`[GeckoTerminalHunter] Failed to fetch trending pools for ${network}:`, error);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { pool: GeckoPool; network: string; type: string } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"geckoterminal\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: \"defi\",\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: true,\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: metadata?.network === \"solana\" || this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: metadata?.network === \"eth\" || this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: this.isNewPool(metadata?.pool),\n        highEngagement: (raw.metrics.views ?? 0) > 100000, // $100K+ volume\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchNewPools(network: string): Promise<GeckoPool[]> {\n    const response = await fetch(\n      `${GECKOTERMINAL_API}/networks/${network}/new_pools?page=1`,\n      {\n        headers: {\n          Accept: \"application/json\",\n          \"User-Agent\": \"gICM-Hunter/1.0\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`GeckoTerminal API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return this.filterPools(data.data ?? []);\n  }\n\n  private async fetchTrendingPools(network: string): Promise<GeckoPool[]> {\n    const response = await fetch(\n      `${GECKOTERMINAL_API}/networks/${network}/trending_pools?page=1`,\n      {\n        headers: {\n          Accept: \"application/json\",\n          \"User-Agent\": \"gICM-Hunter/1.0\",\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`GeckoTerminal API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return this.filterPools(data.data ?? []);\n  }\n\n  private filterPools(pools: GeckoPool[]): GeckoPool[] {\n    const minLiquidity = this.config.filters?.minPoints ?? 10000; // $10K minimum\n    const minVolume = 1000; // $1K minimum 24h volume\n\n    return pools.filter((pool) => {\n      const liquidity = parseFloat(pool.attributes.reserve_in_usd || \"0\");\n      const volume24h = parseFloat(pool.attributes.volume_usd?.h24 || \"0\");\n\n      // Must have minimum liquidity\n      if (liquidity < minLiquidity) return false;\n\n      // Must have some trading activity\n      if (volume24h < minVolume) return false;\n\n      // Filter out obvious honeypots (0 sells)\n      const txns = pool.attributes.transactions?.h24;\n      if (txns && txns.sells === 0 && txns.buys > 10) return false;\n\n      return true;\n    });\n  }\n\n  private poolToRawDiscovery(pool: GeckoPool, network: string, type: string): RawDiscovery {\n    const attrs = pool.attributes;\n    const liquidity = parseFloat(attrs.reserve_in_usd || \"0\");\n    const volume24h = parseFloat(attrs.volume_usd?.h24 || \"0\");\n    const priceChange24h = parseFloat(attrs.price_change_percentage?.h24 || \"0\");\n    const txns = attrs.transactions?.h24;\n\n    const priceChangeStr = priceChange24h !== 0\n      ? `${priceChange24h > 0 ? \"+\" : \"\"}${priceChange24h.toFixed(1)}%`\n      : \"\";\n\n    const createdAt = attrs.pool_created_at ? new Date(attrs.pool_created_at) : undefined;\n    const isNew = createdAt && (Date.now() - createdAt.getTime()) < 24 * 60 * 60 * 1000;\n\n    return {\n      sourceId: `geckoterminal:${pool.id}`,\n      sourceUrl: `https://www.geckoterminal.com/${network}/pools/${attrs.address}`,\n      title: `[${type === \"new\" ? \"NEW\" : \"HOT\"}] ${attrs.name} on ${network.toUpperCase()} ${priceChangeStr}`,\n      description: `Liquidity: $${this.formatNumber(liquidity)} | Vol 24h: $${this.formatNumber(volume24h)} | ${txns ? `Buys: ${txns.buys} Sells: ${txns.sells}` : \"\"}${isNew ? \" | JUST LAUNCHED\" : \"\"}`,\n      author: network,\n      authorUrl: `https://www.geckoterminal.com/${network}`,\n      publishedAt: createdAt,\n      metrics: {\n        points: liquidity,\n        views: volume24h,\n        likes: txns?.buys ?? 0,\n        comments: txns?.sells ?? 0,\n      },\n      metadata: { pool, network, type } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private extractTags(text: string, metadata?: { pool: GeckoPool; network: string; type: string }): string[] {\n    const tags: string[] = [\"dex\", \"pool\"];\n\n    if (metadata) {\n      tags.push(metadata.network);\n      tags.push(metadata.type);\n\n      // Extract DEX name from pool ID if present\n      const dexId = metadata.pool.relationships?.dex?.data?.id;\n      if (dexId) {\n        const dexName = dexId.split(\"_\").pop();\n        if (dexName) tags.push(dexName);\n      }\n    }\n\n    if (this.hasKeywords(text, [\"meme\", \"pepe\", \"doge\", \"shib\", \"bonk\", \"wif\"])) {\n      tags.push(\"memecoin\");\n    }\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private isNewPool(pool?: GeckoPool): boolean {\n    if (!pool?.attributes.pool_created_at) return false;\n    const created = new Date(pool.attributes.pool_created_at);\n    const hoursSinceCreation = (Date.now() - created.getTime()) / (1000 * 60 * 60);\n    return hoursSinceCreation < 24;\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `geckoterminal:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n} from \"../types.js\";\n\n// Alternative.me Fear & Greed Index - 100% Free, No Auth Required\nconst FEAR_GREED_API = \"https://api.alternative.me/fng\";\n\ninterface FearGreedData {\n  value: string;\n  value_classification: string;\n  timestamp: string;\n  time_until_update?: string;\n}\n\ninterface FearGreedResponse {\n  name: string;\n  data: FearGreedData[];\n  metadata: {\n    error: null | string;\n  };\n}\n\n// Classification thresholds\nconst SENTIMENT_LEVELS = {\n  EXTREME_FEAR: { min: 0, max: 25, signal: \"BUY\" },\n  FEAR: { min: 26, max: 45, signal: \"ACCUMULATE\" },\n  NEUTRAL: { min: 46, max: 55, signal: \"HOLD\" },\n  GREED: { min: 56, max: 75, signal: \"CAUTION\" },\n  EXTREME_GREED: { min: 76, max: 100, signal: \"SELL\" },\n};\n\nexport class FearGreedHunter implements BaseHunterSource {\n  source = \"feargreed\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Fetch current and historical data (last 30 days)\n      const response = await fetch(`${FEAR_GREED_API}/?limit=30&format=json`, {\n        headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Fear & Greed API error: ${response.status}`);\n      }\n\n      const data: FearGreedResponse = await response.json();\n\n      if (data.data && data.data.length > 0) {\n        // Current reading\n        const current = data.data[0];\n        discoveries.push(this.createDiscovery(current, \"current\", data.data));\n\n        // Check for significant changes\n        if (data.data.length >= 7) {\n          const weekAgo = data.data[6];\n          const weekChange = parseInt(current.value) - parseInt(weekAgo.value);\n          if (Math.abs(weekChange) >= 15) {\n            discoveries.push(this.createTrendDiscovery(current, weekAgo, weekChange));\n          }\n        }\n\n        // Alert on extreme readings\n        const value = parseInt(current.value);\n        if (value <= 25 || value >= 75) {\n          discoveries.push(this.createExtremeDiscovery(current));\n        }\n      }\n    } catch (error) {\n      console.error(\"[FearGreedHunter] Failed to fetch data:\", error);\n    }\n\n    return discoveries;\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const metadata = raw.metadata as { current: FearGreedData; type: string } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"feargreed\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: \"other\",\n      tags: this.extractTags(metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: true,\n        hasAIKeywords: false,\n        hasSolanaKeywords: false,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement: this.isExtreme(metadata?.current),\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private createDiscovery(current: FearGreedData, type: string, history: FearGreedData[]): RawDiscovery {\n    const value = parseInt(current.value);\n    const signal = this.getSignal(value);\n    const emoji = this.getEmoji(value);\n    const avg7d = this.calculateAverage(history.slice(0, 7));\n    const avg30d = this.calculateAverage(history);\n\n    return {\n      sourceId: `feargreed:${type}:${current.timestamp}`,\n      sourceUrl: \"https://alternative.me/crypto/fear-and-greed-index/\",\n      title: `${emoji} Crypto Fear & Greed: ${value} (${current.value_classification}) - Signal: ${signal}`,\n      description: `Current: ${value}/100 | 7d Avg: ${avg7d.toFixed(0)} | 30d Avg: ${avg30d.toFixed(0)} | ${this.getTradingAdvice(value)}`,\n      author: \"Alternative.me\",\n      authorUrl: \"https://alternative.me\",\n      publishedAt: new Date(parseInt(current.timestamp) * 1000),\n      metrics: {\n        points: value,\n        views: avg7d,\n        likes: avg30d,\n      },\n      metadata: { current, type, history } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private createTrendDiscovery(current: FearGreedData, previous: FearGreedData, change: number): RawDiscovery {\n    const direction = change > 0 ? \"UP\" : \"DOWN\";\n    const emoji = change > 0 ? \"\" : \"\";\n\n    return {\n      sourceId: `feargreed:trend:${current.timestamp}`,\n      sourceUrl: \"https://alternative.me/crypto/fear-and-greed-index/\",\n      title: `${emoji} Fear & Greed ${direction} ${Math.abs(change)} points in 7 days`,\n      description: `From ${previous.value} (${previous.value_classification}) to ${current.value} (${current.value_classification}). ${change > 0 ? \"Sentiment improving - caution on FOMO\" : \"Sentiment deteriorating - watch for buying opportunity\"}`,\n      author: \"Alternative.me\",\n      publishedAt: new Date(parseInt(current.timestamp) * 1000),\n      metrics: {\n        points: Math.abs(change),\n        views: parseInt(current.value),\n      },\n      metadata: { current, previous, change, type: \"trend\" } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private createExtremeDiscovery(current: FearGreedData): RawDiscovery {\n    const value = parseInt(current.value);\n    const isExtremeFear = value <= 25;\n    const emoji = isExtremeFear ? \"\" : \"\";\n    const signal = isExtremeFear ? \"CONTRARIAN BUY SIGNAL\" : \"CONTRARIAN SELL SIGNAL\";\n\n    return {\n      sourceId: `feargreed:extreme:${current.timestamp}`,\n      sourceUrl: \"https://alternative.me/crypto/fear-and-greed-index/\",\n      title: `${emoji} EXTREME ${isExtremeFear ? \"FEAR\" : \"GREED\"}: ${value}/100 - ${signal}`,\n      description: isExtremeFear\n        ? \"Historically, extreme fear readings (below 25) have been good buying opportunities. Warren Buffett: 'Be greedy when others are fearful.'\"\n        : \"Historically, extreme greed readings (above 75) often precede corrections. Consider taking profits or reducing exposure.\",\n      author: \"Alternative.me\",\n      publishedAt: new Date(parseInt(current.timestamp) * 1000),\n      metrics: {\n        points: value,\n      },\n      metadata: { current, type: \"extreme\", isExtremeFear } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private getSignal(value: number): string {\n    if (value <= 25) return \"BUY\";\n    if (value <= 45) return \"ACCUMULATE\";\n    if (value <= 55) return \"HOLD\";\n    if (value <= 75) return \"CAUTION\";\n    return \"SELL\";\n  }\n\n  private getEmoji(value: number): string {\n    if (value <= 25) return \"\";\n    if (value <= 45) return \"\";\n    if (value <= 55) return \"\";\n    if (value <= 75) return \"\";\n    return \"\";\n  }\n\n  private getTradingAdvice(value: number): string {\n    if (value <= 25) return \"Extreme fear = potential buying opportunity\";\n    if (value <= 45) return \"Fear present - consider DCA accumulation\";\n    if (value <= 55) return \"Neutral sentiment - market indecision\";\n    if (value <= 75) return \"Greed rising - be cautious with new positions\";\n    return \"Extreme greed = consider taking profits\";\n  }\n\n  private calculateAverage(data: FearGreedData[]): number {\n    if (data.length === 0) return 50;\n    const sum = data.reduce((acc, d) => acc + parseInt(d.value), 0);\n    return sum / data.length;\n  }\n\n  private isExtreme(data?: FearGreedData): boolean {\n    if (!data) return false;\n    const value = parseInt(data.value);\n    return value <= 25 || value >= 75;\n  }\n\n  private extractTags(metadata?: { current: FearGreedData; type: string }): string[] {\n    const tags = [\"sentiment\", \"fear-greed\"];\n\n    if (metadata?.current) {\n      const value = parseInt(metadata.current.value);\n      tags.push(metadata.current.value_classification.toLowerCase().replace(\" \", \"-\"));\n\n      if (value <= 25) tags.push(\"extreme-fear\", \"buy-signal\");\n      else if (value >= 75) tags.push(\"extreme-greed\", \"sell-signal\");\n    }\n\n    if (metadata?.type === \"trend\") tags.push(\"trend-change\");\n    if (metadata?.type === \"extreme\") tags.push(\"extreme-reading\");\n\n    return tags;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `feargreed:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Binance Public API - 100% Free, No Auth Required\nconst BINANCE_API = \"https://data-api.binance.vision/api/v3\";\n\ninterface Binance24hrTicker {\n  symbol: string;\n  priceChange: string;\n  priceChangePercent: string;\n  weightedAvgPrice: string;\n  prevClosePrice: string;\n  lastPrice: string;\n  lastQty: string;\n  bidPrice: string;\n  bidQty: string;\n  askPrice: string;\n  askQty: string;\n  openPrice: string;\n  highPrice: string;\n  lowPrice: string;\n  volume: string;\n  quoteVolume: string;\n  openTime: number;\n  closeTime: number;\n  firstId: number;\n  lastId: number;\n  count: number;\n}\n\ninterface BinanceKline {\n  openTime: number;\n  open: string;\n  high: string;\n  low: string;\n  close: string;\n  volume: string;\n  closeTime: number;\n  quoteAssetVolume: string;\n  numberOfTrades: number;\n  takerBuyBaseAssetVolume: string;\n  takerBuyQuoteAssetVolume: string;\n}\n\n// Key trading pairs to track\nconst TRACKED_PAIRS = [\n  // Major crypto\n  \"BTCUSDT\", \"ETHUSDT\", \"SOLUSDT\", \"BNBUSDT\",\n  // Solana ecosystem\n  \"BONKUSDT\", \"WIFUSDT\", \"JUPUSDT\", \"RAYUSDT\", \"PYTHUSDT\",\n  // AI tokens\n  \"RENDERUSDT\", \"TAOUSDT\", \"FETUSDT\", \"AGIXUSDT\",\n  // DeFi\n  \"UNIUSDT\", \"AAVEUSDT\", \"MKRUSDT\", \"COMPUSDT\",\n  // Layer 2\n  \"ARBUSDT\", \"OPUSDT\", \"MATICUSDT\",\n  // Memecoins\n  \"DOGEUSDT\", \"SHIBUSDT\", \"PEPEUSDT\", \"FLOKIUSDT\",\n];\n\nexport class BinanceHunter implements BaseHunterSource {\n  source = \"binance\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // 1. Fetch 24hr tickers for tracked pairs\n      const tickers = await this.fetch24hrTickers();\n      const significant = this.filterSignificantMoves(tickers);\n      discoveries.push(...significant.map((t) => this.tickerToDiscovery(t)));\n\n      // 2. Check for volume anomalies\n      const volumeAnomalies = this.findVolumeAnomalies(tickers);\n      discoveries.push(...volumeAnomalies.map((t) => this.volumeAnomalyToDiscovery(t)));\n\n    } catch (error) {\n      console.error(\"[BinanceHunter] Failed to fetch data:\", error);\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { symbol: string; type: string } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"binance\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(metadata?.symbol),\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: true,\n        hasAIKeywords: this.isAIToken(metadata?.symbol),\n        hasSolanaKeywords: this.isSolanaToken(metadata?.symbol),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement: metadata?.type === \"volume_anomaly\" || Math.abs(raw.metrics.likes ?? 0) > 10,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetch24hrTickers(): Promise<Binance24hrTicker[]> {\n    // Fetch all tickers and filter to tracked ones\n    const response = await fetch(`${BINANCE_API}/ticker/24hr`, {\n      headers: { \"User-Agent\": \"gICM-Hunter/1.0\" },\n    });\n\n    if (!response.ok) {\n      throw new Error(`Binance API error: ${response.status}`);\n    }\n\n    const allTickers: Binance24hrTicker[] = await response.json();\n    return allTickers.filter((t) => TRACKED_PAIRS.includes(t.symbol));\n  }\n\n  private filterSignificantMoves(tickers: Binance24hrTicker[]): Binance24hrTicker[] {\n    const threshold = this.config.filters?.minPoints ?? 5; // 5% move\n\n    return tickers.filter((t) => {\n      const changePercent = parseFloat(t.priceChangePercent);\n      return Math.abs(changePercent) >= threshold;\n    });\n  }\n\n  private findVolumeAnomalies(tickers: Binance24hrTicker[]): Binance24hrTicker[] {\n    // Find pairs with unusually high volume (this is a simple heuristic)\n    // A proper implementation would compare to historical average\n\n    const volumeThreshold = 100000000; // $100M volume threshold\n    return tickers.filter((t) => {\n      const volume = parseFloat(t.quoteVolume);\n      return volume > volumeThreshold;\n    });\n  }\n\n  private tickerToDiscovery(ticker: Binance24hrTicker): RawDiscovery {\n    const changePercent = parseFloat(ticker.priceChangePercent);\n    const price = parseFloat(ticker.lastPrice);\n    const volume = parseFloat(ticker.quoteVolume);\n\n    const emoji = changePercent > 0 ? \"\" : \"\";\n    const symbol = ticker.symbol.replace(\"USDT\", \"\");\n\n    return {\n      sourceId: `binance:ticker:${ticker.symbol}:${ticker.closeTime}`,\n      sourceUrl: `https://www.binance.com/en/trade/${symbol}_USDT`,\n      title: `${emoji} [CEX] ${symbol}: $${this.formatPrice(price)} (${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}%)`,\n      description: `24h Vol: $${this.formatNumber(volume)} | High: $${parseFloat(ticker.highPrice).toFixed(4)} | Low: $${parseFloat(ticker.lowPrice).toFixed(4)} | Trades: ${ticker.count.toLocaleString()}`,\n      author: \"Binance\",\n      authorUrl: \"https://www.binance.com\",\n      publishedAt: new Date(ticker.closeTime),\n      metrics: {\n        points: price,\n        views: volume,\n        likes: changePercent,\n        comments: ticker.count,\n      },\n      metadata: { ...ticker, type: \"price_move\", symbol } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private volumeAnomalyToDiscovery(ticker: Binance24hrTicker): RawDiscovery {\n    const volume = parseFloat(ticker.quoteVolume);\n    const changePercent = parseFloat(ticker.priceChangePercent);\n    const symbol = ticker.symbol.replace(\"USDT\", \"\");\n\n    return {\n      sourceId: `binance:volume:${ticker.symbol}:${ticker.closeTime}`,\n      sourceUrl: `https://www.binance.com/en/trade/${symbol}_USDT`,\n      title: ` [VOLUME] ${symbol}: $${this.formatNumber(volume)} in 24h`,\n      description: `Unusually high volume detected. Price ${changePercent > 0 ? \"up\" : \"down\"} ${Math.abs(changePercent).toFixed(2)}%. Total trades: ${ticker.count.toLocaleString()}`,\n      author: \"Binance\",\n      authorUrl: \"https://www.binance.com\",\n      publishedAt: new Date(ticker.closeTime),\n      metrics: {\n        points: volume,\n        views: ticker.count,\n        likes: changePercent,\n      },\n      metadata: { ...ticker, type: \"volume_anomaly\", symbol } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(symbol?: string): HuntDiscovery[\"category\"] {\n    if (!symbol) return \"web3\";\n    if (this.isAIToken(symbol)) return \"ai\";\n    if (this.isSolanaToken(symbol)) return \"web3\";\n    return \"web3\";\n  }\n\n  private extractTags(text: string, metadata?: { symbol: string; type: string }): string[] {\n    const tags = [\"binance\", \"cex\", \"trading\"];\n\n    if (metadata?.symbol) {\n      tags.push(metadata.symbol.toLowerCase());\n\n      if (this.isSolanaToken(metadata.symbol)) tags.push(\"solana\");\n      if (this.isAIToken(metadata.symbol)) tags.push(\"ai\");\n      if (this.isMemeToken(metadata.symbol)) tags.push(\"memecoin\");\n    }\n\n    if (metadata?.type) {\n      tags.push(metadata.type);\n    }\n\n    return [...new Set(tags)];\n  }\n\n  private isSolanaToken(symbol?: string): boolean {\n    if (!symbol) return false;\n    const solanaTokens = [\"SOL\", \"BONK\", \"WIF\", \"JUP\", \"RAY\", \"PYTH\", \"JTO\", \"ORCA\"];\n    return solanaTokens.some((t) => symbol.toUpperCase().includes(t));\n  }\n\n  private isAIToken(symbol?: string): boolean {\n    if (!symbol) return false;\n    const aiTokens = [\"RENDER\", \"TAO\", \"FET\", \"AGIX\", \"OCEAN\", \"NMR\"];\n    return aiTokens.some((t) => symbol.toUpperCase().includes(t));\n  }\n\n  private isMemeToken(symbol?: string): boolean {\n    if (!symbol) return false;\n    const memeTokens = [\"DOGE\", \"SHIB\", \"PEPE\", \"FLOKI\", \"BONK\", \"WIF\"];\n    return memeTokens.some((t) => symbol.toUpperCase().includes(t));\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private formatPrice(price: number): string {\n    if (price >= 1000) return price.toFixed(2);\n    if (price >= 1) return price.toFixed(4);\n    if (price >= 0.01) return price.toFixed(6);\n    return price.toFixed(8);\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `binance:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","/**\n * CoinGecko Hunter - Market data, trending coins, and category tracking\n *\n * Free tier: 50 calls/min (no API key required for demo mode)\n * Pro tier: Higher limits with API key\n *\n * Endpoints used:\n * - /search/trending - Trending coins (7 coins)\n * - /coins/markets - Top coins by market cap\n * - /coins/categories - DeFi, NFT, Gaming categories\n * - /global - Global market data\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// CoinGecko API types\ninterface TrendingCoin {\n  item: {\n    id: string;\n    coin_id: number;\n    name: string;\n    symbol: string;\n    market_cap_rank: number;\n    thumb: string;\n    small: string;\n    large: string;\n    slug: string;\n    price_btc: number;\n    score: number;\n    data?: {\n      price: number;\n      price_change_percentage_24h?: {\n        usd?: number;\n      };\n      market_cap?: string;\n      total_volume?: string;\n    };\n  };\n}\n\ninterface MarketCoin {\n  id: string;\n  symbol: string;\n  name: string;\n  image: string;\n  current_price: number;\n  market_cap: number;\n  market_cap_rank: number;\n  fully_diluted_valuation: number | null;\n  total_volume: number;\n  high_24h: number;\n  low_24h: number;\n  price_change_24h: number;\n  price_change_percentage_24h: number;\n  market_cap_change_24h: number;\n  market_cap_change_percentage_24h: number;\n  circulating_supply: number;\n  total_supply: number | null;\n  max_supply: number | null;\n  ath: number;\n  ath_change_percentage: number;\n  ath_date: string;\n  atl: number;\n  atl_change_percentage: number;\n  atl_date: string;\n  last_updated: string;\n}\n\ninterface Category {\n  id: string;\n  name: string;\n  market_cap: number;\n  market_cap_change_24h: number;\n  content: string;\n  top_3_coins: string[];\n  volume_24h: number;\n  updated_at: string;\n}\n\ninterface GlobalData {\n  data: {\n    active_cryptocurrencies: number;\n    upcoming_icos: number;\n    ongoing_icos: number;\n    ended_icos: number;\n    markets: number;\n    total_market_cap: Record<string, number>;\n    total_volume: Record<string, number>;\n    market_cap_percentage: Record<string, number>;\n    market_cap_change_percentage_24h_usd: number;\n    updated_at: number;\n  };\n}\n\nconst COINGECKO_BASE_URL = \"https://api.coingecko.com/api/v3\";\n\n// Thresholds for significant events\nconst THRESHOLDS = {\n  PRICE_CHANGE_SIGNIFICANT: 5, // 5% move is notable\n  PRICE_CHANGE_MAJOR: 10, // 10% move is major\n  MARKET_CAP_RANK_TOP: 100, // Track top 100 coins\n  TRENDING_SCORE_MIN: 0, // Include all trending (already filtered by CG)\n  VOLUME_SPIKE_MULTIPLIER: 2, // 2x average volume\n  CATEGORY_GROWTH_SIGNIFICANT: 3, // 3% category growth\n};\n\nexport class CoinGeckoHunter implements BaseHunterSource {\n  source = \"coingecko\" as const;\n  private config: HunterConfig;\n  private lastGlobalData: GlobalData[\"data\"] | null = null;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Parallel fetch all data\n      const [trending, topMovers, categories, globalData] = await Promise.all([\n        this.fetchTrending(),\n        this.fetchTopMovers(),\n        this.fetchHotCategories(),\n        this.fetchGlobalData(),\n      ]);\n\n      // Process trending coins\n      for (const coin of trending) {\n        const discovery = this.createCoinDiscovery(coin, \"trending\");\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process top movers (significant price changes)\n      for (const coin of topMovers) {\n        const discovery = this.createMarketDiscovery(coin);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process hot categories\n      for (const category of categories) {\n        const discovery = this.createCategoryDiscovery(category);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process global market shifts\n      if (globalData) {\n        const globalDiscovery = this.createGlobalDiscovery(globalData);\n        if (globalDiscovery) discoveries.push(globalDiscovery);\n        this.lastGlobalData = globalData;\n      }\n    } catch (error) {\n      console.error(\"[CoinGeckoHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  private async fetchTrending(): Promise<TrendingCoin[]> {\n    try {\n      const response = await fetch(`${COINGECKO_BASE_URL}/search/trending`, {\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        console.warn(`[CoinGecko] Trending fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.coins || [];\n    } catch (error) {\n      console.error(\"[CoinGecko] Trending error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchTopMovers(): Promise<MarketCoin[]> {\n    try {\n      const response = await fetch(\n        `${COINGECKO_BASE_URL}/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1&sparkline=false&price_change_percentage=24h`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[CoinGecko] Markets fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const coins: MarketCoin[] = await response.json();\n\n      // Filter to significant movers only\n      return coins.filter(\n        (coin) =>\n          Math.abs(coin.price_change_percentage_24h) >= THRESHOLDS.PRICE_CHANGE_SIGNIFICANT\n      );\n    } catch (error) {\n      console.error(\"[CoinGecko] Markets error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchHotCategories(): Promise<Category[]> {\n    try {\n      const response = await fetch(`${COINGECKO_BASE_URL}/coins/categories`, {\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        console.warn(`[CoinGecko] Categories fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const categories: Category[] = await response.json();\n\n      // Filter to categories with significant growth\n      return categories\n        .filter(\n          (cat) =>\n            Math.abs(cat.market_cap_change_24h) >= THRESHOLDS.CATEGORY_GROWTH_SIGNIFICANT\n        )\n        .slice(0, 10); // Top 10 moving categories\n    } catch (error) {\n      console.error(\"[CoinGecko] Categories error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchGlobalData(): Promise<GlobalData[\"data\"] | null> {\n    try {\n      const response = await fetch(`${COINGECKO_BASE_URL}/global`, {\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        console.warn(`[CoinGecko] Global fetch failed: ${response.status}`);\n        return null;\n      }\n\n      const data: GlobalData = await response.json();\n      return data.data;\n    } catch (error) {\n      console.error(\"[CoinGecko] Global error:\", error);\n      return null;\n    }\n  }\n\n  private getHeaders(): Record<string, string> {\n    const headers: Record<string, string> = {\n      Accept: \"application/json\",\n    };\n\n    // Add API key if provided (Pro tier)\n    if (this.config.apiKey) {\n      headers[\"x-cg-pro-api-key\"] = this.config.apiKey;\n    }\n\n    return headers;\n  }\n\n  private createCoinDiscovery(\n    coin: TrendingCoin,\n    type: \"trending\"\n  ): RawDiscovery | null {\n    const item = coin.item;\n    const priceChange = item.data?.price_change_percentage_24h?.usd || 0;\n\n    return {\n      sourceId: `coingecko-trending-${item.id}`,\n      sourceUrl: `https://www.coingecko.com/en/coins/${item.slug}`,\n      title: ` ${item.name} (${item.symbol.toUpperCase()}) Trending on CoinGecko`,\n      description: `Ranked #${item.score + 1} in trending. Market cap rank: #${item.market_cap_rank || \"N/A\"}. ${priceChange > 0 ? `+${priceChange.toFixed(2)}%` : `${priceChange.toFixed(2)}%`} in 24h.`,\n      publishedAt: new Date(),\n      metrics: {\n        points: item.score,\n        views: item.market_cap_rank,\n      },\n      metadata: {\n        type: \"trending_coin\",\n        coinId: item.id,\n        symbol: item.symbol,\n        name: item.name,\n        marketCapRank: item.market_cap_rank,\n        trendingScore: item.score,\n        priceBtc: item.price_btc,\n        priceUsd: item.data?.price,\n        priceChange24h: priceChange,\n        marketCap: item.data?.market_cap,\n        volume: item.data?.total_volume,\n      },\n    };\n  }\n\n  private createMarketDiscovery(coin: MarketCoin): RawDiscovery | null {\n    const changePercent = coin.price_change_percentage_24h;\n    const direction = changePercent > 0 ? \"\" : \"\";\n    const isMajor = Math.abs(changePercent) >= THRESHOLDS.PRICE_CHANGE_MAJOR;\n\n    return {\n      sourceId: `coingecko-market-${coin.id}-${Date.now()}`,\n      sourceUrl: `https://www.coingecko.com/en/coins/${coin.id}`,\n      title: `${direction} ${coin.name} ${isMajor ? \"MAJOR MOVE:\" : \"\"} ${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}%`,\n      description: `${coin.symbol.toUpperCase()} is ${changePercent > 0 ? \"up\" : \"down\"} ${Math.abs(changePercent).toFixed(2)}% in 24h. Price: $${coin.current_price.toLocaleString()}. Market cap: $${(coin.market_cap / 1e9).toFixed(2)}B (#${coin.market_cap_rank}).`,\n      publishedAt: new Date(coin.last_updated),\n      metrics: {\n        views: coin.market_cap_rank,\n        likes: Math.round(coin.total_volume / 1e6), // Volume in millions as engagement proxy\n      },\n      metadata: {\n        type: \"price_move\",\n        coinId: coin.id,\n        symbol: coin.symbol,\n        name: coin.name,\n        price: coin.current_price,\n        priceChange24h: changePercent,\n        marketCap: coin.market_cap,\n        marketCapRank: coin.market_cap_rank,\n        volume24h: coin.total_volume,\n        high24h: coin.high_24h,\n        low24h: coin.low_24h,\n        ath: coin.ath,\n        athChangePercent: coin.ath_change_percentage,\n        isMajorMove: isMajor,\n      },\n    };\n  }\n\n  private createCategoryDiscovery(category: Category): RawDiscovery | null {\n    const changePercent = category.market_cap_change_24h;\n    const direction = changePercent > 0 ? \"\" : \"\";\n\n    return {\n      sourceId: `coingecko-category-${category.id}-${Date.now()}`,\n      sourceUrl: `https://www.coingecko.com/en/categories/${category.id}`,\n      title: `${direction} ${category.name} Category ${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}% (24h)`,\n      description: `${category.name} sector ${changePercent > 0 ? \"growing\" : \"declining\"}. Total market cap: $${(category.market_cap / 1e9).toFixed(2)}B. 24h volume: $${(category.volume_24h / 1e9).toFixed(2)}B.`,\n      publishedAt: new Date(category.updated_at),\n      metrics: {\n        views: Math.round(category.market_cap / 1e9),\n        likes: Math.round(category.volume_24h / 1e6),\n      },\n      metadata: {\n        type: \"category_move\",\n        categoryId: category.id,\n        categoryName: category.name,\n        marketCap: category.market_cap,\n        marketCapChange24h: changePercent,\n        volume24h: category.volume_24h,\n        topCoins: category.top_3_coins,\n        content: category.content,\n      },\n    };\n  }\n\n  private createGlobalDiscovery(\n    global: GlobalData[\"data\"]\n  ): RawDiscovery | null {\n    const changePercent = global.market_cap_change_percentage_24h_usd;\n\n    // Only report if significant change or first run\n    if (\n      this.lastGlobalData &&\n      Math.abs(changePercent) < THRESHOLDS.PRICE_CHANGE_SIGNIFICANT\n    ) {\n      return null;\n    }\n\n    const totalMarketCap = global.total_market_cap.usd / 1e12; // In trillions\n    const btcDominance = global.market_cap_percentage.btc;\n    const ethDominance = global.market_cap_percentage.eth;\n\n    return {\n      sourceId: `coingecko-global-${global.updated_at}`,\n      sourceUrl: \"https://www.coingecko.com/en/global-charts\",\n      title: ` Crypto Market ${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}% | $${totalMarketCap.toFixed(2)}T Total`,\n      description: `Global crypto market cap: $${totalMarketCap.toFixed(2)}T (${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}% 24h). BTC dominance: ${btcDominance.toFixed(1)}%. ETH dominance: ${ethDominance.toFixed(1)}%. Active cryptos: ${global.active_cryptocurrencies.toLocaleString()}.`,\n      publishedAt: new Date(global.updated_at * 1000),\n      metrics: {\n        views: global.active_cryptocurrencies,\n        likes: global.markets,\n      },\n      metadata: {\n        type: \"global_market\",\n        totalMarketCapUsd: global.total_market_cap.usd,\n        totalVolumeUsd: global.total_volume.usd,\n        marketCapChange24h: changePercent,\n        btcDominance,\n        ethDominance,\n        activeCryptocurrencies: global.active_cryptocurrencies,\n        markets: global.markets,\n        dominanceBreakdown: global.market_cap_percentage,\n      },\n    };\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = raw.metadata as Record<string, unknown> || {};\n\n    // Detect relevance\n    const hasWeb3Keywords = RELEVANCE_KEYWORDS.web3.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasSolanaKeywords = RELEVANCE_KEYWORDS.solana.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasEthereumKeywords = RELEVANCE_KEYWORDS.ethereum.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n\n    // High engagement = top 50 or major price move\n    const marketCapRank = typeof metadata.marketCapRank === 'number' ? metadata.marketCapRank : null;\n    const highEngagement =\n      (marketCapRank !== null && marketCapRank <= 50) ||\n      metadata.isMajorMove === true ||\n      metadata.type === \"trending_coin\";\n\n    // Determine category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" =\n      \"web3\";\n    if (metadata.categoryName) {\n      const catName = String(metadata.categoryName).toLowerCase();\n      if (catName.includes(\"defi\") || catName.includes(\"lending\")) {\n        category = \"defi\";\n      } else if (catName.includes(\"nft\") || catName.includes(\"gaming\")) {\n        category = \"nft\";\n      } else if (catName.includes(\"ai\") || catName.includes(\"artificial\")) {\n        category = \"ai\";\n      }\n    }\n\n    // Generate tags\n    const tags: string[] = [\"crypto\", \"market-data\"];\n    if (metadata.type === \"trending_coin\") tags.push(\"trending\");\n    if (metadata.type === \"price_move\") tags.push(\"price-action\");\n    if (metadata.type === \"category_move\") tags.push(\"sector-rotation\");\n    if (metadata.type === \"global_market\") tags.push(\"macro\");\n    if (metadata.symbol) tags.push(String(metadata.symbol).toLowerCase());\n    if (hasSolanaKeywords) tags.push(\"solana\");\n    if (hasEthereumKeywords) tags.push(\"ethereum\");\n\n    // Fingerprint for deduplication\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `coingecko-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: this.source,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords,\n        hasTypeScript: false,\n        recentActivity: true, // Always recent from CoinGecko\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n","/**\n * CoinMarketCap Hunter - Market data, trending coins, and historical OHLCV\n *\n * Free tier: 10,000 calls/month, 30 calls/min\n * API Key required\n *\n * Endpoints used:\n * - /cryptocurrency/listings/latest - Top coins by market cap\n * - /cryptocurrency/quotes/latest - Current prices\n * - /cryptocurrency/trending/latest - Trending coins\n * - /global-metrics/quotes/latest - Global market data\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// CoinMarketCap API types\ninterface CMCCoin {\n  id: number;\n  name: string;\n  symbol: string;\n  slug: string;\n  cmc_rank: number;\n  num_market_pairs: number;\n  circulating_supply: number;\n  total_supply: number;\n  max_supply: number | null;\n  infinite_supply: boolean;\n  last_updated: string;\n  date_added: string;\n  tags: string[];\n  platform: {\n    id: number;\n    name: string;\n    symbol: string;\n    slug: string;\n    token_address: string;\n  } | null;\n  quote: {\n    USD: {\n      price: number;\n      volume_24h: number;\n      volume_change_24h: number;\n      percent_change_1h: number;\n      percent_change_24h: number;\n      percent_change_7d: number;\n      percent_change_30d: number;\n      market_cap: number;\n      market_cap_dominance: number;\n      fully_diluted_market_cap: number;\n      last_updated: string;\n    };\n  };\n}\n\ninterface CMCTrendingCoin {\n  id: number;\n  name: string;\n  symbol: string;\n  slug: string;\n  cmc_rank: number;\n  quote: {\n    USD: {\n      price: number;\n      percent_change_24h: number;\n      market_cap: number;\n      volume_24h: number;\n    };\n  };\n}\n\ninterface CMCGlobalMetrics {\n  active_cryptocurrencies: number;\n  total_cryptocurrencies: number;\n  active_market_pairs: number;\n  active_exchanges: number;\n  total_exchanges: number;\n  eth_dominance: number;\n  btc_dominance: number;\n  eth_dominance_yesterday: number;\n  btc_dominance_yesterday: number;\n  defi_volume_24h: number;\n  defi_volume_24h_reported: number;\n  defi_market_cap: number;\n  defi_24h_percentage_change: number;\n  stablecoin_volume_24h: number;\n  stablecoin_volume_24h_reported: number;\n  stablecoin_market_cap: number;\n  stablecoin_24h_percentage_change: number;\n  derivatives_volume_24h: number;\n  derivatives_volume_24h_reported: number;\n  derivatives_24h_percentage_change: number;\n  quote: {\n    USD: {\n      total_market_cap: number;\n      total_volume_24h: number;\n      total_volume_24h_reported: number;\n      altcoin_volume_24h: number;\n      altcoin_volume_24h_reported: number;\n      altcoin_market_cap: number;\n      defi_volume_24h: number;\n      defi_volume_24h_reported: number;\n      defi_24h_percentage_change: number;\n      defi_market_cap: number;\n      stablecoin_volume_24h: number;\n      stablecoin_volume_24h_reported: number;\n      stablecoin_24h_percentage_change: number;\n      stablecoin_market_cap: number;\n      derivatives_volume_24h: number;\n      derivatives_volume_24h_reported: number;\n      derivatives_24h_percentage_change: number;\n      total_market_cap_yesterday: number;\n      total_volume_24h_yesterday: number;\n      total_market_cap_yesterday_percentage_change: number;\n      total_volume_24h_yesterday_percentage_change: number;\n      last_updated: string;\n    };\n  };\n  last_updated: string;\n}\n\ninterface CMCResponse<T> {\n  status: {\n    timestamp: string;\n    error_code: number;\n    error_message: string | null;\n    elapsed: number;\n    credit_count: number;\n  };\n  data: T;\n}\n\nconst CMC_BASE_URL = \"https://pro-api.coinmarketcap.com/v1\";\n\n// Thresholds for significant events\nconst THRESHOLDS = {\n  PRICE_CHANGE_SIGNIFICANT: 5, // 5% move is notable\n  PRICE_CHANGE_MAJOR: 10, // 10% move is major\n  MARKET_CAP_RANK_TOP: 100, // Track top 100 coins\n  VOLUME_SPIKE_MULTIPLIER: 2, // 2x average volume\n};\n\nexport class CoinMarketCapHunter implements BaseHunterSource {\n  source = \"coinmarketcap\" as const;\n  private config: HunterConfig;\n  private lastGlobalData: CMCGlobalMetrics | null = null;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    if (!config.apiKey) {\n      console.warn(\n        \"[CoinMarketCapHunter] No API key provided. Set COINMARKETCAP_API_KEY in environment.\"\n      );\n    }\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.config.apiKey) {\n      console.warn(\"[CoinMarketCapHunter] Skipping hunt - no API key\");\n      return [];\n    }\n\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Parallel fetch all data\n      const [listings, globalData] = await Promise.all([\n        this.fetchListings(),\n        this.fetchGlobalMetrics(),\n      ]);\n\n      // Process top movers (significant price changes)\n      const topMovers = listings.filter(\n        (coin) =>\n          Math.abs(coin.quote.USD.percent_change_24h) >=\n          THRESHOLDS.PRICE_CHANGE_SIGNIFICANT\n      );\n\n      for (const coin of topMovers) {\n        const discovery = this.createCoinDiscovery(coin);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process global market data\n      if (globalData) {\n        const globalDiscovery = this.createGlobalDiscovery(globalData);\n        if (globalDiscovery) discoveries.push(globalDiscovery);\n        this.lastGlobalData = globalData;\n      }\n    } catch (error) {\n      console.error(\"[CoinMarketCapHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  private async fetchListings(): Promise<CMCCoin[]> {\n    try {\n      const response = await fetch(\n        `${CMC_BASE_URL}/cryptocurrency/listings/latest?limit=100&convert=USD`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.warn(\n          `[CoinMarketCap] Listings fetch failed: ${response.status} - ${errorText}`\n        );\n        return [];\n      }\n\n      const data: CMCResponse<CMCCoin[]> = await response.json();\n\n      if (data.status.error_code !== 0) {\n        console.warn(\n          `[CoinMarketCap] API error: ${data.status.error_message}`\n        );\n        return [];\n      }\n\n      return data.data || [];\n    } catch (error) {\n      console.error(\"[CoinMarketCap] Listings error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchGlobalMetrics(): Promise<CMCGlobalMetrics | null> {\n    try {\n      const response = await fetch(\n        `${CMC_BASE_URL}/global-metrics/quotes/latest?convert=USD`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(\n          `[CoinMarketCap] Global metrics fetch failed: ${response.status}`\n        );\n        return null;\n      }\n\n      const data: CMCResponse<CMCGlobalMetrics> = await response.json();\n\n      if (data.status.error_code !== 0) {\n        console.warn(\n          `[CoinMarketCap] API error: ${data.status.error_message}`\n        );\n        return null;\n      }\n\n      return data.data;\n    } catch (error) {\n      console.error(\"[CoinMarketCap] Global metrics error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Fetch historical OHLCV data for a specific coin\n   * Note: This uses additional API credits\n   */\n  async fetchHistoricalOHLCV(\n    symbol: string,\n    days: number = 30\n  ): Promise<Array<{\n    timestamp: string;\n    open: number;\n    high: number;\n    low: number;\n    close: number;\n    volume: number;\n    market_cap: number;\n  }> | null> {\n    if (!this.config.apiKey) {\n      console.warn(\"[CoinMarketCap] No API key for OHLCV fetch\");\n      return null;\n    }\n\n    try {\n      const endDate = new Date();\n      const startDate = new Date();\n      startDate.setDate(startDate.getDate() - days);\n\n      const response = await fetch(\n        `${CMC_BASE_URL}/cryptocurrency/ohlcv/historical?symbol=${symbol}&time_start=${startDate.toISOString()}&time_end=${endDate.toISOString()}&convert=USD`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(\n          `[CoinMarketCap] OHLCV fetch failed: ${response.status}`\n        );\n        return null;\n      }\n\n      const data = await response.json();\n\n      if (data.status.error_code !== 0) {\n        console.warn(`[CoinMarketCap] OHLCV error: ${data.status.error_message}`);\n        return null;\n      }\n\n      return data.data?.quotes?.map((q: any) => ({\n        timestamp: q.time_open,\n        open: q.quote.USD.open,\n        high: q.quote.USD.high,\n        low: q.quote.USD.low,\n        close: q.quote.USD.close,\n        volume: q.quote.USD.volume,\n        market_cap: q.quote.USD.market_cap,\n      })) || null;\n    } catch (error) {\n      console.error(\"[CoinMarketCap] OHLCV error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Fetch current prices for specific symbols\n   */\n  async fetchPrices(\n    symbols: string[]\n  ): Promise<Map<string, { price: number; change24h: number; marketCap: number }>> {\n    const prices = new Map<string, { price: number; change24h: number; marketCap: number }>();\n\n    if (!this.config.apiKey || symbols.length === 0) {\n      return prices;\n    }\n\n    try {\n      const response = await fetch(\n        `${CMC_BASE_URL}/cryptocurrency/quotes/latest?symbol=${symbols.join(\",\")}&convert=USD`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[CoinMarketCap] Prices fetch failed: ${response.status}`);\n        return prices;\n      }\n\n      const data = await response.json();\n\n      if (data.status.error_code !== 0) {\n        console.warn(`[CoinMarketCap] Prices error: ${data.status.error_message}`);\n        return prices;\n      }\n\n      for (const [symbol, coinData] of Object.entries(data.data || {})) {\n        const coin = coinData as CMCCoin;\n        prices.set(symbol, {\n          price: coin.quote.USD.price,\n          change24h: coin.quote.USD.percent_change_24h,\n          marketCap: coin.quote.USD.market_cap,\n        });\n      }\n\n      return prices;\n    } catch (error) {\n      console.error(\"[CoinMarketCap] Prices error:\", error);\n      return prices;\n    }\n  }\n\n  private getHeaders(): Record<string, string> {\n    return {\n      Accept: \"application/json\",\n      \"X-CMC_PRO_API_KEY\": this.config.apiKey || \"\",\n    };\n  }\n\n  private createCoinDiscovery(coin: CMCCoin): RawDiscovery | null {\n    const changePercent = coin.quote.USD.percent_change_24h;\n    const direction = changePercent > 0 ? \"\" : \"\";\n    const isMajor = Math.abs(changePercent) >= THRESHOLDS.PRICE_CHANGE_MAJOR;\n\n    // Determine platform tag\n    const platformTag = coin.platform?.name\n      ? ` on ${coin.platform.name}`\n      : \"\";\n\n    return {\n      sourceId: `cmc-coin-${coin.id}-${Date.now()}`,\n      sourceUrl: `https://coinmarketcap.com/currencies/${coin.slug}/`,\n      title: `${direction} ${coin.name} (${coin.symbol}) ${isMajor ? \"MAJOR MOVE:\" : \"\"} ${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}%`,\n      description: `${coin.symbol} is ${changePercent > 0 ? \"up\" : \"down\"} ${Math.abs(changePercent).toFixed(2)}% in 24h${platformTag}. Price: $${coin.quote.USD.price.toLocaleString(undefined, { maximumFractionDigits: 6 })}. Market cap: $${(coin.quote.USD.market_cap / 1e9).toFixed(2)}B (#${coin.cmc_rank}). Volume: $${(coin.quote.USD.volume_24h / 1e6).toFixed(2)}M.`,\n      publishedAt: new Date(coin.quote.USD.last_updated),\n      metrics: {\n        views: coin.cmc_rank,\n        likes: Math.round(coin.quote.USD.volume_24h / 1e6),\n      },\n      metadata: {\n        type: \"price_move\",\n        source: \"coinmarketcap\",\n        coinId: coin.id,\n        symbol: coin.symbol,\n        name: coin.name,\n        slug: coin.slug,\n        price: coin.quote.USD.price,\n        priceChange1h: coin.quote.USD.percent_change_1h,\n        priceChange24h: changePercent,\n        priceChange7d: coin.quote.USD.percent_change_7d,\n        priceChange30d: coin.quote.USD.percent_change_30d,\n        marketCap: coin.quote.USD.market_cap,\n        marketCapRank: coin.cmc_rank,\n        volume24h: coin.quote.USD.volume_24h,\n        volumeChange24h: coin.quote.USD.volume_change_24h,\n        circulatingSupply: coin.circulating_supply,\n        totalSupply: coin.total_supply,\n        maxSupply: coin.max_supply,\n        fullyDilutedMarketCap: coin.quote.USD.fully_diluted_market_cap,\n        marketCapDominance: coin.quote.USD.market_cap_dominance,\n        platform: coin.platform?.name,\n        tokenAddress: coin.platform?.token_address,\n        tags: coin.tags,\n        isMajorMove: isMajor,\n      },\n    };\n  }\n\n  private createGlobalDiscovery(global: CMCGlobalMetrics): RawDiscovery | null {\n    const changePercent =\n      global.quote.USD.total_market_cap_yesterday_percentage_change;\n\n    // Only report if significant change or first run\n    if (\n      this.lastGlobalData &&\n      Math.abs(changePercent) < THRESHOLDS.PRICE_CHANGE_SIGNIFICANT\n    ) {\n      return null;\n    }\n\n    const totalMarketCap = global.quote.USD.total_market_cap / 1e12;\n\n    return {\n      sourceId: `cmc-global-${Date.now()}`,\n      sourceUrl: \"https://coinmarketcap.com/charts/\",\n      title: ` Crypto Market ${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}% | $${totalMarketCap.toFixed(2)}T Total (CMC)`,\n      description: `Global crypto market cap: $${totalMarketCap.toFixed(2)}T (${changePercent > 0 ? \"+\" : \"\"}${changePercent.toFixed(2)}% 24h). BTC dominance: ${global.btc_dominance.toFixed(1)}%. ETH dominance: ${global.eth_dominance.toFixed(1)}%. DeFi market cap: $${(global.defi_market_cap / 1e9).toFixed(2)}B (${global.defi_24h_percentage_change > 0 ? \"+\" : \"\"}${global.defi_24h_percentage_change.toFixed(2)}%). Active cryptos: ${global.active_cryptocurrencies.toLocaleString()}.`,\n      publishedAt: new Date(global.last_updated),\n      metrics: {\n        views: global.active_cryptocurrencies,\n        likes: global.active_exchanges,\n      },\n      metadata: {\n        type: \"global_market\",\n        source: \"coinmarketcap\",\n        totalMarketCapUsd: global.quote.USD.total_market_cap,\n        totalVolumeUsd: global.quote.USD.total_volume_24h,\n        marketCapChange24h: changePercent,\n        btcDominance: global.btc_dominance,\n        ethDominance: global.eth_dominance,\n        btcDominanceChange: global.btc_dominance - global.btc_dominance_yesterday,\n        ethDominanceChange: global.eth_dominance - global.eth_dominance_yesterday,\n        defiMarketCap: global.defi_market_cap,\n        defiChange24h: global.defi_24h_percentage_change,\n        stablecoinMarketCap: global.stablecoin_market_cap,\n        stablecoinChange24h: global.stablecoin_24h_percentage_change,\n        derivativesVolume24h: global.derivatives_volume_24h,\n        activeCryptocurrencies: global.active_cryptocurrencies,\n        activeExchanges: global.active_exchanges,\n        activeMarketPairs: global.active_market_pairs,\n      },\n    };\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = (raw.metadata as Record<string, unknown>) || {};\n\n    // Detect relevance\n    const hasWeb3Keywords = RELEVANCE_KEYWORDS.web3.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasSolanaKeywords =\n      RELEVANCE_KEYWORDS.solana.some((k) => text.includes(k.toLowerCase())) ||\n      metadata.platform === \"Solana\";\n    const hasEthereumKeywords =\n      RELEVANCE_KEYWORDS.ethereum.some((k) =>\n        text.includes(k.toLowerCase())\n      ) || metadata.platform === \"Ethereum\";\n\n    // High engagement = top 50 or major price move\n    const marketCapRank =\n      typeof metadata.marketCapRank === \"number\"\n        ? metadata.marketCapRank\n        : null;\n    const highEngagement =\n      (marketCapRank !== null && marketCapRank <= 50) ||\n      metadata.isMajorMove === true;\n\n    // Determine category from tags\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"web3\";\n    const tags = (metadata.tags as string[]) || [];\n    if (tags.some((t) => t.includes(\"defi\") || t.includes(\"lending\"))) {\n      category = \"defi\";\n    } else if (tags.some((t) => t.includes(\"nft\") || t.includes(\"gaming\"))) {\n      category = \"nft\";\n    } else if (tags.some((t) => t.includes(\"ai\") || t.includes(\"artificial\"))) {\n      category = \"ai\";\n    }\n\n    // Generate tags for discovery\n    const discoveryTags: string[] = [\"crypto\", \"market-data\", \"coinmarketcap\"];\n    if (metadata.type === \"price_move\") discoveryTags.push(\"price-action\");\n    if (metadata.type === \"global_market\") discoveryTags.push(\"macro\");\n    if (metadata.symbol)\n      discoveryTags.push(String(metadata.symbol).toLowerCase());\n    if (hasSolanaKeywords) discoveryTags.push(\"solana\");\n    if (hasEthereumKeywords) discoveryTags.push(\"ethereum\");\n\n    // Fingerprint for deduplication\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `cmc-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: \"coinmarketcap\" as any, // Will be added to HuntSourceSchema\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags: discoveryTags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n\n// Export types for external use\nexport type {\n  CMCCoin,\n  CMCGlobalMetrics,\n  CMCResponse,\n};\n","/**\n * LunarCrush Hunter - Social sentiment and engagement metrics\n *\n * LunarCrush tracks social activity across Twitter, Reddit, YouTube, etc.\n * Provides Galaxy Score, AltRank, and social engagement metrics.\n *\n * Free tier: Limited endpoints (public API)\n * Pro tier: Full API access with key\n *\n * Endpoints:\n * - /coins/list - Top coins by social activity\n * - /coins/:coin - Detailed coin metrics\n * - /feeds - Social media feed aggregation\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// LunarCrush API types\ninterface LunarCoin {\n  id: number;\n  symbol: string;\n  name: string;\n  price: number;\n  price_btc: number;\n  market_cap: number;\n  percent_change_24h: number;\n  percent_change_7d: number;\n  volume_24h: number;\n  // Social metrics\n  galaxy_score: number; // 0-100, overall social health\n  alt_rank: number; // Ranking vs other alts\n  social_volume: number; // Total social mentions\n  social_volume_change_24h: number;\n  social_score: number; // Engagement quality\n  social_contributors: number;\n  social_dominance: number; // % of total crypto social\n  sentiment: number; // -100 to 100\n  // Engagement breakdown\n  twitter_volume: number;\n  twitter_volume_change_24h: number;\n  reddit_volume: number;\n  reddit_volume_change_24h: number;\n  news_volume: number;\n  spam_volume: number;\n  // Time data\n  time: number; // Unix timestamp\n}\n\ninterface LunarFeedItem {\n  id: string;\n  type: \"tweet\" | \"reddit\" | \"news\" | \"youtube\";\n  title?: string;\n  body: string;\n  url: string;\n  time: number;\n  social_score: number;\n  sentiment: number;\n  symbol?: string;\n  influencer_id?: number;\n  influencer_name?: string;\n  influencer_followers?: number;\n}\n\ninterface LunarInfluencer {\n  id: number;\n  twitter_screen_name: string;\n  display_name: string;\n  followers: number;\n  engagement_rate: number;\n  influence_score: number;\n  avg_sentiment: number;\n}\n\n// LunarCrush API base URL\nconst LUNARCRUSH_API_V2 = \"https://lunarcrush.com/api/v2\";\nconst LUNARCRUSH_API_V3 = \"https://lunarcrush.com/api3\"; // Some endpoints\n\n// Thresholds for significant social events\nconst THRESHOLDS = {\n  GALAXY_SCORE_HIGH: 70, // Top tier social health\n  GALAXY_SCORE_LOW: 30, // Concerning social health\n  SOCIAL_VOLUME_SPIKE: 50, // 50% increase in 24h\n  SENTIMENT_BULLISH: 60, // Strong positive sentiment\n  SENTIMENT_BEARISH: -40, // Strong negative sentiment\n  ALT_RANK_TOP: 50, // Top 50 by social\n  INFLUENCER_FOLLOWERS_MIN: 10000,\n};\n\nexport class LunarCrushHunter implements BaseHunterSource {\n  source = \"lunarcrush\" as const;\n  private config: HunterConfig;\n  private lastSocialVolumes: Map<string, number> = new Map();\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // Check if API key is available\n    if (!this.config.apiKey) {\n      console.warn(\"[LunarCrush] API key required for full functionality\");\n      // Try public endpoints only\n      return this.huntPublicData();\n    }\n\n    try {\n      // Parallel fetch all data\n      const [topCoins, feedItems] = await Promise.all([\n        this.fetchTopCoins(),\n        this.fetchSocialFeed(),\n      ]);\n\n      // Process top social coins\n      for (const coin of topCoins) {\n        const discoveries_for_coin = this.processCoin(coin);\n        discoveries.push(...discoveries_for_coin);\n      }\n\n      // Process viral feed items\n      for (const item of feedItems) {\n        const discovery = this.createFeedDiscovery(item);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Update volume tracking for next run\n      for (const coin of topCoins) {\n        this.lastSocialVolumes.set(coin.symbol, coin.social_volume);\n      }\n    } catch (error) {\n      console.error(\"[LunarCrushHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  private async huntPublicData(): Promise<RawDiscovery[]> {\n    // Fallback to public endpoints without API key\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Try the public trending endpoint\n      const response = await fetch(\n        `${LUNARCRUSH_API_V3}/coins?sort=galaxy_score&limit=20`,\n        { headers: { Accept: \"application/json\" } }\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        const coins = data.data || [];\n        for (const coin of coins) {\n          if (coin.galaxy_score >= THRESHOLDS.GALAXY_SCORE_HIGH) {\n            discoveries.push(this.createHighSocialDiscovery(coin));\n          }\n        }\n      }\n    } catch (error) {\n      console.warn(\"[LunarCrush] Public endpoint failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  private async fetchTopCoins(): Promise<LunarCoin[]> {\n    try {\n      const response = await fetch(\n        `${LUNARCRUSH_API_V2}/assets?sort=galaxy_score&limit=50`,\n        {\n          headers: this.getHeaders(),\n        }\n      );\n\n      if (!response.ok) {\n        console.warn(`[LunarCrush] Top coins fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.data || [];\n    } catch (error) {\n      console.error(\"[LunarCrush] Top coins error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchSocialFeed(): Promise<LunarFeedItem[]> {\n    try {\n      const response = await fetch(\n        `${LUNARCRUSH_API_V2}/feeds?limit=50&sources=twitter,reddit,news`,\n        {\n          headers: this.getHeaders(),\n        }\n      );\n\n      if (!response.ok) {\n        console.warn(`[LunarCrush] Feed fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      const items: LunarFeedItem[] = data.data || [];\n\n      // Filter to high-engagement items\n      return items.filter(\n        (item) =>\n          item.social_score >= 50 ||\n          (item.influencer_followers &&\n            item.influencer_followers >= THRESHOLDS.INFLUENCER_FOLLOWERS_MIN)\n      );\n    } catch (error) {\n      console.error(\"[LunarCrush] Feed error:\", error);\n      return [];\n    }\n  }\n\n  private getHeaders(): Record<string, string> {\n    return {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${this.config.apiKey}`,\n    };\n  }\n\n  private processCoin(coin: LunarCoin): RawDiscovery[] {\n    const discoveries: RawDiscovery[] = [];\n\n    // High Galaxy Score alert\n    if (coin.galaxy_score >= THRESHOLDS.GALAXY_SCORE_HIGH) {\n      discoveries.push(this.createHighSocialDiscovery(coin));\n    }\n\n    // Low Galaxy Score warning\n    if (coin.galaxy_score <= THRESHOLDS.GALAXY_SCORE_LOW && coin.alt_rank <= 100) {\n      discoveries.push(this.createLowSocialDiscovery(coin));\n    }\n\n    // Social volume spike\n    const prevVolume = this.lastSocialVolumes.get(coin.symbol);\n    if (prevVolume && coin.social_volume_change_24h >= THRESHOLDS.SOCIAL_VOLUME_SPIKE) {\n      discoveries.push(this.createVolumeSpikeDiscovery(coin));\n    }\n\n    // Strong sentiment\n    if (coin.sentiment >= THRESHOLDS.SENTIMENT_BULLISH) {\n      discoveries.push(this.createSentimentDiscovery(coin, \"bullish\"));\n    } else if (coin.sentiment <= THRESHOLDS.SENTIMENT_BEARISH) {\n      discoveries.push(this.createSentimentDiscovery(coin, \"bearish\"));\n    }\n\n    return discoveries;\n  }\n\n  private createHighSocialDiscovery(coin: LunarCoin): RawDiscovery {\n    return {\n      sourceId: `lunarcrush-high-${coin.symbol}-${Date.now()}`,\n      sourceUrl: `https://lunarcrush.com/coins/${coin.symbol.toLowerCase()}`,\n      title: ` ${coin.name} (${coin.symbol}) High Social Activity - Galaxy Score: ${coin.galaxy_score}`,\n      description: `${coin.name} ranks #${coin.alt_rank} by social metrics. Galaxy Score: ${coin.galaxy_score}/100. Social Volume: ${coin.social_volume?.toLocaleString() || \"N/A\"} mentions. Sentiment: ${this.formatSentiment(coin.sentiment)}. Price: $${coin.price?.toFixed(4)} (${coin.percent_change_24h > 0 ? \"+\" : \"\"}${coin.percent_change_24h?.toFixed(2)}% 24h).`,\n      publishedAt: new Date(coin.time * 1000),\n      metrics: {\n        points: coin.galaxy_score,\n        likes: coin.social_volume,\n        comments: coin.social_contributors,\n      },\n      metadata: {\n        type: \"high_social\",\n        symbol: coin.symbol,\n        name: coin.name,\n        galaxyScore: coin.galaxy_score,\n        altRank: coin.alt_rank,\n        socialVolume: coin.social_volume,\n        socialScore: coin.social_score,\n        sentiment: coin.sentiment,\n        socialDominance: coin.social_dominance,\n        twitterVolume: coin.twitter_volume,\n        redditVolume: coin.reddit_volume,\n        price: coin.price,\n        priceChange24h: coin.percent_change_24h,\n        marketCap: coin.market_cap,\n      },\n    };\n  }\n\n  private createLowSocialDiscovery(coin: LunarCoin): RawDiscovery {\n    return {\n      sourceId: `lunarcrush-low-${coin.symbol}-${Date.now()}`,\n      sourceUrl: `https://lunarcrush.com/coins/${coin.symbol.toLowerCase()}`,\n      title: ` ${coin.name} (${coin.symbol}) Low Social Activity - Galaxy Score: ${coin.galaxy_score}`,\n      description: `Warning: ${coin.name} showing weak social metrics. Galaxy Score dropped to ${coin.galaxy_score}/100. Alt Rank: #${coin.alt_rank}. Could indicate declining interest or accumulation phase.`,\n      publishedAt: new Date(coin.time * 1000),\n      metrics: {\n        points: coin.galaxy_score,\n        likes: coin.social_volume,\n      },\n      metadata: {\n        type: \"low_social\",\n        symbol: coin.symbol,\n        name: coin.name,\n        galaxyScore: coin.galaxy_score,\n        altRank: coin.alt_rank,\n        socialVolume: coin.social_volume,\n        sentiment: coin.sentiment,\n      },\n    };\n  }\n\n  private createVolumeSpikeDiscovery(coin: LunarCoin): RawDiscovery {\n    return {\n      sourceId: `lunarcrush-spike-${coin.symbol}-${Date.now()}`,\n      sourceUrl: `https://lunarcrush.com/coins/${coin.symbol.toLowerCase()}`,\n      title: ` ${coin.name} (${coin.symbol}) Social Volume Spike +${coin.social_volume_change_24h.toFixed(0)}%`,\n      description: `${coin.name} social mentions surged ${coin.social_volume_change_24h.toFixed(0)}% in 24h. Current volume: ${coin.social_volume?.toLocaleString()}. Twitter: ${coin.twitter_volume_change_24h > 0 ? \"+\" : \"\"}${coin.twitter_volume_change_24h?.toFixed(0)}%. Reddit: ${coin.reddit_volume_change_24h > 0 ? \"+\" : \"\"}${coin.reddit_volume_change_24h?.toFixed(0)}%.`,\n      publishedAt: new Date(coin.time * 1000),\n      metrics: {\n        points: Math.round(coin.social_volume_change_24h),\n        likes: coin.social_volume,\n      },\n      metadata: {\n        type: \"volume_spike\",\n        symbol: coin.symbol,\n        name: coin.name,\n        volumeChange24h: coin.social_volume_change_24h,\n        socialVolume: coin.social_volume,\n        twitterVolumeChange: coin.twitter_volume_change_24h,\n        redditVolumeChange: coin.reddit_volume_change_24h,\n        galaxyScore: coin.galaxy_score,\n      },\n    };\n  }\n\n  private createSentimentDiscovery(\n    coin: LunarCoin,\n    type: \"bullish\" | \"bearish\"\n  ): RawDiscovery {\n    const emoji = type === \"bullish\" ? \"\" : \"\";\n\n    return {\n      sourceId: `lunarcrush-sentiment-${coin.symbol}-${Date.now()}`,\n      sourceUrl: `https://lunarcrush.com/coins/${coin.symbol.toLowerCase()}`,\n      title: `${emoji} ${coin.name} (${coin.symbol}) Strong ${type === \"bullish\" ? \"Bullish\" : \"Bearish\"} Sentiment: ${coin.sentiment}`,\n      description: `${coin.name} showing ${type} social sentiment of ${coin.sentiment}/100. Social score: ${coin.social_score}. Contributors: ${coin.social_contributors?.toLocaleString()}. Galaxy Score: ${coin.galaxy_score}/100.`,\n      publishedAt: new Date(coin.time * 1000),\n      metrics: {\n        points: Math.abs(coin.sentiment),\n        likes: coin.social_score,\n      },\n      metadata: {\n        type: `${type}_sentiment`,\n        symbol: coin.symbol,\n        name: coin.name,\n        sentiment: coin.sentiment,\n        sentimentType: type,\n        socialScore: coin.social_score,\n        socialContributors: coin.social_contributors,\n        galaxyScore: coin.galaxy_score,\n      },\n    };\n  }\n\n  private createFeedDiscovery(item: LunarFeedItem): RawDiscovery | null {\n    const sourceEmoji = this.getSourceEmoji(item.type);\n    const sentimentEmoji = item.sentiment >= 0 ? \"\" : \"\";\n\n    return {\n      sourceId: `lunarcrush-feed-${item.id}`,\n      sourceUrl: item.url,\n      title: `${sourceEmoji} ${item.title || item.body.slice(0, 80)}...`,\n      description: `${item.body.slice(0, 300)}${item.body.length > 300 ? \"...\" : \"\"} | Sentiment: ${sentimentEmoji} ${item.sentiment} | Score: ${item.social_score}${item.influencer_name ? ` | By @${item.influencer_name} (${item.influencer_followers?.toLocaleString()} followers)` : \"\"}`,\n      author: item.influencer_name,\n      publishedAt: new Date(item.time * 1000),\n      metrics: {\n        points: item.social_score,\n        likes: item.influencer_followers || 0,\n      },\n      metadata: {\n        type: \"social_post\",\n        postType: item.type,\n        symbol: item.symbol,\n        sentiment: item.sentiment,\n        socialScore: item.social_score,\n        influencerId: item.influencer_id,\n        influencerName: item.influencer_name,\n        influencerFollowers: item.influencer_followers,\n      },\n    };\n  }\n\n  private getSourceEmoji(type: LunarFeedItem[\"type\"]): string {\n    switch (type) {\n      case \"tweet\":\n        return \"\";\n      case \"reddit\":\n        return \"\";\n      case \"news\":\n        return \"\";\n      case \"youtube\":\n        return \"\";\n      default:\n        return \"\";\n    }\n  }\n\n  private formatSentiment(sentiment: number): string {\n    if (sentiment >= 60) return `Very Bullish (${sentiment})`;\n    if (sentiment >= 20) return `Bullish (${sentiment})`;\n    if (sentiment >= -20) return `Neutral (${sentiment})`;\n    if (sentiment >= -60) return `Bearish (${sentiment})`;\n    return `Very Bearish (${sentiment})`;\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = raw.metadata as Record<string, unknown>;\n\n    // Detect relevance\n    const hasWeb3Keywords = RELEVANCE_KEYWORDS.web3.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasSolanaKeywords = RELEVANCE_KEYWORDS.solana.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasEthereumKeywords = RELEVANCE_KEYWORDS.ethereum.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n\n    // High engagement = high galaxy score or viral post\n    const galaxyScore = (metadata.galaxyScore as number) || 0;\n    const socialScore = (metadata.socialScore as number) || 0;\n    const highEngagement =\n      galaxyScore >= THRESHOLDS.GALAXY_SCORE_HIGH || socialScore >= 80;\n\n    // Determine category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"web3\";\n    if (hasAIKeywords) category = \"ai\";\n    if (text.includes(\"nft\") || text.includes(\"collectible\")) category = \"nft\";\n    if (\n      text.includes(\"defi\") ||\n      text.includes(\"yield\") ||\n      text.includes(\"lending\")\n    )\n      category = \"defi\";\n\n    // Generate tags\n    const tags: string[] = [\"social-sentiment\", \"lunarcrush\"];\n    const symbol = metadata.symbol as string;\n    if (symbol) tags.push(symbol.toLowerCase());\n\n    const type = metadata.type as string;\n    if (type === \"high_social\") tags.push(\"trending\");\n    if (type === \"volume_spike\") tags.push(\"viral\");\n    if (type?.includes(\"sentiment\")) tags.push(\"sentiment\");\n    if (type === \"social_post\") {\n      const postType = metadata.postType as string;\n      if (postType) tags.push(postType);\n    }\n\n    if (hasSolanaKeywords) tags.push(\"solana\");\n    if (hasEthereumKeywords) tags.push(\"ethereum\");\n\n    // Fingerprint for deduplication\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `lunarcrush-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: this.source,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: true, // Always crypto-related\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n","/**\n * RugCheck Hunter - Token Safety Scanner for Solana\n *\n * FREE API - No authentication required\n * Base URL: https://api.rugcheck.xyz\n *\n * Provides:\n * - Token safety reports\n * - Scam detection\n * - Trending/new tokens\n * - Community voting data\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// RugCheck API types\ninterface RugCheckReport {\n  mint: string;\n  tokenMeta?: {\n    name: string;\n    symbol: string;\n    uri?: string;\n    mutable: boolean;\n    updateAuthority?: string;\n  };\n  token?: {\n    name: string;\n    symbol: string;\n    decimals: number;\n    supply: number;\n    mintAuthority?: string;\n    freezeAuthority?: string;\n  };\n  risks: RugCheckRisk[];\n  score: number;\n  rugged: boolean;\n  markets?: RugCheckMarket[];\n  topHolders?: RugCheckHolder[];\n  fileMeta?: {\n    description?: string;\n    image?: string;\n    twitter?: string;\n    telegram?: string;\n    website?: string;\n  };\n}\n\ninterface RugCheckRisk {\n  name: string;\n  description: string;\n  level: \"warn\" | \"danger\" | \"info\";\n  score: number;\n}\n\ninterface RugCheckMarket {\n  pubkey: string;\n  marketType: string;\n  lpMint?: string;\n  liquidityA?: number;\n  liquidityB?: number;\n}\n\ninterface RugCheckHolder {\n  address: string;\n  amount: number;\n  pct: number;\n  insider: boolean;\n}\n\ninterface RugCheckSummary {\n  mint: string;\n  score: number;\n  risks: string[];\n  rugged: boolean;\n}\n\ninterface RugCheckTrendingToken {\n  mint: string;\n  name: string;\n  symbol: string;\n  score: number;\n  votes: number;\n  views: number;\n}\n\ninterface RugCheckNewToken {\n  mint: string;\n  name: string;\n  symbol: string;\n  createdAt: string;\n  score?: number;\n}\n\nconst RUGCHECK_BASE_URL = \"https://api.rugcheck.xyz/v1\";\n\n// Risk level thresholds\nconst THRESHOLDS = {\n  SAFE_SCORE: 80, // Score >= 80 is considered safe\n  RISKY_SCORE: 50, // Score < 50 is risky\n  DANGER_SCORE: 30, // Score < 30 is dangerous\n};\n\nexport class RugCheckHunter implements BaseHunterSource {\n  source = \"rugcheck\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Parallel fetch trending and new tokens\n      const [trending, newTokens, verified] = await Promise.all([\n        this.fetchTrendingTokens(),\n        this.fetchNewTokens(),\n        this.fetchVerifiedTokens(),\n      ]);\n\n      // Process trending tokens\n      for (const token of trending.slice(0, 10)) {\n        const discovery = this.createTrendingDiscovery(token);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process new tokens (potential opportunities or scams)\n      for (const token of newTokens.slice(0, 20)) {\n        const discovery = this.createNewTokenDiscovery(token);\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process verified safe tokens\n      for (const token of verified.slice(0, 5)) {\n        const discovery = this.createVerifiedDiscovery(token);\n        if (discovery) discoveries.push(discovery);\n      }\n    } catch (error) {\n      console.error(\"[RugCheckHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  /**\n   * Get detailed safety report for a specific token\n   */\n  async getTokenReport(mint: string): Promise<RugCheckReport | null> {\n    try {\n      const response = await fetch(\n        `${RUGCHECK_BASE_URL}/tokens/${mint}/report`,\n        { headers: { Accept: \"application/json\" } }\n      );\n\n      if (!response.ok) {\n        console.warn(`[RugCheck] Report fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[RugCheck] Report error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Get quick safety summary for a token\n   */\n  async getTokenSummary(mint: string): Promise<RugCheckSummary | null> {\n    try {\n      const response = await fetch(\n        `${RUGCHECK_BASE_URL}/tokens/${mint}/report/summary`,\n        { headers: { Accept: \"application/json\" } }\n      );\n\n      if (!response.ok) {\n        console.warn(`[RugCheck] Summary fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[RugCheck] Summary error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Check if a token is safe (score >= 80)\n   */\n  async isTokenSafe(mint: string): Promise<{\n    safe: boolean;\n    score: number;\n    risks: string[];\n    rugged: boolean;\n  }> {\n    const summary = await this.getTokenSummary(mint);\n    if (!summary) {\n      return { safe: false, score: 0, risks: [\"Unable to fetch data\"], rugged: false };\n    }\n\n    return {\n      safe: summary.score >= THRESHOLDS.SAFE_SCORE && !summary.rugged,\n      score: summary.score,\n      risks: summary.risks,\n      rugged: summary.rugged,\n    };\n  }\n\n  private async fetchTrendingTokens(): Promise<RugCheckTrendingToken[]> {\n    try {\n      const response = await fetch(`${RUGCHECK_BASE_URL}/stats/trending`, {\n        headers: { Accept: \"application/json\" },\n      });\n\n      if (!response.ok) {\n        console.warn(`[RugCheck] Trending fetch failed: ${response.status}`);\n        return [];\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[RugCheck] Trending error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchNewTokens(): Promise<RugCheckNewToken[]> {\n    try {\n      const response = await fetch(`${RUGCHECK_BASE_URL}/stats/new_tokens`, {\n        headers: { Accept: \"application/json\" },\n      });\n\n      if (!response.ok) {\n        console.warn(`[RugCheck] New tokens fetch failed: ${response.status}`);\n        return [];\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[RugCheck] New tokens error:\", error);\n      return [];\n    }\n  }\n\n  private async fetchVerifiedTokens(): Promise<RugCheckTrendingToken[]> {\n    try {\n      const response = await fetch(`${RUGCHECK_BASE_URL}/stats/verified`, {\n        headers: { Accept: \"application/json\" },\n      });\n\n      if (!response.ok) {\n        console.warn(`[RugCheck] Verified fetch failed: ${response.status}`);\n        return [];\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[RugCheck] Verified error:\", error);\n      return [];\n    }\n  }\n\n  private createTrendingDiscovery(\n    token: RugCheckTrendingToken\n  ): RawDiscovery | null {\n    const safetyEmoji = this.getSafetyEmoji(token.score);\n    const safetyLabel = this.getSafetyLabel(token.score);\n\n    return {\n      sourceId: `rugcheck-trending-${token.mint}`,\n      sourceUrl: `https://rugcheck.xyz/tokens/${token.mint}`,\n      title: `${safetyEmoji} ${token.name} (${token.symbol}) - ${safetyLabel} | Score: ${token.score}/100`,\n      description: `Trending on RugCheck. Safety score: ${token.score}/100. Views: ${token.views?.toLocaleString() || \"N/A\"}. Community votes: ${token.votes || 0}.`,\n      publishedAt: new Date(),\n      metrics: {\n        points: token.score,\n        views: token.views,\n        likes: token.votes,\n      },\n      metadata: {\n        type: \"trending_safety\",\n        source: \"rugcheck\",\n        mint: token.mint,\n        name: token.name,\n        symbol: token.symbol,\n        safetyScore: token.score,\n        safetyLabel,\n        views: token.views,\n        votes: token.votes,\n        isSafe: token.score >= THRESHOLDS.SAFE_SCORE,\n        isRisky: token.score < THRESHOLDS.RISKY_SCORE,\n      },\n    };\n  }\n\n  private createNewTokenDiscovery(token: RugCheckNewToken): RawDiscovery | null {\n    const safetyEmoji = token.score ? this.getSafetyEmoji(token.score) : \"\";\n    const safetyLabel = token.score\n      ? this.getSafetyLabel(token.score)\n      : \"UNSCANNED\";\n\n    return {\n      sourceId: `rugcheck-new-${token.mint}`,\n      sourceUrl: `https://rugcheck.xyz/tokens/${token.mint}`,\n      title: `${safetyEmoji} NEW: ${token.name} (${token.symbol}) - ${safetyLabel}`,\n      description: `New token detected. ${token.score ? `Safety score: ${token.score}/100.` : \"Not yet scanned.\"} Created: ${new Date(token.createdAt).toLocaleString()}.`,\n      publishedAt: new Date(token.createdAt),\n      metrics: {\n        points: token.score || 0,\n      },\n      metadata: {\n        type: \"new_token\",\n        source: \"rugcheck\",\n        mint: token.mint,\n        name: token.name,\n        symbol: token.symbol,\n        safetyScore: token.score,\n        safetyLabel,\n        createdAt: token.createdAt,\n        isNew: true,\n        needsScan: !token.score,\n      },\n    };\n  }\n\n  private createVerifiedDiscovery(\n    token: RugCheckTrendingToken\n  ): RawDiscovery | null {\n    return {\n      sourceId: `rugcheck-verified-${token.mint}`,\n      sourceUrl: `https://rugcheck.xyz/tokens/${token.mint}`,\n      title: ` VERIFIED: ${token.name} (${token.symbol}) - Score: ${token.score}/100`,\n      description: `Verified safe token. Safety score: ${token.score}/100. Community-vetted and approved.`,\n      publishedAt: new Date(),\n      metrics: {\n        points: token.score,\n        views: token.views,\n        likes: token.votes,\n      },\n      metadata: {\n        type: \"verified_safe\",\n        source: \"rugcheck\",\n        mint: token.mint,\n        name: token.name,\n        symbol: token.symbol,\n        safetyScore: token.score,\n        verified: true,\n        views: token.views,\n        votes: token.votes,\n      },\n    };\n  }\n\n  private getSafetyEmoji(score: number): string {\n    if (score >= THRESHOLDS.SAFE_SCORE) return \"\";\n    if (score >= THRESHOLDS.RISKY_SCORE) return \"\";\n    if (score >= THRESHOLDS.DANGER_SCORE) return \"\";\n    return \"\";\n  }\n\n  private getSafetyLabel(score: number): string {\n    if (score >= THRESHOLDS.SAFE_SCORE) return \"SAFE\";\n    if (score >= THRESHOLDS.RISKY_SCORE) return \"MODERATE RISK\";\n    if (score >= THRESHOLDS.DANGER_SCORE) return \"HIGH RISK\";\n    return \"DANGER\";\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = (raw.metadata as Record<string, unknown>) || {};\n\n    // Always web3/crypto relevant\n    const hasWeb3Keywords = true;\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasSolanaKeywords = true; // RugCheck is Solana-specific\n\n    // High engagement = safe tokens or trending\n    const highEngagement =\n      metadata.verified === true ||\n      metadata.isSafe === true ||\n      (metadata.views as number) > 1000;\n\n    // Determine category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"web3\";\n    if (metadata.type === \"verified_safe\") category = \"defi\";\n\n    // Generate tags\n    const tags: string[] = [\"solana\", \"safety\", \"rugcheck\"];\n    if (metadata.verified) tags.push(\"verified\");\n    if (metadata.isSafe) tags.push(\"safe\");\n    if (metadata.isRisky) tags.push(\"risky\");\n    if (metadata.isNew) tags.push(\"new-token\");\n    if (metadata.symbol) tags.push(String(metadata.symbol).toLowerCase());\n\n    // Fingerprint\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `rugcheck-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: \"rugcheck\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n\n// Export types for external use\nexport type {\n  RugCheckReport,\n  RugCheckRisk,\n  RugCheckSummary,\n  RugCheckTrendingToken,\n  RugCheckNewToken,\n};\n","/**\n * Pump.fun Hunter - Memecoin Launch Tracker for Solana\n *\n * FREE API - No authentication required\n * Base URL: https://frontend-api.pump.fun\n *\n * Provides:\n * - New memecoin launches\n * - Bonding curve data\n * - King of the Hill tracking\n * - Token details and metadata\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// Pump.fun API types\ninterface PumpFunCoin {\n  mint: string;\n  name: string;\n  symbol: string;\n  description?: string;\n  image_uri?: string;\n  video_uri?: string;\n  metadata_uri?: string;\n  twitter?: string;\n  telegram?: string;\n  bonding_curve: string;\n  associated_bonding_curve?: string;\n  creator: string;\n  created_timestamp: number;\n  raydium_pool?: string;\n  complete: boolean;\n  virtual_sol_reserves: number;\n  virtual_token_reserves: number;\n  total_supply: number;\n  website?: string;\n  show_name: boolean;\n  king_of_the_hill_timestamp?: number;\n  market_cap?: number;\n  reply_count?: number;\n  last_reply?: number;\n  nsfw: boolean;\n  market_id?: string;\n  inverted?: boolean;\n  usd_market_cap?: number;\n}\n\ninterface PumpFunKingOfTheHill {\n  mint: string;\n  name: string;\n  symbol: string;\n  market_cap: number;\n  timestamp: number;\n}\n\nconst PUMPFUN_BASE_URL = \"https://frontend-api.pump.fun\";\n\n// Thresholds for significant launches\nconst THRESHOLDS = {\n  HIGH_MARKET_CAP: 100000, // $100k market cap\n  MEDIUM_MARKET_CAP: 10000, // $10k market cap\n  HIGH_REPLIES: 50, // Many community replies\n  GRADUATED: true, // Completed bonding curve\n};\n\nexport class PumpFunHunter implements BaseHunterSource {\n  source = \"pumpfun\" as const;\n  private config: HunterConfig;\n  private lastKingOfTheHill: string | null = null;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Parallel fetch new coins and king of the hill\n      const [newCoins, kingOfTheHill] = await Promise.all([\n        this.fetchNewCoins(),\n        this.fetchKingOfTheHill(),\n      ]);\n\n      // Process new launches\n      for (const coin of newCoins.slice(0, 20)) {\n        const discovery = this.createCoinDiscovery(coin, \"new\");\n        if (discovery) discoveries.push(discovery);\n      }\n\n      // Process king of the hill (if changed)\n      if (kingOfTheHill && kingOfTheHill.mint !== this.lastKingOfTheHill) {\n        const kingDiscovery = this.createKingDiscovery(kingOfTheHill);\n        if (kingDiscovery) discoveries.push(kingDiscovery);\n        this.lastKingOfTheHill = kingOfTheHill.mint;\n      }\n\n      // Find graduated tokens (completed bonding curve)\n      const graduated = newCoins.filter((c) => c.complete);\n      for (const coin of graduated.slice(0, 5)) {\n        const discovery = this.createCoinDiscovery(coin, \"graduated\");\n        if (discovery) discoveries.push(discovery);\n      }\n    } catch (error) {\n      console.error(\"[PumpFunHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  /**\n   * Fetch latest coins from Pump.fun\n   */\n  async fetchNewCoins(limit: number = 50): Promise<PumpFunCoin[]> {\n    try {\n      const response = await fetch(\n        `${PUMPFUN_BASE_URL}/coins?offset=0&limit=${limit}&sort=created_timestamp&order=DESC&includeNsfw=false`,\n        {\n          headers: {\n            Accept: \"application/json\",\n            \"User-Agent\": \"gICM-Hunter/1.0\",\n          },\n        }\n      );\n\n      if (!response.ok) {\n        console.warn(`[PumpFun] Coins fetch failed: ${response.status}`);\n        return [];\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[PumpFun] Coins error:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Fetch specific coin details\n   */\n  async getCoinDetails(mint: string): Promise<PumpFunCoin | null> {\n    try {\n      const response = await fetch(`${PUMPFUN_BASE_URL}/coins/${mint}`, {\n        headers: {\n          Accept: \"application/json\",\n          \"User-Agent\": \"gICM-Hunter/1.0\",\n        },\n      });\n\n      if (!response.ok) {\n        console.warn(`[PumpFun] Coin details fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[PumpFun] Coin details error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Fetch current king of the hill\n   */\n  async fetchKingOfTheHill(): Promise<PumpFunCoin | null> {\n    try {\n      const response = await fetch(`${PUMPFUN_BASE_URL}/coins/king-of-the-hill`, {\n        headers: {\n          Accept: \"application/json\",\n          \"User-Agent\": \"gICM-Hunter/1.0\",\n        },\n      });\n\n      if (!response.ok) {\n        console.warn(`[PumpFun] King fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[PumpFun] King error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Calculate bonding curve progress\n   */\n  private getBondingCurveProgress(coin: PumpFunCoin): number {\n    // Pump.fun bonding curve completes when ~$69k worth of SOL is raised\n    // Virtual reserves give us an idea of progress\n    if (coin.complete) return 100;\n\n    // Rough estimation based on virtual reserves\n    const targetSol = 85; // ~85 SOL to complete (varies)\n    const currentSol = coin.virtual_sol_reserves / 1e9; // Convert lamports to SOL\n    return Math.min(100, (currentSol / targetSol) * 100);\n  }\n\n  /**\n   * Calculate estimated market cap from reserves\n   */\n  private getEstimatedMarketCap(coin: PumpFunCoin): number {\n    if (coin.usd_market_cap) return coin.usd_market_cap;\n    if (coin.market_cap) return coin.market_cap;\n\n    // Estimate from virtual reserves (rough calculation)\n    const solPrice = 200; // Approximate SOL price, should be fetched dynamically\n    const virtualSol = coin.virtual_sol_reserves / 1e9;\n    return virtualSol * solPrice * 2; // Rough market cap estimate\n  }\n\n  private createCoinDiscovery(\n    coin: PumpFunCoin,\n    type: \"new\" | \"graduated\"\n  ): RawDiscovery | null {\n    const progress = this.getBondingCurveProgress(coin);\n    const marketCap = this.getEstimatedMarketCap(coin);\n    const createdAt = new Date(coin.created_timestamp);\n\n    // Skip NSFW content\n    if (coin.nsfw) return null;\n\n    const emoji = type === \"graduated\" ? \"\" : progress > 50 ? \"\" : \"\";\n    const statusLabel = coin.complete\n      ? \"GRADUATED (Raydium)\"\n      : `${progress.toFixed(0)}% to Raydium`;\n\n    return {\n      sourceId: `pumpfun-${type}-${coin.mint}`,\n      sourceUrl: `https://pump.fun/${coin.mint}`,\n      title: `${emoji} ${coin.name} (${coin.symbol}) - ${statusLabel}`,\n      description: `${coin.description?.slice(0, 200) || \"New memecoin on Pump.fun\"}. Market cap: ~$${(marketCap / 1000).toFixed(1)}k. ${coin.reply_count ? `${coin.reply_count} replies.` : \"\"} ${coin.twitter ? \"Has Twitter.\" : \"\"} ${coin.telegram ? \"Has Telegram.\" : \"\"}`,\n      author: coin.creator,\n      publishedAt: createdAt,\n      metrics: {\n        views: coin.reply_count || 0,\n        likes: coin.complete ? 100 : Math.floor(progress),\n      },\n      metadata: {\n        type: type === \"graduated\" ? \"graduated_token\" : \"new_launch\",\n        source: \"pumpfun\",\n        mint: coin.mint,\n        name: coin.name,\n        symbol: coin.symbol,\n        description: coin.description,\n        creator: coin.creator,\n        bondingCurve: coin.bonding_curve,\n        bondingCurveProgress: progress,\n        complete: coin.complete,\n        raydiumPool: coin.raydium_pool,\n        marketCap,\n        virtualSolReserves: coin.virtual_sol_reserves,\n        virtualTokenReserves: coin.virtual_token_reserves,\n        totalSupply: coin.total_supply,\n        imageUri: coin.image_uri,\n        twitter: coin.twitter,\n        telegram: coin.telegram,\n        website: coin.website,\n        replyCount: coin.reply_count,\n        createdTimestamp: coin.created_timestamp,\n        isGraduated: coin.complete,\n        hasRaydiumPool: !!coin.raydium_pool,\n      },\n    };\n  }\n\n  private createKingDiscovery(coin: PumpFunCoin): RawDiscovery | null {\n    const marketCap = this.getEstimatedMarketCap(coin);\n\n    return {\n      sourceId: `pumpfun-king-${coin.mint}-${Date.now()}`,\n      sourceUrl: `https://pump.fun/${coin.mint}`,\n      title: ` NEW KING: ${coin.name} (${coin.symbol}) - Top of Pump.fun`,\n      description: `${coin.name} is now King of the Hill on Pump.fun! Market cap: ~$${(marketCap / 1000).toFixed(1)}k. ${coin.description?.slice(0, 150) || \"\"}`,\n      author: coin.creator,\n      publishedAt: new Date(),\n      metrics: {\n        views: coin.reply_count || 0,\n        likes: 100,\n      },\n      metadata: {\n        type: \"king_of_the_hill\",\n        source: \"pumpfun\",\n        mint: coin.mint,\n        name: coin.name,\n        symbol: coin.symbol,\n        creator: coin.creator,\n        marketCap,\n        complete: coin.complete,\n        raydiumPool: coin.raydium_pool,\n        twitter: coin.twitter,\n        telegram: coin.telegram,\n        isKing: true,\n      },\n    };\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = (raw.metadata as Record<string, unknown>) || {};\n\n    // Pump.fun is always Solana and Web3\n    const hasWeb3Keywords = true;\n    const hasSolanaKeywords = true;\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n\n    // High engagement = graduated, king, or high market cap\n    const highEngagement =\n      metadata.isKing === true ||\n      metadata.isGraduated === true ||\n      (metadata.marketCap as number) > THRESHOLDS.HIGH_MARKET_CAP;\n\n    // Determine category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"web3\";\n    if (metadata.isGraduated) category = \"defi\";\n\n    // Generate tags\n    const tags: string[] = [\"solana\", \"memecoin\", \"pumpfun\"];\n    if (metadata.isGraduated) tags.push(\"graduated\", \"raydium\");\n    if (metadata.isKing) tags.push(\"king-of-the-hill\");\n    if (metadata.twitter) tags.push(\"has-twitter\");\n    if (metadata.telegram) tags.push(\"has-telegram\");\n    if (metadata.symbol) tags.push(String(metadata.symbol).toLowerCase());\n\n    // Fingerprint\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `pumpfun-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: \"pumpfun\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n\n// Export types for external use\nexport type { PumpFunCoin, PumpFunKingOfTheHill };\n","/**\n * Vybe Network Hunter - Enterprise Solana Data Platform\n *\n * FREE TIER: 4 req/min, 12,000 credits/month\n * Base URL: https://api.vybenetwork.xyz\n * Auth: API Key required (sign up with wallet)\n *\n * Provides:\n * - Wallet PnL calculations\n * - Token holder distribution\n * - Trading activity\n * - Labeled wallets (CEXs, KOLs, treasuries)\n * - TVL metrics\n * - Pyth Oracle prices\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// Vybe API types\ninterface VybeWalletPnL {\n  address: string;\n  realized_pnl: number;\n  unrealized_pnl: number;\n  total_pnl: number;\n  win_rate: number;\n  total_trades: number;\n  profitable_trades: number;\n  average_trade_size: number;\n  largest_win: number;\n  largest_loss: number;\n  last_updated: string;\n}\n\ninterface VybeTokenBalance {\n  mint: string;\n  symbol: string;\n  name: string;\n  amount: number;\n  decimals: number;\n  usd_value: number;\n  price: number;\n  logo_uri?: string;\n}\n\ninterface VybeTokenHolder {\n  address: string;\n  amount: number;\n  percentage: number;\n  rank: number;\n  label?: string;\n  is_known_entity: boolean;\n  entity_type?: \"cex\" | \"kol\" | \"treasury\" | \"protocol\" | \"unknown\";\n}\n\ninterface VybeTokenDetails {\n  mint: string;\n  name: string;\n  symbol: string;\n  decimals: number;\n  supply: number;\n  holders: number;\n  price?: number;\n  market_cap?: number;\n  volume_24h?: number;\n  price_change_24h?: number;\n  logo_uri?: string;\n  description?: string;\n  website?: string;\n  twitter?: string;\n}\n\ninterface VybeTokenTrade {\n  signature: string;\n  timestamp: number;\n  mint: string;\n  symbol: string;\n  side: \"buy\" | \"sell\";\n  amount_token: number;\n  amount_sol: number;\n  price_usd: number;\n  wallet: string;\n  wallet_label?: string;\n  dex: string;\n}\n\ninterface VybeProgramTVL {\n  program_id: string;\n  name: string;\n  tvl_usd: number;\n  tvl_sol: number;\n  change_24h: number;\n  change_7d: number;\n}\n\ninterface VybePythPrice {\n  symbol: string;\n  price: number;\n  confidence: number;\n  timestamp: number;\n  ema_price: number;\n}\n\nconst VYBE_BASE_URL = \"https://api.vybenetwork.xyz\";\n\nexport class VybeHunter implements BaseHunterSource {\n  source = \"vybe\" as const;\n  private config: HunterConfig;\n  private apiKey: string | null;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.apiKey = config.apiKey || process.env.VYBE_API_KEY || null;\n    if (!this.apiKey) {\n      console.warn(\n        \"[VybeHunter] No API key provided. Set VYBE_API_KEY in environment or config.\"\n      );\n    }\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.apiKey) {\n      console.warn(\"[VybeHunter] Skipping hunt - no API key\");\n      return [];\n    }\n\n    // Vybe is primarily used for on-demand queries\n    // The hunter can track whale wallets if configured\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // If whale wallets are configured, track their activity\n      const trackedWallets = this.config.filters?.keywords || [];\n\n      for (const wallet of trackedWallets.slice(0, 3)) {\n        // Limit to avoid rate limits\n        if (wallet.length === 44 || wallet.length === 43) {\n          // Solana address length\n          const pnl = await this.fetchWalletPnL(wallet);\n          if (pnl) {\n            const discovery = this.createPnLDiscovery(pnl);\n            if (discovery) discoveries.push(discovery);\n          }\n        }\n      }\n    } catch (error) {\n      console.error(\"[VybeHunter] Hunt failed:\", error);\n    }\n\n    return discoveries;\n  }\n\n  /**\n   * Get wallet PnL and trading stats\n   */\n  async fetchWalletPnL(address: string): Promise<VybeWalletPnL | null> {\n    if (!this.apiKey) return null;\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/account/wallet-pnl?address=${address}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Wallet PnL fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[Vybe] Wallet PnL error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Get token balances for a wallet\n   */\n  async fetchTokenBalances(address: string): Promise<VybeTokenBalance[]> {\n    if (!this.apiKey) return [];\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/account/token-balances?address=${address}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Token balances fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.balances || data || [];\n    } catch (error) {\n      console.error(\"[Vybe] Token balances error:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Get top holders for a token\n   */\n  async fetchTokenHolders(mint: string): Promise<VybeTokenHolder[]> {\n    if (!this.apiKey) return [];\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/tokens/top-holders?mint=${mint}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Token holders fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.holders || data || [];\n    } catch (error) {\n      console.error(\"[Vybe] Token holders error:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Get token details\n   */\n  async fetchTokenDetails(mint: string): Promise<VybeTokenDetails | null> {\n    if (!this.apiKey) return null;\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/tokens/token-details?mint=${mint}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Token details fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[Vybe] Token details error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Get recent trades for a token\n   */\n  async fetchTokenTrades(\n    mint: string,\n    limit: number = 50\n  ): Promise<VybeTokenTrade[]> {\n    if (!this.apiKey) return [];\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/tokens/token-trades?mint=${mint}&limit=${limit}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Token trades fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.trades || data || [];\n    } catch (error) {\n      console.error(\"[Vybe] Token trades error:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Get TVL for a program\n   */\n  async fetchProgramTVL(programId: string): Promise<VybeProgramTVL | null> {\n    if (!this.apiKey) return null;\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/programs/program-tvl?program_id=${programId}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Program TVL fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[Vybe] Program TVL error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Get Pyth Oracle price\n   */\n  async fetchPythPrice(symbol: string): Promise<VybePythPrice | null> {\n    if (!this.apiKey) return null;\n\n    try {\n      const response = await fetch(\n        `${VYBE_BASE_URL}/prices/pyth-price?symbol=${symbol}`,\n        { headers: this.getHeaders() }\n      );\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Pyth price fetch failed: ${response.status}`);\n        return null;\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error(\"[Vybe] Pyth price error:\", error);\n      return null;\n    }\n  }\n\n  /**\n   * Get market data\n   */\n  async fetchMarkets(): Promise<any[]> {\n    if (!this.apiKey) return [];\n\n    try {\n      const response = await fetch(`${VYBE_BASE_URL}/prices/markets`, {\n        headers: this.getHeaders(),\n      });\n\n      if (!response.ok) {\n        console.warn(`[Vybe] Markets fetch failed: ${response.status}`);\n        return [];\n      }\n\n      const data = await response.json();\n      return data.markets || data || [];\n    } catch (error) {\n      console.error(\"[Vybe] Markets error:\", error);\n      return [];\n    }\n  }\n\n  /**\n   * Check if wallet is profitable\n   */\n  async isWalletProfitable(address: string): Promise<{\n    profitable: boolean;\n    totalPnL: number;\n    winRate: number;\n    trades: number;\n  }> {\n    const pnl = await this.fetchWalletPnL(address);\n    if (!pnl) {\n      return { profitable: false, totalPnL: 0, winRate: 0, trades: 0 };\n    }\n\n    return {\n      profitable: pnl.total_pnl > 0,\n      totalPnL: pnl.total_pnl,\n      winRate: pnl.win_rate,\n      trades: pnl.total_trades,\n    };\n  }\n\n  /**\n   * Get concentration risk for a token\n   */\n  async getConcentrationRisk(mint: string): Promise<{\n    topHolderPercent: number;\n    top10Percent: number;\n    whaleCount: number;\n    risk: \"low\" | \"medium\" | \"high\";\n  }> {\n    const holders = await this.fetchTokenHolders(mint);\n    if (holders.length === 0) {\n      return { topHolderPercent: 0, top10Percent: 0, whaleCount: 0, risk: \"high\" };\n    }\n\n    const topHolderPercent = holders[0]?.percentage || 0;\n    const top10Percent = holders\n      .slice(0, 10)\n      .reduce((sum, h) => sum + h.percentage, 0);\n    const whaleCount = holders.filter((h) => h.percentage > 5).length;\n\n    let risk: \"low\" | \"medium\" | \"high\" = \"low\";\n    if (topHolderPercent > 50 || top10Percent > 80) risk = \"high\";\n    else if (topHolderPercent > 20 || top10Percent > 60) risk = \"medium\";\n\n    return { topHolderPercent, top10Percent, whaleCount, risk };\n  }\n\n  private getHeaders(): Record<string, string> {\n    return {\n      Accept: \"application/json\",\n      Authorization: `Bearer ${this.apiKey}`,\n    };\n  }\n\n  private createPnLDiscovery(pnl: VybeWalletPnL): RawDiscovery | null {\n    const profitEmoji = pnl.total_pnl > 0 ? \"\" : \"\";\n    const pnlFormatted =\n      pnl.total_pnl > 0\n        ? `+$${pnl.total_pnl.toLocaleString()}`\n        : `-$${Math.abs(pnl.total_pnl).toLocaleString()}`;\n\n    return {\n      sourceId: `vybe-pnl-${pnl.address}-${Date.now()}`,\n      sourceUrl: `https://vybeapp.xyz/wallet/${pnl.address}`,\n      title: `${profitEmoji} Wallet ${pnl.address.slice(0, 8)}... PnL: ${pnlFormatted}`,\n      description: `Total PnL: ${pnlFormatted}. Win rate: ${(pnl.win_rate * 100).toFixed(1)}%. Trades: ${pnl.total_trades}. Largest win: $${pnl.largest_win.toLocaleString()}. Largest loss: $${Math.abs(pnl.largest_loss).toLocaleString()}.`,\n      publishedAt: new Date(pnl.last_updated),\n      metrics: {\n        points: Math.round(pnl.win_rate * 100),\n        likes: pnl.profitable_trades,\n      },\n      metadata: {\n        type: \"wallet_pnl\",\n        source: \"vybe\",\n        address: pnl.address,\n        realizedPnl: pnl.realized_pnl,\n        unrealizedPnl: pnl.unrealized_pnl,\n        totalPnl: pnl.total_pnl,\n        winRate: pnl.win_rate,\n        totalTrades: pnl.total_trades,\n        profitableTrades: pnl.profitable_trades,\n        averageTradeSize: pnl.average_trade_size,\n        largestWin: pnl.largest_win,\n        largestLoss: pnl.largest_loss,\n        isProfitable: pnl.total_pnl > 0,\n      },\n    };\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = (raw.metadata as Record<string, unknown>) || {};\n\n    // Always Solana and Web3 relevant\n    const hasWeb3Keywords = true;\n    const hasSolanaKeywords = true;\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n\n    // High engagement = profitable wallet\n    const highEngagement =\n      metadata.isProfitable === true || (metadata.winRate as number) > 0.6;\n\n    // Category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"defi\";\n\n    // Tags\n    const tags: string[] = [\"solana\", \"wallet\", \"analytics\", \"vybe\"];\n    if (metadata.isProfitable) tags.push(\"profitable\");\n    if ((metadata.winRate as number) > 0.6) tags.push(\"high-win-rate\");\n\n    // Fingerprint\n    const fingerprint = createHash(\"md5\")\n      .update(`${raw.sourceId}-${raw.title}`)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `vybe-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: \"vybe\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n\n// Export types for external use\nexport type {\n  VybeWalletPnL,\n  VybeTokenBalance,\n  VybeTokenHolder,\n  VybeTokenDetails,\n  VybeTokenTrade,\n  VybeProgramTVL,\n  VybePythPrice,\n};\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Polymarket CLOB API (Gamma) - Public, No Auth Required\nconst POLYMARKET_API = \"https://gamma-api.polymarket.com\";\nconst POLYMARKET_CLOB = \"https://clob.polymarket.com\";\n\ninterface PolymarketEvent {\n  id: string;\n  slug: string;\n  title: string;\n  description: string;\n  startDate: string;\n  endDate: string;\n  category: string;\n  markets: PolymarketMarket[];\n  volume: number;\n  liquidity: number;\n  active: boolean;\n  closed: boolean;\n}\n\ninterface PolymarketMarket {\n  id: string;\n  question: string;\n  conditionId: string;\n  slug: string;\n  endDate: string;\n  liquidity: number;\n  volume: number;\n  volume24hr: number;\n  active: boolean;\n  closed: boolean;\n  outcomes: string[];\n  outcomePrices: string[];\n  acceptingOrders: boolean;\n  clobRewards?: {\n    rates: string[];\n  };\n}\n\n// Categories we care about\nconst TARGET_CATEGORIES = [\n  \"crypto\",\n  \"finance\",\n  \"politics\",\n  \"sports\",\n  \"science\",\n  \"tech\",\n  \"pop-culture\",\n  \"business\",\n];\n\n// Crypto-related keywords\nconst CRYPTO_KEYWORDS = [\n  \"bitcoin\",\n  \"btc\",\n  \"ethereum\",\n  \"eth\",\n  \"solana\",\n  \"sol\",\n  \"crypto\",\n  \"cryptocurrency\",\n  \"blockchain\",\n  \"defi\",\n  \"nft\",\n  \"web3\",\n  \"binance\",\n  \"coinbase\",\n  \"sec\",\n  \"etf\",\n];\n\nexport class PolymarketHunter implements BaseHunterSource {\n  source = \"polymarket\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Fetch active markets\n      const markets = await this.fetchMarkets();\n      const filtered = this.filterMarkets(markets);\n      discoveries.push(...filtered.map((m) => this.marketToRawDiscovery(m)));\n    } catch (error) {\n      console.error(\"[PolymarketHunter] Failed to fetch markets:\", error);\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as PolymarketMarket | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"polymarket\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: \"Polymarket\",\n      authorUrl: \"https://polymarket.com\",\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text),\n      tags: this.extractTags(text, metadata),\n      language: \"en\",\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: (metadata?.volume24hr ?? 0) > 10000,\n        highEngagement: (raw.metrics.points ?? 0) > 100000,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchMarkets(): Promise<PolymarketMarket[]> {\n    // Fetch active markets from Gamma API\n    const response = await fetch(`${POLYMARKET_API}/markets?active=true&limit=100`, {\n      headers: {\n        \"User-Agent\": \"gICM-Hunter/1.0\",\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`Polymarket API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return Array.isArray(data) ? data : (data.markets ?? []);\n  }\n\n  private filterMarkets(markets: PolymarketMarket[]): PolymarketMarket[] {\n    const minVolume = this.config.filters?.minPoints ?? 10000; // $10K default\n    const minLiquidity = 5000; // $5K minimum\n\n    return markets\n      .filter((m) => {\n        // Must be active\n        if (!m.active || m.closed) return false;\n\n        // Must have minimum volume\n        if (m.volume < minVolume) return false;\n\n        // Must have minimum liquidity\n        if (m.liquidity < minLiquidity) return false;\n\n        // Filter by keywords if specified\n        const text = m.question.toLowerCase();\n        if (this.config.filters?.keywords?.length) {\n          const hasKeyword = this.config.filters.keywords.some((kw) =>\n            text.includes(kw.toLowerCase())\n          );\n          if (!hasKeyword) return false;\n        }\n\n        return true;\n      })\n      .sort((a, b) => {\n        // Sort by 24h volume (most active first)\n        return (b.volume24hr ?? 0) - (a.volume24hr ?? 0);\n      })\n      .slice(0, 50); // Top 50 markets\n  }\n\n  private marketToRawDiscovery(market: PolymarketMarket): RawDiscovery {\n    // Parse outcome prices\n    const prices = market.outcomePrices?.map((p) => parseFloat(p) * 100) ?? [];\n    const priceStr = prices.length >= 2 ? `Yes: ${prices[0].toFixed(0)}% / No: ${prices[1].toFixed(0)}%` : \"\";\n\n    return {\n      sourceId: `polymarket:${market.id}`,\n      sourceUrl: `https://polymarket.com/event/${market.slug}`,\n      title: `[Prediction] ${market.question}`,\n      description: `${priceStr} | Volume: $${this.formatNumber(market.volume)} | Liquidity: $${this.formatNumber(market.liquidity)}`,\n      author: \"Polymarket\",\n      authorUrl: \"https://polymarket.com\",\n      publishedAt: market.endDate ? new Date(market.endDate) : undefined,\n      metrics: {\n        points: market.volume,\n        views: market.volume24hr,\n        likes: market.liquidity,\n      },\n      metadata: market as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string): HuntDiscovery[\"category\"] {\n    if (this.hasKeywords(text, CRYPTO_KEYWORDS)) return \"defi\";\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) return \"ai\";\n    return \"other\";\n  }\n\n  private extractTags(text: string, metadata?: PolymarketMarket): string[] {\n    const tags: string[] = [\"prediction-market\", \"polymarket\"];\n\n    if (this.hasKeywords(text, CRYPTO_KEYWORDS)) tags.push(\"crypto\");\n    if (text.includes(\"bitcoin\") || text.includes(\"btc\")) tags.push(\"bitcoin\");\n    if (text.includes(\"ethereum\") || text.includes(\"eth\")) tags.push(\"ethereum\");\n    if (text.includes(\"solana\") || text.includes(\"sol\")) tags.push(\"solana\");\n    if (text.includes(\"election\") || text.includes(\"president\")) tags.push(\"politics\");\n    if (text.includes(\"etf\")) tags.push(\"etf\");\n    if (text.includes(\"sec\")) tags.push(\"sec\");\n    if (text.includes(\"fed\") || text.includes(\"interest rate\")) tags.push(\"macro\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `polymarket:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// Kalshi Public API\nconst KALSHI_API = \"https://api.elections.kalshi.com/trade-api/v2\";\nconst KALSHI_WEB = \"https://kalshi.com\";\n\ninterface KalshiMarket {\n  ticker: string;\n  event_ticker: string;\n  market_type: string;\n  title: string;\n  subtitle?: string;\n  yes_sub_title?: string;\n  no_sub_title?: string;\n  open_time: string;\n  close_time: string;\n  expiration_time: string;\n  status: string;\n  category: string;\n  series_ticker: string;\n  yes_bid: number;\n  yes_ask: number;\n  no_bid: number;\n  no_ask: number;\n  last_price: number;\n  previous_price: number;\n  previous_yes_bid: number;\n  previous_yes_ask: number;\n  volume: number;\n  volume_24h: number;\n  liquidity: number;\n  open_interest: number;\n  result?: string;\n  cap_strike?: number;\n  floor_strike?: number;\n  strike_type?: string;\n  floor?: number;\n  cap?: number;\n}\n\ninterface KalshiEvent {\n  event_ticker: string;\n  series_ticker: string;\n  title: string;\n  mutually_exclusive: boolean;\n  category: string;\n  sub_title?: string;\n  markets: KalshiMarket[];\n}\n\n// Categories we care about\nconst TARGET_CATEGORIES = [\n  \"Economics\",\n  \"Financials\",\n  \"Politics\",\n  \"Technology\",\n  \"Climate\",\n  \"Science\",\n  \"Entertainment\",\n  \"Sports\",\n];\n\n// Finance/Crypto related keywords\nconst FINANCE_KEYWORDS = [\n  \"bitcoin\",\n  \"btc\",\n  \"ethereum\",\n  \"eth\",\n  \"crypto\",\n  \"fed\",\n  \"interest rate\",\n  \"inflation\",\n  \"gdp\",\n  \"unemployment\",\n  \"stock\",\n  \"s&p\",\n  \"nasdaq\",\n  \"treasury\",\n  \"yield\",\n  \"recession\",\n  \"cpi\",\n  \"fomc\",\n  \"sec\",\n  \"etf\",\n];\n\nexport class KalshiHunter implements BaseHunterSource {\n  source = \"kalshi\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    try {\n      // Fetch active markets\n      const markets = await this.fetchMarkets();\n      const filtered = this.filterMarkets(markets);\n      discoveries.push(...filtered.map((m) => this.marketToRawDiscovery(m)));\n    } catch (error) {\n      console.error(\"[KalshiHunter] Failed to fetch markets:\", error);\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as KalshiMarket | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"kalshi\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: \"Kalshi\",\n      authorUrl: \"https://kalshi.com\",\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(text),\n      tags: this.extractTags(text, metadata),\n      language: \"en\",\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: false,\n        recentActivity: (metadata?.volume_24h ?? 0) > 1000,\n        highEngagement: (raw.metrics.points ?? 0) > 10000,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchMarkets(): Promise<KalshiMarket[]> {\n    // Fetch active markets from Kalshi public API\n    const response = await fetch(`${KALSHI_API}/markets?status=open&limit=200`, {\n      headers: {\n        \"User-Agent\": \"gICM-Hunter/1.0\",\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      // Try alternative endpoint\n      const altResponse = await fetch(\n        `https://trading-api.kalshi.com/trade-api/v2/markets?status=open&limit=200`,\n        {\n          headers: {\n            \"User-Agent\": \"gICM-Hunter/1.0\",\n            Accept: \"application/json\",\n          },\n        }\n      );\n\n      if (!altResponse.ok) {\n        throw new Error(`Kalshi API error: ${response.status}`);\n      }\n\n      const altData = await altResponse.json();\n      return altData.markets ?? [];\n    }\n\n    const data = await response.json();\n    return data.markets ?? [];\n  }\n\n  private filterMarkets(markets: KalshiMarket[]): KalshiMarket[] {\n    const minVolume = this.config.filters?.minPoints ?? 100; // $100 default (Kalshi contracts are $1)\n    const minOpenInterest = 50;\n\n    return markets\n      .filter((m) => {\n        // Must be open\n        if (m.status !== \"open\") return false;\n\n        // Must have minimum volume\n        if (m.volume < minVolume) return false;\n\n        // Must have minimum open interest\n        if (m.open_interest < minOpenInterest) return false;\n\n        // Must be in a category we care about\n        if (m.category && !TARGET_CATEGORIES.some((c) => m.category.includes(c))) {\n          return false;\n        }\n\n        // Filter by keywords if specified\n        const text = m.title.toLowerCase();\n        if (this.config.filters?.keywords?.length) {\n          const hasKeyword = this.config.filters.keywords.some((kw) =>\n            text.includes(kw.toLowerCase())\n          );\n          if (!hasKeyword) return false;\n        }\n\n        return true;\n      })\n      .sort((a, b) => {\n        // Sort by 24h volume\n        return (b.volume_24h ?? 0) - (a.volume_24h ?? 0);\n      })\n      .slice(0, 50); // Top 50 markets\n  }\n\n  private marketToRawDiscovery(market: KalshiMarket): RawDiscovery {\n    // Calculate implied probability from yes_bid/yes_ask\n    const yesPrice = market.yes_bid > 0 ? market.yes_bid : market.last_price;\n    const noPrice = market.no_bid > 0 ? market.no_bid : (100 - market.last_price);\n    const priceStr = `Yes: ${yesPrice} / No: ${noPrice}`;\n\n    // Calculate price change\n    const priceChange = market.last_price - market.previous_price;\n    const changeStr = priceChange !== 0 ? ` (${priceChange > 0 ? \"+\" : \"\"}${priceChange})` : \"\";\n\n    return {\n      sourceId: `kalshi:${market.ticker}`,\n      sourceUrl: `${KALSHI_WEB}/markets/${market.ticker}`,\n      title: `[Prediction] ${market.title}`,\n      description: `${priceStr}${changeStr} | Volume: ${this.formatNumber(market.volume)} contracts | Open Interest: ${this.formatNumber(market.open_interest)}`,\n      author: \"Kalshi\",\n      authorUrl: KALSHI_WEB,\n      publishedAt: market.expiration_time ? new Date(market.expiration_time) : undefined,\n      metrics: {\n        points: market.volume,\n        views: market.volume_24h,\n        likes: market.open_interest,\n      },\n      metadata: market as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(text: string): HuntDiscovery[\"category\"] {\n    if (this.hasKeywords(text, FINANCE_KEYWORDS)) return \"defi\";\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) return \"ai\";\n    return \"other\";\n  }\n\n  private extractTags(text: string, metadata?: KalshiMarket): string[] {\n    const tags: string[] = [\"prediction-market\", \"kalshi\"];\n\n    // Add category tag\n    if (metadata?.category) {\n      tags.push(metadata.category.toLowerCase());\n    }\n\n    // Add topic tags\n    if (this.hasKeywords(text, [\"bitcoin\", \"btc\"])) tags.push(\"bitcoin\");\n    if (this.hasKeywords(text, [\"ethereum\", \"eth\"])) tags.push(\"ethereum\");\n    if (this.hasKeywords(text, [\"crypto\"])) tags.push(\"crypto\");\n    if (this.hasKeywords(text, [\"fed\", \"fomc\", \"interest rate\"])) tags.push(\"fed\");\n    if (this.hasKeywords(text, [\"inflation\", \"cpi\"])) tags.push(\"inflation\");\n    if (this.hasKeywords(text, [\"gdp\", \"recession\"])) tags.push(\"macro\");\n    if (this.hasKeywords(text, [\"election\", \"president\", \"congress\"])) tags.push(\"politics\");\n    if (this.hasKeywords(text, [\"sec\", \"etf\"])) tags.push(\"regulatory\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `kalshi:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n} from \"../types.js\";\n\n// FRED API - Free API Key Required\n// Rate limit: 120 requests/minute\nconst FRED_API = \"https://api.stlouisfed.org/fred\";\n\ninterface FREDObservation {\n  realtime_start: string;\n  realtime_end: string;\n  date: string;\n  value: string;\n}\n\ninterface FREDSeries {\n  id: string;\n  realtime_start: string;\n  realtime_end: string;\n  title: string;\n  observation_start: string;\n  observation_end: string;\n  frequency: string;\n  frequency_short: string;\n  units: string;\n  units_short: string;\n  seasonal_adjustment: string;\n  seasonal_adjustment_short: string;\n  last_updated: string;\n  popularity: number;\n  notes?: string;\n}\n\n// Key economic indicators for trading signals\nconst KEY_SERIES = [\n  // Interest Rates & Fed Policy\n  { id: \"FEDFUNDS\", name: \"Fed Funds Rate\", category: \"rates\", threshold: 0.25 },\n  { id: \"T10Y2Y\", name: \"10Y-2Y Treasury Spread\", category: \"rates\", threshold: 0.1 },\n  { id: \"T10YIE\", name: \"10Y Breakeven Inflation\", category: \"inflation\", threshold: 0.1 },\n\n  // Inflation\n  { id: \"CPIAUCSL\", name: \"Consumer Price Index\", category: \"inflation\", threshold: 0.5 },\n  { id: \"PCEPI\", name: \"PCE Price Index\", category: \"inflation\", threshold: 0.3 },\n\n  // Employment\n  { id: \"UNRATE\", name: \"Unemployment Rate\", category: \"employment\", threshold: 0.2 },\n  { id: \"PAYEMS\", name: \"Nonfarm Payrolls\", category: \"employment\", threshold: 100 },\n  { id: \"ICSA\", name: \"Initial Jobless Claims\", category: \"employment\", threshold: 20000 },\n\n  // Economic Activity\n  { id: \"GDP\", name: \"Real GDP\", category: \"gdp\", threshold: 0.5 },\n  { id: \"DGORDER\", name: \"Durable Goods Orders\", category: \"manufacturing\", threshold: 1 },\n  { id: \"INDPRO\", name: \"Industrial Production\", category: \"manufacturing\", threshold: 0.5 },\n\n  // Consumer & Housing\n  { id: \"UMCSENT\", name: \"Consumer Sentiment\", category: \"sentiment\", threshold: 2 },\n  { id: \"HOUST\", name: \"Housing Starts\", category: \"housing\", threshold: 50 },\n\n  // Money Supply\n  { id: \"M2SL\", name: \"M2 Money Supply\", category: \"money\", threshold: 100 },\n\n  // Leading Indicators\n  { id: \"USSLIND\", name: \"Leading Index\", category: \"leading\", threshold: 0.2 },\n];\n\nexport class FREDHunter implements BaseHunterSource {\n  source = \"fred\" as const;\n  private config: HunterConfig;\n  private apiKey: string;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.apiKey = config.apiKey ?? process.env.FRED_API_KEY ?? \"\";\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.apiKey) {\n      console.warn(\"[FREDHunter] No API key configured. Get one at https://fred.stlouisfed.org/docs/api/api_key.html\");\n      return [];\n    }\n\n    const discoveries: RawDiscovery[] = [];\n\n    for (const series of KEY_SERIES) {\n      try {\n        const data = await this.fetchSeries(series.id);\n        if (data) {\n          const discovery = this.analyzeSeriesData(series, data);\n          if (discovery) {\n            discoveries.push(discovery);\n          }\n        }\n        await new Promise((r) => setTimeout(r, 600)); // Rate limit\n      } catch (error) {\n        console.error(`[FREDHunter] Failed to fetch ${series.id}:`, error);\n      }\n    }\n\n    return discoveries;\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { series: typeof KEY_SERIES[0]; change: number } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"fred\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: \"other\",\n      tags: this.extractTags(metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: false,\n        hasAIKeywords: false,\n        hasSolanaKeywords: false,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement: Math.abs(metadata?.change ?? 0) > (metadata?.series.threshold ?? 0),\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchSeries(seriesId: string): Promise<{ series: FREDSeries; observations: FREDObservation[] } | null> {\n    // Fetch series info\n    const seriesResponse = await fetch(\n      `${FRED_API}/series?series_id=${seriesId}&api_key=${this.apiKey}&file_type=json`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!seriesResponse.ok) return null;\n    const seriesData = await seriesResponse.json();\n    const series = seriesData.seriess?.[0];\n\n    // Fetch recent observations\n    const obsResponse = await fetch(\n      `${FRED_API}/series/observations?series_id=${seriesId}&api_key=${this.apiKey}&file_type=json&sort_order=desc&limit=10`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!obsResponse.ok) return null;\n    const obsData = await obsResponse.json();\n    const observations = obsData.observations ?? [];\n\n    return { series, observations };\n  }\n\n  private analyzeSeriesData(\n    seriesConfig: typeof KEY_SERIES[0],\n    data: { series: FREDSeries; observations: FREDObservation[] }\n  ): RawDiscovery | null {\n    const { series, observations } = data;\n\n    if (observations.length < 2) return null;\n\n    // Filter out \".\" values (missing data)\n    const validObs = observations.filter((o) => o.value !== \".\");\n    if (validObs.length < 2) return null;\n\n    const latest = parseFloat(validObs[0].value);\n    const previous = parseFloat(validObs[1].value);\n    const change = latest - previous;\n    const changePercent = (change / previous) * 100;\n\n    // Only report significant changes\n    if (Math.abs(change) < seriesConfig.threshold) return null;\n\n    const direction = change > 0 ? \"\" : \"\";\n    const signal = this.getSignal(seriesConfig, change);\n\n    return {\n      sourceId: `fred:${seriesConfig.id}:${validObs[0].date}`,\n      sourceUrl: `https://fred.stlouisfed.org/series/${seriesConfig.id}`,\n      title: `${direction} [ECON] ${seriesConfig.name}: ${latest.toFixed(2)} (${change > 0 ? \"+\" : \"\"}${changePercent.toFixed(1)}%)`,\n      description: `${series.title} changed from ${previous.toFixed(2)} to ${latest.toFixed(2)}. ${signal}`,\n      author: \"Federal Reserve\",\n      authorUrl: \"https://fred.stlouisfed.org\",\n      publishedAt: new Date(validObs[0].date),\n      metrics: {\n        points: latest,\n        views: Math.abs(change),\n        likes: Math.abs(changePercent),\n      },\n      metadata: {\n        series: seriesConfig,\n        seriesInfo: series,\n        latest,\n        previous,\n        change,\n        changePercent,\n        observations: validObs.slice(0, 5),\n      } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private getSignal(series: typeof KEY_SERIES[0], change: number): string {\n    const signals: Record<string, Record<string, string>> = {\n      rates: {\n        up: \"Rising rates = bearish for risk assets, bullish USD\",\n        down: \"Falling rates = bullish for risk assets, bearish USD\",\n      },\n      inflation: {\n        up: \"Rising inflation = Fed may stay hawkish\",\n        down: \"Falling inflation = Fed may ease policy\",\n      },\n      employment: {\n        up: series.id === \"UNRATE\"\n          ? \"Rising unemployment = recession risk, Fed may ease\"\n          : \"Strong employment = economy resilient\",\n        down: series.id === \"UNRATE\"\n          ? \"Falling unemployment = labor market tight\"\n          : \"Weak employment = slowdown risk\",\n      },\n      gdp: {\n        up: \"GDP growth = economic expansion\",\n        down: \"GDP decline = recession risk\",\n      },\n      sentiment: {\n        up: \"Consumer confidence rising = bullish\",\n        down: \"Consumer confidence falling = bearish\",\n      },\n      money: {\n        up: \"M2 expansion = inflationary, liquidity increasing\",\n        down: \"M2 contraction = deflationary, liquidity decreasing\",\n      },\n      leading: {\n        up: \"Leading indicators up = expansion ahead\",\n        down: \"Leading indicators down = contraction ahead\",\n      },\n    };\n\n    const direction = change > 0 ? \"up\" : \"down\";\n    return signals[series.category]?.[direction] || \"\";\n  }\n\n  private extractTags(metadata?: { series: typeof KEY_SERIES[0]; change: number }): string[] {\n    const tags = [\"economics\", \"macro\", \"fred\"];\n\n    if (metadata?.series) {\n      tags.push(metadata.series.category);\n      tags.push(metadata.series.id.toLowerCase());\n\n      // Add trading signal tag\n      if (Math.abs(metadata.change) > metadata.series.threshold * 2) {\n        tags.push(\"significant-change\");\n      }\n    }\n\n    return tags;\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `fred:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n} from \"../types.js\";\n\n// SEC EDGAR API - 100% Free, No Auth Required\n// Rate limit: 10 requests/second (must include user-agent)\nconst SEC_API = \"https://data.sec.gov\";\nconst SEC_SUBMISSIONS = \"https://data.sec.gov/submissions\";\n\ninterface SECFiling {\n  accessionNumber: string;\n  filingDate: string;\n  reportDate?: string;\n  form: string;\n  primaryDocument?: string;\n  primaryDocDescription?: string;\n  items?: string;\n  size: number;\n  isXBRL: number;\n  isInlineXBRL: number;\n}\n\ninterface SECCompany {\n  cik: string;\n  entityType: string;\n  sic: string;\n  sicDescription: string;\n  name: string;\n  tickers: string[];\n  exchanges: string[];\n  filings: {\n    recent: {\n      accessionNumber: string[];\n      filingDate: string[];\n      reportDate: string[];\n      form: string[];\n      primaryDocument: string[];\n      primaryDocDescription: string[];\n    };\n  };\n}\n\n// Key filing types we care about\nconst IMPORTANT_FORMS = [\n  \"4\",      // Insider transactions\n  \"13F-HR\", // Institutional holdings (quarterly)\n  \"8-K\",    // Material events\n  \"SC 13G\", // Beneficial ownership (passive)\n  \"SC 13D\", // Beneficial ownership (active)\n  \"S-1\",    // IPO registration\n  \"10-K\",   // Annual report\n  \"10-Q\",   // Quarterly report\n];\n\n// Major companies/hedge funds to track (CIK numbers)\nconst TRACKED_CIKS = [\n  \"1067983\", // Berkshire Hathaway (Buffett)\n  \"1649339\", // Bridgewater Associates\n  \"1350694\", // Renaissance Technologies\n  \"1037389\", // Soros Fund Management\n  \"1061768\", // Citadel Advisors\n  \"1336528\", // Tiger Global\n  \"1103804\", // BlackRock\n  \"886982\",  // Goldman Sachs\n  \"1166559\", // JPMorgan\n  \"1364742\", // ARK Investment\n];\n\n// Crypto-related companies to track\nconst CRYPTO_TICKERS = [\n  \"COIN\", \"MSTR\", \"RIOT\", \"MARA\", \"CLSK\", \"HUT\", \"BITF\", \"BTBT\",\n  \"GBTC\", \"BITO\", \"ARKB\", \"IBIT\",\n];\n\nexport class SECHunter implements BaseHunterSource {\n  source = \"sec\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    // 1. Fetch recent filings for tracked hedge funds/institutions\n    for (const cik of TRACKED_CIKS.slice(0, 5)) { // Limit to stay under rate limits\n      try {\n        const filings = await this.fetchCompanyFilings(cik);\n        const recent = this.filterRecentFilings(filings);\n        discoveries.push(...recent.map((f) => this.filingToRawDiscovery(f, filings.name)));\n        await new Promise((r) => setTimeout(r, 150)); // Rate limit: 10/sec\n      } catch (error) {\n        console.error(`[SECHunter] Failed to fetch CIK ${cik}:`, error);\n      }\n    }\n\n    // 2. Fetch latest Form 4 filings (insider trades)\n    try {\n      const form4s = await this.fetchLatestForm4s();\n      discoveries.push(...form4s);\n    } catch (error) {\n      console.error(\"[SECHunter] Failed to fetch Form 4s:\", error);\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { form: string; company: string } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"sec\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(metadata?.form),\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.isCryptoRelated(text),\n        hasAIKeywords: this.hasKeywords(text, [\"ai\", \"artificial intelligence\", \"machine learning\"]),\n        hasSolanaKeywords: this.hasKeywords(text, [\"solana\"]),\n        hasEthereumKeywords: this.hasKeywords(text, [\"ethereum\"]),\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement: this.isHighValueFiling(metadata?.form, text),\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchCompanyFilings(cik: string): Promise<SECCompany> {\n    const paddedCik = cik.padStart(10, \"0\");\n    const response = await fetch(`${SEC_SUBMISSIONS}/CIK${paddedCik}.json`, {\n      headers: {\n        \"User-Agent\": \"gICM-Hunter info@gicm.io\",\n        Accept: \"application/json\",\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`SEC API error: ${response.status}`);\n    }\n\n    return response.json();\n  }\n\n  private async fetchLatestForm4s(): Promise<RawDiscovery[]> {\n    // SEC's daily index for latest filings\n    const today = new Date();\n    const year = today.getFullYear();\n    const quarter = `QTR${Math.ceil((today.getMonth() + 1) / 3)}`;\n\n    try {\n      // Fetch the master index for current quarter\n      const indexUrl = `https://www.sec.gov/Archives/edgar/full-index/${year}/${quarter}/master.idx`;\n      const response = await fetch(indexUrl, {\n        headers: {\n          \"User-Agent\": \"gICM-Hunter info@gicm.io\",\n        },\n      });\n\n      if (!response.ok) return [];\n\n      const text = await response.text();\n      const lines = text.split(\"\\n\").filter((l) => l.includes(\"|4|\"));\n\n      // Get last 50 Form 4 filings\n      const recentForm4s = lines.slice(-50);\n      const discoveries: RawDiscovery[] = [];\n\n      for (const line of recentForm4s) {\n        const parts = line.split(\"|\");\n        if (parts.length >= 5) {\n          const [cik, company, form, date, path] = parts;\n\n          // Filter for crypto or major companies\n          if (this.isInterestingCompany(company)) {\n            discoveries.push({\n              sourceId: `sec:form4:${path.trim()}`,\n              sourceUrl: `https://www.sec.gov/Archives/${path.trim()}`,\n              title: `[INSIDER] ${company.trim()} - Form 4 Filed`,\n              description: `Insider transaction reported for ${company.trim()}. Check for buys/sells.`,\n              author: company.trim(),\n              publishedAt: new Date(date),\n              metrics: {\n                points: 1,\n              },\n              metadata: { form: \"4\", company: company.trim(), cik, date } as unknown as Record<string, unknown>,\n            });\n          }\n        }\n      }\n\n      return discoveries;\n    } catch (error) {\n      console.error(\"[SECHunter] Form 4 index fetch failed:\", error);\n      return [];\n    }\n  }\n\n  private filterRecentFilings(company: SECCompany): SECFiling[] {\n    const filings = company.filings.recent;\n    const results: SECFiling[] = [];\n\n    // Get filings from last 7 days\n    const sevenDaysAgo = new Date();\n    sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n\n    for (let i = 0; i < Math.min(filings.accessionNumber.length, 20); i++) {\n      const form = filings.form[i];\n      const filingDate = new Date(filings.filingDate[i]);\n\n      if (filingDate < sevenDaysAgo) continue;\n      if (!IMPORTANT_FORMS.includes(form)) continue;\n\n      results.push({\n        accessionNumber: filings.accessionNumber[i],\n        filingDate: filings.filingDate[i],\n        reportDate: filings.reportDate[i],\n        form: form,\n        primaryDocument: filings.primaryDocument[i],\n        primaryDocDescription: filings.primaryDocDescription[i],\n        size: 0,\n        isXBRL: 0,\n        isInlineXBRL: 0,\n      });\n    }\n\n    return results;\n  }\n\n  private filingToRawDiscovery(filing: SECFiling, companyName: string): RawDiscovery {\n    const formType = this.getFormDescription(filing.form);\n    const emoji = this.getFormEmoji(filing.form);\n\n    return {\n      sourceId: `sec:${filing.accessionNumber}`,\n      sourceUrl: `https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&CIK=${companyName}&type=${filing.form}&dateb=&owner=include&count=10`,\n      title: `${emoji} [${filing.form}] ${companyName} - ${formType}`,\n      description: filing.primaryDocDescription || `${formType} filed on ${filing.filingDate}`,\n      author: companyName,\n      authorUrl: `https://www.sec.gov/cgi-bin/browse-edgar?action=getcompany&company=${encodeURIComponent(companyName)}`,\n      publishedAt: new Date(filing.filingDate),\n      metrics: {\n        points: this.getFormImportance(filing.form),\n      },\n      metadata: { ...filing, company: companyName } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private getFormDescription(form: string): string {\n    const descriptions: Record<string, string> = {\n      \"4\": \"Insider Transaction\",\n      \"13F-HR\": \"Institutional Holdings Report\",\n      \"8-K\": \"Material Event\",\n      \"SC 13G\": \"Beneficial Ownership (Passive)\",\n      \"SC 13D\": \"Beneficial Ownership (Active)\",\n      \"S-1\": \"IPO Registration\",\n      \"10-K\": \"Annual Report\",\n      \"10-Q\": \"Quarterly Report\",\n    };\n    return descriptions[form] || form;\n  }\n\n  private getFormEmoji(form: string): string {\n    const emojis: Record<string, string> = {\n      \"4\": \"\",\n      \"13F-HR\": \"\",\n      \"8-K\": \"\",\n      \"SC 13G\": \"\",\n      \"SC 13D\": \"\",\n      \"S-1\": \"\",\n      \"10-K\": \"\",\n      \"10-Q\": \"\",\n    };\n    return emojis[form] || \"\";\n  }\n\n  private getFormImportance(form: string): number {\n    const importance: Record<string, number> = {\n      \"SC 13D\": 10, // Active ownership = big moves\n      \"13F-HR\": 9,  // Institutional holdings\n      \"4\": 8,       // Insider trades\n      \"8-K\": 7,     // Material events\n      \"S-1\": 6,     // IPOs\n      \"SC 13G\": 5,  // Passive ownership\n      \"10-K\": 4,\n      \"10-Q\": 3,\n    };\n    return importance[form] || 1;\n  }\n\n  private categorize(form?: string): HuntDiscovery[\"category\"] {\n    if (form === \"4\" || form === \"SC 13D\" || form === \"SC 13G\") return \"other\";\n    if (form === \"13F-HR\") return \"other\";\n    return \"other\";\n  }\n\n  private extractTags(text: string, metadata?: { form: string; company: string }): string[] {\n    const tags = [\"sec\", \"filing\"];\n\n    if (metadata?.form) {\n      tags.push(metadata.form.toLowerCase().replace(/[^a-z0-9]/g, \"\"));\n      if (metadata.form === \"4\") tags.push(\"insider-trade\");\n      if (metadata.form === \"13F-HR\") tags.push(\"institutional\");\n    }\n\n    if (this.isCryptoRelated(text)) tags.push(\"crypto\");\n    if (this.hasKeywords(text, [\"berkshire\", \"buffett\"])) tags.push(\"buffett\");\n    if (this.hasKeywords(text, [\"blackrock\", \"ishares\"])) tags.push(\"blackrock\");\n\n    return tags;\n  }\n\n  private isCryptoRelated(text: string): boolean {\n    const cryptoKeywords = [\n      \"bitcoin\", \"btc\", \"ethereum\", \"eth\", \"crypto\", \"blockchain\",\n      \"coinbase\", \"microstrategy\", \"riot\", \"marathon\", \"cleanspark\",\n      \"grayscale\", \"bitwise\", \"ark\",\n    ];\n    return cryptoKeywords.some((kw) => text.toLowerCase().includes(kw));\n  }\n\n  private isInterestingCompany(company: string): boolean {\n    const lowerCompany = company.toLowerCase();\n\n    // Check crypto tickers\n    if (CRYPTO_TICKERS.some((t) => lowerCompany.includes(t.toLowerCase()))) return true;\n\n    // Check for major tech/finance\n    const interestingKeywords = [\n      \"apple\", \"microsoft\", \"google\", \"amazon\", \"nvidia\", \"meta\", \"tesla\",\n      \"coinbase\", \"microstrategy\", \"blackrock\", \"fidelity\", \"vanguard\",\n      \"goldman\", \"jpmorgan\", \"morgan stanley\",\n    ];\n\n    return interestingKeywords.some((kw) => lowerCompany.includes(kw));\n  }\n\n  private isHighValueFiling(form?: string, text?: string): boolean {\n    if (!form) return false;\n    if ([\"SC 13D\", \"13F-HR\", \"4\"].includes(form)) return true;\n    if (form === \"8-K\" && text?.toLowerCase().includes(\"acquisition\")) return true;\n    return false;\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `sec:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n} from \"../types.js\";\n\n// Finnhub API - Free API Key Required\n// Rate limit: 60 calls/minute (free tier)\nconst FINNHUB_API = \"https://finnhub.io/api/v1\";\n\ninterface CongressTrade {\n  symbol: string;\n  name: string;\n  transactionDate: string;\n  transactionType: string;\n  amountFrom?: number;\n  amountTo?: number;\n  chamber: string;\n  ownerType: string;\n  filingDate: string;\n}\n\ninterface InsiderTransaction {\n  symbol: string;\n  name: string;\n  share: number;\n  change: number;\n  transactionDate: string;\n  transactionCode: string;\n  transactionPrice: number;\n  filingDate: string;\n}\n\ninterface EarningsSurprise {\n  symbol: string;\n  actual: number;\n  estimate: number;\n  period: string;\n  surprisePercent: number;\n}\n\n// Crypto and tech tickers to track\nconst TRACKED_SYMBOLS = [\n  // Crypto-related\n  \"COIN\", \"MSTR\", \"RIOT\", \"MARA\", \"CLSK\", \"HUT\",\n  // Big tech\n  \"AAPL\", \"MSFT\", \"GOOGL\", \"AMZN\", \"NVDA\", \"META\", \"TSLA\",\n  // AI plays\n  \"AMD\", \"INTC\", \"CRM\", \"PLTR\", \"AI\", \"SNOW\",\n  // ETFs\n  \"QQQ\", \"SPY\", \"IWM\", \"ARKK\",\n];\n\nexport class FinnhubHunter implements BaseHunterSource {\n  source = \"finnhub\" as const;\n  private config: HunterConfig;\n  private apiKey: string;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n    this.apiKey = config.apiKey ?? process.env.FINNHUB_API_KEY ?? \"\";\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    if (!this.apiKey) {\n      console.warn(\"[FinnhubHunter] No API key. Get one at https://finnhub.io/register\");\n      return [];\n    }\n\n    const discoveries: RawDiscovery[] = [];\n\n    // 1. Congressional trades - THE ALPHA\n    try {\n      const congressTrades = await this.fetchCongressTrades();\n      discoveries.push(...congressTrades.map((t) => this.congressTradeToDiscovery(t)));\n    } catch (error) {\n      console.error(\"[FinnhubHunter] Failed to fetch congress trades:\", error);\n    }\n\n    // 2. Insider transactions for tracked symbols\n    for (const symbol of TRACKED_SYMBOLS.slice(0, 10)) {\n      try {\n        const insiders = await this.fetchInsiderTransactions(symbol);\n        const recent = insiders.filter((t) => this.isRecent(t.filingDate));\n        discoveries.push(...recent.map((t) => this.insiderToDiscovery(t)));\n        await new Promise((r) => setTimeout(r, 1100)); // Rate limit\n      } catch (error) {\n        console.error(`[FinnhubHunter] Failed to fetch insiders for ${symbol}:`, error);\n      }\n    }\n\n    // 3. Earnings surprises\n    try {\n      const earnings = await this.fetchEarningsSurprises();\n      const significant = earnings.filter((e) => Math.abs(e.surprisePercent) > 5);\n      discoveries.push(...significant.map((e) => this.earningsToDiscovery(e)));\n    } catch (error) {\n      console.error(\"[FinnhubHunter] Failed to fetch earnings:\", error);\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    return discoveries.filter((d) => {\n      if (seen.has(d.sourceId)) return false;\n      seen.add(d.sourceId);\n      return true;\n    });\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { type: string; symbol: string } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"finnhub\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(metadata?.type),\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.isCryptoRelated(metadata?.symbol),\n        hasAIKeywords: this.isAIRelated(metadata?.symbol),\n        hasSolanaKeywords: false,\n        hasEthereumKeywords: false,\n        hasTypeScript: false,\n        recentActivity: true,\n        highEngagement: metadata?.type === \"congress\", // Congress trades are always high value\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchCongressTrades(): Promise<CongressTrade[]> {\n    const response = await fetch(\n      `${FINNHUB_API}/stock/congressional-trading?symbol=&from=&to=&token=${this.apiKey}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!response.ok) {\n      throw new Error(`Finnhub API error: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return (data.data ?? []).slice(0, 50); // Latest 50 trades\n  }\n\n  private async fetchInsiderTransactions(symbol: string): Promise<InsiderTransaction[]> {\n    const response = await fetch(\n      `${FINNHUB_API}/stock/insider-transactions?symbol=${symbol}&token=${this.apiKey}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!response.ok) return [];\n\n    const data = await response.json();\n    return data.data ?? [];\n  }\n\n  private async fetchEarningsSurprises(): Promise<EarningsSurprise[]> {\n    const response = await fetch(\n      `${FINNHUB_API}/calendar/earnings?from=${this.getDateString(-7)}&to=${this.getDateString(0)}&token=${this.apiKey}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!response.ok) return [];\n\n    const data = await response.json();\n    return (data.earningsCalendar ?? [])\n      .filter((e: any) => e.actual !== null && e.estimate !== null)\n      .map((e: any) => ({\n        symbol: e.symbol,\n        actual: e.actual,\n        estimate: e.estimate,\n        period: e.period,\n        surprisePercent: ((e.actual - e.estimate) / Math.abs(e.estimate)) * 100,\n      }));\n  }\n\n  private congressTradeToDiscovery(trade: CongressTrade): RawDiscovery {\n    const isBuy = trade.transactionType.toLowerCase().includes(\"purchase\");\n    const emoji = isBuy ? \"\" : \"\";\n    const action = isBuy ? \"BOUGHT\" : \"SOLD\";\n\n    const amountRange = trade.amountFrom && trade.amountTo\n      ? `$${this.formatNumber(trade.amountFrom)} - $${this.formatNumber(trade.amountTo)}`\n      : \"Amount undisclosed\";\n\n    return {\n      sourceId: `finnhub:congress:${trade.symbol}:${trade.transactionDate}:${trade.name}`,\n      sourceUrl: `https://finnhub.io/docs/api/congressional-trading`,\n      title: `${emoji} [CONGRESS] ${trade.name} ${action} ${trade.symbol}`,\n      description: `${trade.chamber} member ${trade.name} ${action.toLowerCase()} ${trade.symbol}. Amount: ${amountRange}. Filed: ${trade.filingDate}`,\n      author: trade.name,\n      publishedAt: new Date(trade.transactionDate),\n      metrics: {\n        points: trade.amountTo ?? trade.amountFrom ?? 0,\n        likes: isBuy ? 1 : -1,\n      },\n      metadata: { ...trade, type: \"congress\" } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private insiderToDiscovery(trade: InsiderTransaction): RawDiscovery {\n    const isBuy = trade.change > 0;\n    const emoji = isBuy ? \"\" : \"\";\n    const action = isBuy ? \"BOUGHT\" : \"SOLD\";\n\n    const value = Math.abs(trade.change * trade.transactionPrice);\n\n    return {\n      sourceId: `finnhub:insider:${trade.symbol}:${trade.transactionDate}:${trade.name}`,\n      sourceUrl: `https://finnhub.io/docs/api/insider-transactions`,\n      title: `${emoji} [INSIDER] ${trade.name} ${action} ${Math.abs(trade.change).toLocaleString()} ${trade.symbol}`,\n      description: `Insider ${trade.name} ${action.toLowerCase()} ${Math.abs(trade.change).toLocaleString()} shares at $${trade.transactionPrice.toFixed(2)}. Total value: $${this.formatNumber(value)}`,\n      author: trade.name,\n      publishedAt: new Date(trade.transactionDate),\n      metrics: {\n        points: value,\n        likes: trade.change,\n      },\n      metadata: { ...trade, type: \"insider\" } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private earningsToDiscovery(earnings: EarningsSurprise): RawDiscovery {\n    const isBeat = earnings.surprisePercent > 0;\n    const emoji = isBeat ? \"\" : \"\";\n    const result = isBeat ? \"BEAT\" : \"MISSED\";\n\n    return {\n      sourceId: `finnhub:earnings:${earnings.symbol}:${earnings.period}`,\n      sourceUrl: `https://finnhub.io/docs/api/earnings-calendar`,\n      title: `${emoji} [EARNINGS] ${earnings.symbol} ${result} by ${Math.abs(earnings.surprisePercent).toFixed(1)}%`,\n      description: `${earnings.symbol} reported EPS of $${earnings.actual.toFixed(2)} vs estimate of $${earnings.estimate.toFixed(2)} for ${earnings.period}`,\n      publishedAt: new Date(),\n      metrics: {\n        points: earnings.actual,\n        likes: earnings.surprisePercent,\n      },\n      metadata: { ...earnings, type: \"earnings\" } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(type?: string): HuntDiscovery[\"category\"] {\n    return \"other\";\n  }\n\n  private extractTags(text: string, metadata?: { type: string; symbol: string }): string[] {\n    const tags = [\"finnhub\"];\n\n    if (metadata?.type) {\n      tags.push(metadata.type);\n      if (metadata.type === \"congress\") tags.push(\"political-alpha\");\n      if (metadata.type === \"insider\") tags.push(\"insider-trade\");\n      if (metadata.type === \"earnings\") tags.push(\"earnings\");\n    }\n\n    if (metadata?.symbol) {\n      tags.push(metadata.symbol.toLowerCase());\n      if (this.isCryptoRelated(metadata.symbol)) tags.push(\"crypto\");\n      if (this.isAIRelated(metadata.symbol)) tags.push(\"ai\");\n    }\n\n    return tags;\n  }\n\n  private isCryptoRelated(symbol?: string): boolean {\n    if (!symbol) return false;\n    const cryptoSymbols = [\"COIN\", \"MSTR\", \"RIOT\", \"MARA\", \"CLSK\", \"HUT\", \"BITF\", \"BTBT\"];\n    return cryptoSymbols.includes(symbol.toUpperCase());\n  }\n\n  private isAIRelated(symbol?: string): boolean {\n    if (!symbol) return false;\n    const aiSymbols = [\"NVDA\", \"AMD\", \"PLTR\", \"AI\", \"SNOW\", \"CRM\", \"GOOGL\", \"MSFT\"];\n    return aiSymbols.includes(symbol.toUpperCase());\n  }\n\n  private isRecent(dateStr: string): boolean {\n    const date = new Date(dateStr);\n    const daysSince = (Date.now() - date.getTime()) / (1000 * 60 * 60 * 24);\n    return daysSince <= 7;\n  }\n\n  private getDateString(daysOffset: number): string {\n    const date = new Date();\n    date.setDate(date.getDate() + daysOffset);\n    return date.toISOString().split(\"T\")[0];\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `finnhub:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","import { createHash, randomUUID } from \"crypto\";\nimport {\n  type BaseHunterSource,\n  type HunterConfig,\n  type HuntDiscovery,\n  type RawDiscovery,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\n\n// npm Registry API - 100% Free, No Auth Required\nconst NPM_API = \"https://api.npmjs.org\";\nconst NPM_REGISTRY = \"https://registry.npmjs.org\";\n\ninterface NPMDownloads {\n  downloads: number;\n  start: string;\n  end: string;\n  package: string;\n}\n\ninterface NPMPackageInfo {\n  name: string;\n  description?: string;\n  \"dist-tags\": { latest: string };\n  time: Record<string, string>;\n  keywords?: string[];\n  repository?: { url?: string };\n  author?: { name?: string };\n  maintainers?: Array<{ name: string }>;\n}\n\n// Key packages to track for tech trends\nconst TRACKED_PACKAGES = [\n  // AI/ML\n  { name: \"langchain\", category: \"ai\" },\n  { name: \"@langchain/core\", category: \"ai\" },\n  { name: \"openai\", category: \"ai\" },\n  { name: \"@anthropic-ai/sdk\", category: \"ai\" },\n  { name: \"ai\", category: \"ai\" }, // Vercel AI SDK\n  { name: \"ollama\", category: \"ai\" },\n\n  // Crypto/Web3\n  { name: \"@solana/web3.js\", category: \"crypto\" },\n  { name: \"ethers\", category: \"crypto\" },\n  { name: \"viem\", category: \"crypto\" },\n  { name: \"wagmi\", category: \"crypto\" },\n  { name: \"@coral-xyz/anchor\", category: \"crypto\" },\n\n  // Frontend Frameworks\n  { name: \"react\", category: \"frontend\" },\n  { name: \"next\", category: \"frontend\" },\n  { name: \"vue\", category: \"frontend\" },\n  { name: \"svelte\", category: \"frontend\" },\n  { name: \"solid-js\", category: \"frontend\" },\n  { name: \"astro\", category: \"frontend\" },\n\n  // Backend/Runtime\n  { name: \"express\", category: \"backend\" },\n  { name: \"fastify\", category: \"backend\" },\n  { name: \"hono\", category: \"backend\" },\n  { name: \"elysia\", category: \"backend\" },\n\n  // Dev Tools\n  { name: \"typescript\", category: \"tooling\" },\n  { name: \"vite\", category: \"tooling\" },\n  { name: \"turbo\", category: \"tooling\" },\n  { name: \"bun\", category: \"tooling\" },\n  { name: \"tsx\", category: \"tooling\" },\n];\n\nexport class NPMHunter implements BaseHunterSource {\n  source = \"npm\" as const;\n  private config: HunterConfig;\n\n  constructor(config: HunterConfig) {\n    this.config = config;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n\n    for (const pkg of TRACKED_PACKAGES) {\n      try {\n        const downloads = await this.fetchDownloads(pkg.name);\n        const info = await this.fetchPackageInfo(pkg.name);\n\n        if (downloads && info) {\n          const trend = await this.calculateTrend(pkg.name);\n          const discovery = this.createDiscovery(pkg, downloads, info, trend);\n          if (discovery) {\n            discoveries.push(discovery);\n          }\n        }\n\n        await new Promise((r) => setTimeout(r, 200)); // Be nice to npm\n      } catch (error) {\n        console.error(`[NPMHunter] Failed to fetch ${pkg.name}:`, error);\n      }\n    }\n\n    // Sort by download growth and return significant ones\n    return discoveries\n      .filter((d) => d.metrics.likes !== undefined && Math.abs(d.metrics.likes) > 5)\n      .sort((a, b) => (b.metrics.likes ?? 0) - (a.metrics.likes ?? 0));\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description ?? \"\"}`.toLowerCase();\n    const metadata = raw.metadata as { category: string; trend: number } | undefined;\n\n    return {\n      id: randomUUID(),\n      source: \"npm\" as any,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category: this.categorize(metadata?.category),\n      tags: this.extractTags(text, metadata),\n      language: undefined,\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.web3),\n        hasAIKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ai),\n        hasSolanaKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.solana),\n        hasEthereumKeywords: this.hasKeywords(text, RELEVANCE_KEYWORDS.ethereum),\n        hasTypeScript: this.hasKeywords(text, RELEVANCE_KEYWORDS.typescript),\n        recentActivity: (metadata?.trend ?? 0) > 10,\n        highEngagement: (metadata?.trend ?? 0) > 20,\n        isShowHN: false,\n      },\n      rawMetadata: metadata as unknown as Record<string, unknown>,\n      fingerprint: this.generateFingerprint(raw),\n    };\n  }\n\n  private async fetchDownloads(packageName: string): Promise<NPMDownloads | null> {\n    const response = await fetch(\n      `${NPM_API}/downloads/point/last-week/${encodeURIComponent(packageName)}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!response.ok) return null;\n    return response.json();\n  }\n\n  private async fetchPackageInfo(packageName: string): Promise<NPMPackageInfo | null> {\n    const response = await fetch(\n      `${NPM_REGISTRY}/${encodeURIComponent(packageName)}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!response.ok) return null;\n    return response.json();\n  }\n\n  private async calculateTrend(packageName: string): Promise<number> {\n    // Compare this week vs last week\n    const thisWeek = await this.fetchDownloads(packageName);\n\n    // Fetch last week (hacky but works)\n    const lastWeekResponse = await fetch(\n      `${NPM_API}/downloads/point/last-month/${encodeURIComponent(packageName)}`,\n      { headers: { \"User-Agent\": \"gICM-Hunter/1.0\" } }\n    );\n\n    if (!lastWeekResponse.ok || !thisWeek) return 0;\n\n    const lastMonth = await lastWeekResponse.json();\n    const avgWeeklyLastMonth = lastMonth.downloads / 4;\n\n    if (avgWeeklyLastMonth === 0) return 0;\n\n    return ((thisWeek.downloads - avgWeeklyLastMonth) / avgWeeklyLastMonth) * 100;\n  }\n\n  private createDiscovery(\n    pkg: typeof TRACKED_PACKAGES[0],\n    downloads: NPMDownloads,\n    info: NPMPackageInfo,\n    trend: number\n  ): RawDiscovery | null {\n    const emoji = trend > 0 ? \"\" : trend < 0 ? \"\" : \"\";\n    const trendStr = trend !== 0 ? ` (${trend > 0 ? \"+\" : \"\"}${trend.toFixed(1)}%)` : \"\";\n\n    // Get last publish date\n    const latestVersion = info[\"dist-tags\"]?.latest;\n    const lastPublish = latestVersion ? info.time[latestVersion] : undefined;\n    const isRecentlyUpdated = lastPublish\n      ? (Date.now() - new Date(lastPublish).getTime()) < 7 * 24 * 60 * 60 * 1000\n      : false;\n\n    return {\n      sourceId: `npm:${pkg.name}:${downloads.end}`,\n      sourceUrl: `https://www.npmjs.com/package/${pkg.name}`,\n      title: `${emoji} [NPM] ${pkg.name}: ${this.formatNumber(downloads.downloads)}/week${trendStr}`,\n      description: `${info.description || pkg.name}${isRecentlyUpdated ? \" | Recently updated!\" : \"\"} | Category: ${pkg.category}`,\n      author: info.author?.name || info.maintainers?.[0]?.name,\n      authorUrl: info.repository?.url?.replace(\"git+\", \"\").replace(\".git\", \"\"),\n      publishedAt: lastPublish ? new Date(lastPublish) : undefined,\n      metrics: {\n        points: downloads.downloads,\n        likes: trend,\n        views: isRecentlyUpdated ? 1 : 0,\n      },\n      metadata: {\n        ...pkg,\n        downloads: downloads.downloads,\n        trend,\n        latestVersion,\n        lastPublish,\n        keywords: info.keywords,\n      } as unknown as Record<string, unknown>,\n    };\n  }\n\n  private categorize(category?: string): HuntDiscovery[\"category\"] {\n    if (category === \"ai\") return \"ai\";\n    if (category === \"crypto\") return \"web3\";\n    if (category === \"tooling\") return \"tooling\";\n    return \"other\";\n  }\n\n  private extractTags(text: string, metadata?: { category: string; trend: number }): string[] {\n    const tags = [\"npm\", \"javascript\", \"typescript\"];\n\n    if (metadata?.category) {\n      tags.push(metadata.category);\n    }\n\n    if ((metadata?.trend ?? 0) > 20) tags.push(\"trending\");\n    if ((metadata?.trend ?? 0) < -20) tags.push(\"declining\");\n\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.ai)) tags.push(\"ai\");\n    if (this.hasKeywords(text, RELEVANCE_KEYWORDS.web3)) tags.push(\"web3\");\n\n    return [...new Set(tags)];\n  }\n\n  private hasKeywords(text: string, keywords: string[]): boolean {\n    const lowerText = text.toLowerCase();\n    return keywords.some((kw) => lowerText.includes(kw.toLowerCase()));\n  }\n\n  private formatNumber(num: number): string {\n    if (num >= 1e9) return `${(num / 1e9).toFixed(1)}B`;\n    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;\n    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;\n    return num.toFixed(0);\n  }\n\n  private generateFingerprint(raw: RawDiscovery): string {\n    const key = `npm:${raw.sourceId}`;\n    return createHash(\"sha256\").update(key).digest(\"hex\").slice(0, 32);\n  }\n}\n","/**\n * RSS Hunter - Aggregated news feeds from crypto, AI, and tech sources\n *\n * No API key required. Parses RSS/Atom feeds from multiple sources.\n *\n * Categories:\n * - Crypto News: CoinDesk, The Block, Decrypt, CryptoSlate\n * - AI/Tech News: TechCrunch, Ars Technica, Wired, MIT Tech Review\n * - Developer: Dev.to, Hacker Noon, InfoQ\n * - Market: Bloomberg Crypto, Reuters Tech\n */\n\nimport {\n  type BaseHunterSource,\n  type RawDiscovery,\n  type HuntDiscovery,\n  type HunterConfig,\n  RELEVANCE_KEYWORDS,\n} from \"../types.js\";\nimport { createHash } from \"crypto\";\n\n// RSS Feed configuration\ninterface RSSFeed {\n  name: string;\n  url: string;\n  category: \"crypto\" | \"ai\" | \"tech\" | \"dev\" | \"market\";\n  priority: number; // 1-5, higher = more important\n}\n\n// Parsed RSS item\ninterface RSSItem {\n  title: string;\n  link: string;\n  description?: string;\n  pubDate?: string;\n  author?: string;\n  categories?: string[];\n  guid?: string;\n}\n\n// Default feeds to monitor\nconst DEFAULT_FEEDS: RSSFeed[] = [\n  // Crypto News (Priority 5)\n  {\n    name: \"CoinDesk\",\n    url: \"https://www.coindesk.com/arc/outboundfeeds/rss/\",\n    category: \"crypto\",\n    priority: 5,\n  },\n  {\n    name: \"The Block\",\n    url: \"https://www.theblock.co/rss.xml\",\n    category: \"crypto\",\n    priority: 5,\n  },\n  {\n    name: \"Decrypt\",\n    url: \"https://decrypt.co/feed\",\n    category: \"crypto\",\n    priority: 4,\n  },\n  {\n    name: \"CryptoSlate\",\n    url: \"https://cryptoslate.com/feed/\",\n    category: \"crypto\",\n    priority: 4,\n  },\n  {\n    name: \"Cointelegraph\",\n    url: \"https://cointelegraph.com/rss\",\n    category: \"crypto\",\n    priority: 4,\n  },\n\n  // AI/Tech News (Priority 4)\n  {\n    name: \"TechCrunch AI\",\n    url: \"https://techcrunch.com/category/artificial-intelligence/feed/\",\n    category: \"ai\",\n    priority: 4,\n  },\n  {\n    name: \"MIT Tech Review\",\n    url: \"https://www.technologyreview.com/feed/\",\n    category: \"ai\",\n    priority: 4,\n  },\n  {\n    name: \"Ars Technica\",\n    url: \"https://feeds.arstechnica.com/arstechnica/technology-lab\",\n    category: \"tech\",\n    priority: 3,\n  },\n  {\n    name: \"Wired\",\n    url: \"https://www.wired.com/feed/rss\",\n    category: \"tech\",\n    priority: 3,\n  },\n\n  // Developer (Priority 3)\n  {\n    name: \"Dev.to\",\n    url: \"https://dev.to/feed\",\n    category: \"dev\",\n    priority: 3,\n  },\n  {\n    name: \"Hacker Noon\",\n    url: \"https://hackernoon.com/feed\",\n    category: \"dev\",\n    priority: 3,\n  },\n  {\n    name: \"InfoQ\",\n    url: \"https://feed.infoq.com/\",\n    category: \"dev\",\n    priority: 2,\n  },\n\n  // Solana Specific\n  {\n    name: \"Solana Blog\",\n    url: \"https://solana.com/news/rss.xml\",\n    category: \"crypto\",\n    priority: 5,\n  },\n\n  // DeFi Specific\n  {\n    name: \"DeFi Pulse\",\n    url: \"https://defipulse.com/blog/feed/\",\n    category: \"crypto\",\n    priority: 4,\n  },\n];\n\n// Simple XML parser for RSS (no external dependencies)\nfunction parseRSSXML(xml: string): RSSItem[] {\n  const items: RSSItem[] = [];\n\n  // Match all <item> or <entry> tags (RSS 2.0 and Atom)\n  const itemRegex = /<item[^>]*>([\\s\\S]*?)<\\/item>|<entry[^>]*>([\\s\\S]*?)<\\/entry>/gi;\n  let match;\n\n  while ((match = itemRegex.exec(xml)) !== null) {\n    const content = match[1] || match[2];\n\n    const title = extractTag(content, \"title\");\n    const link =\n      extractTag(content, \"link\") || extractAtomLink(content);\n    const description =\n      extractTag(content, \"description\") ||\n      extractTag(content, \"summary\") ||\n      extractTag(content, \"content\");\n    const pubDate =\n      extractTag(content, \"pubDate\") ||\n      extractTag(content, \"published\") ||\n      extractTag(content, \"updated\");\n    const author =\n      extractTag(content, \"author\") ||\n      extractTag(content, \"dc:creator\");\n    const guid = extractTag(content, \"guid\") || extractTag(content, \"id\");\n\n    // Extract categories\n    const categories: string[] = [];\n    const catRegex = /<category[^>]*>([^<]+)<\\/category>/gi;\n    let catMatch;\n    while ((catMatch = catRegex.exec(content)) !== null) {\n      categories.push(catMatch[1].trim());\n    }\n\n    if (title && link) {\n      items.push({\n        title: decodeHTMLEntities(title),\n        link,\n        description: description ? decodeHTMLEntities(stripHTML(description)) : undefined,\n        pubDate,\n        author,\n        categories,\n        guid,\n      });\n    }\n  }\n\n  return items;\n}\n\nfunction extractTag(content: string, tag: string): string | undefined {\n  // Handle both regular tags and CDATA\n  const cdataRegex = new RegExp(\n    `<${tag}[^>]*><!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)\\\\]\\\\]><\\\\/${tag}>`,\n    \"i\"\n  );\n  const regularRegex = new RegExp(`<${tag}[^>]*>([^<]*)<\\\\/${tag}>`, \"i\");\n\n  const cdataMatch = content.match(cdataRegex);\n  if (cdataMatch) return cdataMatch[1].trim();\n\n  const regularMatch = content.match(regularRegex);\n  if (regularMatch) return regularMatch[1].trim();\n\n  return undefined;\n}\n\nfunction extractAtomLink(content: string): string | undefined {\n  // Atom links: <link href=\"...\" />\n  const linkRegex = /<link[^>]*href=[\"']([^\"']+)[\"'][^>]*\\/?>/i;\n  const match = content.match(linkRegex);\n  return match ? match[1] : undefined;\n}\n\nfunction stripHTML(html: string): string {\n  return html.replace(/<[^>]*>/g, \"\").trim();\n}\n\nfunction decodeHTMLEntities(text: string): string {\n  const entities: Record<string, string> = {\n    \"&amp;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&quot;\": '\"',\n    \"&#39;\": \"'\",\n    \"&apos;\": \"'\",\n    \"&nbsp;\": \" \",\n    \"&#x27;\": \"'\",\n    \"&#x2F;\": \"/\",\n  };\n\n  return text.replace(/&[^;]+;/g, (entity) => entities[entity] || entity);\n}\n\nexport class RSSHunter implements BaseHunterSource {\n  source = \"rss\" as const;\n  private config: HunterConfig;\n  private feeds: RSSFeed[];\n  private seenGuids: Set<string> = new Set();\n\n  constructor(config: HunterConfig & { feeds?: RSSFeed[] }) {\n    this.config = config;\n    this.feeds = config.feeds || DEFAULT_FEEDS;\n  }\n\n  async hunt(): Promise<RawDiscovery[]> {\n    const discoveries: RawDiscovery[] = [];\n    const now = new Date();\n    const maxAge = 24 * 60 * 60 * 1000; // 24 hours\n\n    // Fetch all feeds in parallel (with concurrency limit)\n    const results = await Promise.allSettled(\n      this.feeds.map((feed) => this.fetchFeed(feed))\n    );\n\n    for (let i = 0; i < results.length; i++) {\n      const result = results[i];\n      const feed = this.feeds[i];\n\n      if (result.status === \"fulfilled\" && result.value) {\n        for (const item of result.value) {\n          // Check if already seen\n          const guid = item.guid || item.link;\n          if (this.seenGuids.has(guid)) continue;\n\n          // Check age\n          if (item.pubDate) {\n            const pubDate = new Date(item.pubDate);\n            if (now.getTime() - pubDate.getTime() > maxAge) continue;\n          }\n\n          // Apply keyword filters if configured\n          if (this.config.filters?.keywords?.length) {\n            const text = `${item.title} ${item.description || \"\"}`.toLowerCase();\n            const hasKeyword = this.config.filters.keywords.some((k) =>\n              text.includes(k.toLowerCase())\n            );\n            if (!hasKeyword) continue;\n          }\n\n          // Apply exclude filters\n          if (this.config.filters?.excludeKeywords?.length) {\n            const text = `${item.title} ${item.description || \"\"}`.toLowerCase();\n            const hasExcluded = this.config.filters.excludeKeywords.some((k) =>\n              text.includes(k.toLowerCase())\n            );\n            if (hasExcluded) continue;\n          }\n\n          this.seenGuids.add(guid);\n          discoveries.push(this.createDiscovery(item, feed));\n        }\n      } else if (result.status === \"rejected\") {\n        console.warn(`[RSSHunter] Failed to fetch ${feed.name}:`, result.reason);\n      }\n    }\n\n    // Sort by priority and recency\n    discoveries.sort((a, b) => {\n      const priorityA = (a.metadata as Record<string, unknown>)?.priority as number || 1;\n      const priorityB = (b.metadata as Record<string, unknown>)?.priority as number || 1;\n      if (priorityA !== priorityB) return priorityB - priorityA;\n\n      const dateA = a.publishedAt?.getTime() || 0;\n      const dateB = b.publishedAt?.getTime() || 0;\n      return dateB - dateA;\n    });\n\n    return discoveries.slice(0, 50); // Limit to 50 items per hunt\n  }\n\n  private async fetchFeed(feed: RSSFeed): Promise<RSSItem[]> {\n    try {\n      const response = await fetch(feed.url, {\n        headers: {\n          Accept: \"application/rss+xml, application/xml, application/atom+xml, text/xml\",\n          \"User-Agent\": \"gICM-HunterAgent/1.0\",\n        },\n        signal: AbortSignal.timeout(10000), // 10 second timeout\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}`);\n      }\n\n      const xml = await response.text();\n      return parseRSSXML(xml);\n    } catch (error) {\n      console.error(`[RSSHunter] Error fetching ${feed.name}:`, error);\n      return [];\n    }\n  }\n\n  private createDiscovery(item: RSSItem, feed: RSSFeed): RawDiscovery {\n    const emoji = this.getCategoryEmoji(feed.category);\n\n    return {\n      sourceId: `rss-${feed.name}-${createHash(\"md5\").update(item.link).digest(\"hex\").slice(0, 8)}`,\n      sourceUrl: item.link,\n      title: `${emoji} ${item.title}`,\n      description: item.description?.slice(0, 500),\n      author: item.author || feed.name,\n      authorUrl: new URL(item.link).origin,\n      publishedAt: item.pubDate ? new Date(item.pubDate) : undefined,\n      metrics: {\n        points: feed.priority,\n      },\n      metadata: {\n        type: \"news_article\",\n        feedName: feed.name,\n        feedCategory: feed.category,\n        priority: feed.priority,\n        categories: item.categories,\n        guid: item.guid,\n      },\n    };\n  }\n\n  private getCategoryEmoji(category: RSSFeed[\"category\"]): string {\n    switch (category) {\n      case \"crypto\":\n        return \"\";\n      case \"ai\":\n        return \"\";\n      case \"tech\":\n        return \"\";\n      case \"dev\":\n        return \"\";\n      case \"market\":\n        return \"\";\n      default:\n        return \"\";\n    }\n  }\n\n  transform(raw: RawDiscovery): HuntDiscovery {\n    const text = `${raw.title} ${raw.description || \"\"}`.toLowerCase();\n    const metadata = raw.metadata as Record<string, unknown>;\n\n    // Detect relevance\n    const hasWeb3Keywords = RELEVANCE_KEYWORDS.web3.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasAIKeywords = RELEVANCE_KEYWORDS.ai.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasSolanaKeywords = RELEVANCE_KEYWORDS.solana.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasEthereumKeywords = RELEVANCE_KEYWORDS.ethereum.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n    const hasTypeScript = RELEVANCE_KEYWORDS.typescript.some((k) =>\n      text.includes(k.toLowerCase())\n    );\n\n    // High engagement = priority 4-5 sources\n    const priority = (metadata.priority as number) || 1;\n    const highEngagement = priority >= 4;\n\n    // Determine category\n    let category: \"web3\" | \"defi\" | \"ai\" | \"nft\" | \"tooling\" | \"other\" = \"other\";\n    const feedCategory = metadata.feedCategory as string;\n\n    if (feedCategory === \"crypto\") {\n      category = hasWeb3Keywords ? \"web3\" : \"defi\";\n      if (text.includes(\"nft\")) category = \"nft\";\n    } else if (feedCategory === \"ai\") {\n      category = \"ai\";\n    } else if (feedCategory === \"dev\") {\n      category = \"tooling\";\n    }\n\n    // Generate tags from article categories and keywords\n    const tags: string[] = [\"news\"];\n    tags.push(feedCategory);\n    if (metadata.categories && Array.isArray(metadata.categories)) {\n      const articleCats = metadata.categories as string[];\n      tags.push(...articleCats.slice(0, 5).map((c) => c.toLowerCase().replace(/\\s+/g, \"-\")));\n    }\n    if (hasSolanaKeywords) tags.push(\"solana\");\n    if (hasEthereumKeywords) tags.push(\"ethereum\");\n    if (hasAIKeywords) tags.push(\"ai\");\n    if (hasWeb3Keywords) tags.push(\"web3\");\n\n    // Fingerprint for deduplication\n    const fingerprint = createHash(\"md5\")\n      .update(raw.sourceUrl)\n      .digest(\"hex\")\n      .slice(0, 16);\n\n    return {\n      id: `rss-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      source: this.source,\n      sourceId: raw.sourceId,\n      sourceUrl: raw.sourceUrl,\n      title: raw.title,\n      description: raw.description,\n      author: raw.author,\n      authorUrl: raw.authorUrl,\n      publishedAt: raw.publishedAt,\n      discoveredAt: new Date(),\n      category,\n      tags: [...new Set(tags)], // Dedupe tags\n      metrics: raw.metrics,\n      relevanceFactors: {\n        hasWeb3Keywords,\n        hasAIKeywords,\n        hasSolanaKeywords,\n        hasEthereumKeywords,\n        hasTypeScript,\n        recentActivity: true, // All items are recent (< 24h)\n        highEngagement,\n        isShowHN: false,\n      },\n      rawMetadata: raw.metadata,\n      fingerprint,\n    };\n  }\n}\n\n// Export feed type for external configuration\nexport type { RSSFeed };\nexport { DEFAULT_FEEDS };\n"],"mappings":"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","names":["createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","APIFY_API","randomUUID","createHash","createHash","randomUUID","TARGET_CATEGORIES","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","randomUUID","createHash","createHash","createHash","THRESHOLDS","createHash","THRESHOLDS","createHash","THRESHOLDS","createHash","THRESHOLDS","createHash","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","TARGET_CATEGORIES","randomUUID","createHash","createHash","randomUUID","createHash","randomUUID","randomUUID","createHash","createHash","randomUUID","createHash","randomUUID","randomUUID","createHash","createHash"]}