{"version":3,"sources":["../src/brain/goal-system.ts","../src/brain/goal-system.json","../src/brain/daily-cycle.ts","../src/brain/gicm-brain.ts","../src/brain/adapters/growth-adapter.ts","../src/brain/adapters/product-adapter.ts","../src/brain/adapters/hunter-adapter.ts","../src/brain/signal-processor.ts","../src/brain/adapters/autonomy-adapter.ts"],"sourcesContent":["/**\n * gICM Goal System\n *\n * Loads and provides access to the goal system configuration.\n * This is the \"soul\" of gICM - defining what the platform strives for.\n */\n\nimport { z } from \"zod\";\nimport goalSystemConfig from \"./goal-system.json\";\n\n// ============================================================================\n// SCHEMAS\n// ============================================================================\n\nconst CoreValueSchema = z.object({\n  name: z.string(),\n  priority: z.number(),\n  description: z.string(),\n});\n\nconst MetricTargetSchema = z.object({\n  target: z.union([z.number(), z.boolean()]),\n  description: z.string(),\n});\n\nconst CompetitorSchema = z.object({\n  name: z.string(),\n  category: z.string(),\n});\n\nconst PhaseSchema = z.object({\n  start: z.string(),\n  end: z.string(),\n  description: z.string(),\n});\n\nconst GoalSystemSchema = z.object({\n  version: z.string(),\n  primeDirective: z.string(),\n  coreValues: z.array(CoreValueSchema),\n  autonomyLevels: z.object({\n    current: z.number(),\n    descriptions: z.record(z.string()),\n    targets: z.record(z.number()),\n  }),\n  metrics: z.object({\n    daily: z.record(MetricTargetSchema),\n    weekly: z.record(MetricTargetSchema),\n    monthly: z.record(MetricTargetSchema),\n    yearly_2025: z.record(MetricTargetSchema),\n  }),\n  decisionThresholds: z.object({\n    auto_approve_score: z.number(),\n    manual_review_score: z.number(),\n    auto_reject_score: z.number(),\n    escalate_above_impact: z.number(),\n    escalate_above_risk: z.number(),\n  }),\n  competitors: z.array(CompetitorSchema),\n  focusAreas: z.array(z.string()),\n  schedule: z.object({\n    timezone: z.string(),\n    phases: z.record(PhaseSchema),\n    weekly: z.record(z.string()),\n  }),\n  treasury: z.object({\n    allocations: z.record(z.number()),\n    thresholds: z.record(z.number()),\n    expenses_monthly: z.record(z.number()),\n  }),\n  trading: z.object({\n    default_mode: z.enum([\"paper\", \"micro\", \"live\"]),\n    progression_rules: z.record(z.object({\n      win_rate_min: z.number().optional(),\n      profitable_days_min: z.number().optional(),\n      profitable_months_min: z.number().optional(),\n      max_drawdown_percent: z.number().optional(),\n      requires_approval: z.boolean(),\n    })),\n    risk_limits: z.record(z.number()),\n  }),\n});\n\nexport type GoalSystem = z.infer<typeof GoalSystemSchema>;\nexport type CoreValue = z.infer<typeof CoreValueSchema>;\nexport type MetricTarget = z.infer<typeof MetricTargetSchema>;\nexport type Competitor = z.infer<typeof CompetitorSchema>;\n\n// ============================================================================\n// GOAL SYSTEM CLASS\n// ============================================================================\n\nexport class GoalSystemManager {\n  private config: GoalSystem;\n\n  constructor() {\n    this.config = GoalSystemSchema.parse(goalSystemConfig);\n  }\n\n  /**\n   * Get the prime directive\n   */\n  getPrimeDirective(): string {\n    return this.config.primeDirective;\n  }\n\n  /**\n   * Get core values in priority order\n   */\n  getCoreValues(): CoreValue[] {\n    return [...this.config.coreValues].sort((a, b) => a.priority - b.priority);\n  }\n\n  /**\n   * Get current autonomy level\n   */\n  getCurrentAutonomyLevel(): number {\n    return this.config.autonomyLevels.current;\n  }\n\n  /**\n   * Get autonomy level description\n   */\n  getAutonomyDescription(level: number): string {\n    return this.config.autonomyLevels.descriptions[level.toString()] ?? \"Unknown\";\n  }\n\n  /**\n   * Get daily metric targets\n   */\n  getDailyMetrics(): Record<string, MetricTarget> {\n    return this.config.metrics.daily;\n  }\n\n  /**\n   * Get weekly metric targets\n   */\n  getWeeklyMetrics(): Record<string, MetricTarget> {\n    return this.config.metrics.weekly;\n  }\n\n  /**\n   * Get decision thresholds\n   */\n  getDecisionThresholds() {\n    return this.config.decisionThresholds;\n  }\n\n  /**\n   * Evaluate a discovery score against thresholds\n   */\n  evaluateScore(score: number): \"auto_approve\" | \"manual_review\" | \"auto_reject\" | \"defer\" {\n    const thresholds = this.config.decisionThresholds;\n\n    if (score >= thresholds.auto_approve_score) {\n      return \"auto_approve\";\n    } else if (score >= thresholds.manual_review_score) {\n      return \"manual_review\";\n    } else if (score < thresholds.auto_reject_score) {\n      return \"auto_reject\";\n    } else {\n      return \"defer\";\n    }\n  }\n\n  /**\n   * Get competitors to monitor\n   */\n  getCompetitors(): Competitor[] {\n    return this.config.competitors;\n  }\n\n  /**\n   * Get current schedule phase based on UTC time\n   */\n  getCurrentPhase(): { name: string; phase: { start: string; end: string; description: string } } | null {\n    const now = new Date();\n    const currentHour = now.getUTCHours();\n    const currentMinute = now.getUTCMinutes();\n    const currentTime = currentHour * 60 + currentMinute;\n\n    for (const [name, phase] of Object.entries(this.config.schedule.phases)) {\n      const [startHour, startMinute] = phase.start.split(\":\").map(Number);\n      const [endHour, endMinute] = phase.end.split(\":\").map(Number);\n\n      const startTime = startHour * 60 + startMinute;\n      let endTime = endHour * 60 + endMinute;\n\n      // Handle overnight phases (e.g., 23:00 - 00:00)\n      if (endTime <= startTime) {\n        endTime += 24 * 60;\n        const adjustedCurrentTime = currentTime < startTime ? currentTime + 24 * 60 : currentTime;\n        if (adjustedCurrentTime >= startTime && adjustedCurrentTime < endTime) {\n          return { name, phase };\n        }\n      } else if (currentTime >= startTime && currentTime < endTime) {\n        return { name, phase };\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Get today's weekly focus\n   */\n  getTodayFocus(): string {\n    const days = [\"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\"];\n    const today = days[new Date().getUTCDay()];\n    return this.config.schedule.weekly[today] ?? \"General\";\n  }\n\n  /**\n   * Get treasury allocation config\n   */\n  getTreasuryAllocations() {\n    return this.config.treasury.allocations;\n  }\n\n  /**\n   * Get trading risk limits\n   */\n  getTradingRiskLimits() {\n    return this.config.trading.risk_limits;\n  }\n\n  /**\n   * Get trading mode\n   */\n  getDefaultTradingMode(): \"paper\" | \"micro\" | \"live\" {\n    return this.config.trading.default_mode;\n  }\n\n  /**\n   * Check if progression from current to next trading mode is allowed\n   */\n  canProgressTradingMode(\n    fromMode: \"paper\" | \"micro\",\n    stats: { winRate: number; profitableDays?: number; profitableMonths?: number; maxDrawdown?: number }\n  ): { allowed: boolean; requiresApproval: boolean; reason?: string } {\n    const toMode = fromMode === \"paper\" ? \"micro\" : \"live\";\n    const ruleKey = `${fromMode}_to_${toMode}`;\n    const rules = this.config.trading.progression_rules[ruleKey];\n\n    if (!rules) {\n      return { allowed: false, requiresApproval: false, reason: \"No progression rules defined\" };\n    }\n\n    if (rules.win_rate_min && stats.winRate < rules.win_rate_min) {\n      return { allowed: false, requiresApproval: false, reason: `Win rate ${stats.winRate}% below minimum ${rules.win_rate_min}%` };\n    }\n\n    if (rules.profitable_days_min && (stats.profitableDays ?? 0) < rules.profitable_days_min) {\n      return { allowed: false, requiresApproval: false, reason: `Profitable days ${stats.profitableDays ?? 0} below minimum ${rules.profitable_days_min}` };\n    }\n\n    if (rules.profitable_months_min && (stats.profitableMonths ?? 0) < rules.profitable_months_min) {\n      return { allowed: false, requiresApproval: false, reason: `Profitable months ${stats.profitableMonths ?? 0} below minimum ${rules.profitable_months_min}` };\n    }\n\n    if (rules.max_drawdown_percent && (stats.maxDrawdown ?? 0) > rules.max_drawdown_percent) {\n      return { allowed: false, requiresApproval: false, reason: `Max drawdown ${stats.maxDrawdown}% exceeds limit ${rules.max_drawdown_percent}%` };\n    }\n\n    return { allowed: true, requiresApproval: rules.requires_approval };\n  }\n\n  /**\n   * Get the full config\n   */\n  getConfig(): GoalSystem {\n    return this.config;\n  }\n}\n\n// Export singleton instance\nexport const goalSystem = new GoalSystemManager();\n","{\n  \"$schema\": \"https://json-schema.org/draft/2020-12/schema\",\n  \"version\": \"1.0.0\",\n  \"description\": \"gICM Goal System - The soul of the autonomous platform\",\n\n  \"primeDirective\": \"Become the world's most advanced autonomous AI development platform\",\n\n  \"coreValues\": [\n    { \"name\": \"safety_first\", \"priority\": 1, \"description\": \"Never compromise user data, code quality, or ethical boundaries\" },\n    { \"name\": \"continuous_improvement\", \"priority\": 2, \"description\": \"Every action should make gICM better - 1% daily compounds to 37x yearly\" },\n    { \"name\": \"speed_of_iteration\", \"priority\": 3, \"description\": \"Done > Perfect. Ship, measure, improve. But never sacrifice safety for speed\" },\n    { \"name\": \"user_value\", \"priority\": 4, \"description\": \"Everything serves users - vibe coders, pro coders, enterprises\" },\n    { \"name\": \"transparency\", \"priority\": 5, \"description\": \"All activity logged, all decisions explainable, all code open source\" },\n    { \"name\": \"self_reliance\", \"priority\": 6, \"description\": \"Reduce dependencies on humans, external services, manual processes\" }\n  ],\n\n  \"autonomyLevels\": {\n    \"current\": 2,\n    \"descriptions\": {\n      \"1\": \"Manual - Human does everything\",\n      \"2\": \"Assisted - AI suggests, human approves\",\n      \"3\": \"Supervised - AI acts, human monitors\",\n      \"4\": \"Autonomous - AI decides within guardrails\",\n      \"5\": \"Self-Directed - AI sets own objectives\",\n      \"6\": \"AGI-Ready - Full autonomy with safety guarantees\"\n    },\n    \"targets\": {\n      \"2025\": 3,\n      \"2027\": 6\n    }\n  },\n\n  \"metrics\": {\n    \"daily\": {\n      \"discoveries_scanned\": { \"target\": 100, \"description\": \"More input = more opportunities\" },\n      \"high_value_discoveries\": { \"target\": 3, \"description\": \"Score > 70\" },\n      \"integrations_completed\": { \"target\": 1, \"description\": \"Continuous improvement\" },\n      \"code_quality_score\": { \"target\": 85, \"description\": \"No regressions allowed\" },\n      \"uptime_percent\": { \"target\": 99.9, \"description\": \"Reliability is trust\" }\n    },\n    \"weekly\": {\n      \"new_components\": { \"target\": 5, \"description\": \"Growing capability\" },\n      \"improved_components\": { \"target\": 10, \"description\": \"Everything gets better\" },\n      \"user_requested_features\": { \"target\": 3, \"description\": \"Community-driven\" },\n      \"competitor_features_matched\": { \"target\": 2, \"description\": \"Stay competitive\" },\n      \"innovations\": { \"target\": 1, \"description\": \"Lead, don't follow\" }\n    },\n    \"monthly\": {\n      \"major_capabilities\": { \"target\": 3, \"description\": \"Visible progress\" },\n      \"performance_improvement_percent\": { \"target\": 10, \"description\": \"Compounding gains\" },\n      \"autonomy_level_increase\": { \"target\": 0.5, \"description\": \"Toward AGI\" },\n      \"community_growth_percent\": { \"target\": 20, \"description\": \"Network effects\" }\n    },\n    \"yearly_2025\": {\n      \"autonomy_level\": { \"target\": 3, \"description\": \"gICM acts, Mirko monitors\" },\n      \"total_components\": { \"target\": 500, \"description\": \"Comprehensive marketplace\" },\n      \"active_users\": { \"target\": 10000, \"description\": \"Product-market fit\" },\n      \"self_funding\": { \"target\": true, \"description\": \"Revenue covers costs\" },\n      \"category_ranking\": { \"target\": 3, \"description\": \"Top 3 in AI dev tools\" }\n    }\n  },\n\n  \"decisionThresholds\": {\n    \"auto_approve_score\": 85,\n    \"manual_review_score\": 70,\n    \"auto_reject_score\": 40,\n    \"escalate_above_impact\": 80,\n    \"escalate_above_risk\": 70\n  },\n\n  \"competitors\": [\n    { \"name\": \"cursor\", \"category\": \"AI code editor\" },\n    { \"name\": \"replit\", \"category\": \"Cloud IDE with AI\" },\n    { \"name\": \"v0.dev\", \"category\": \"AI UI generation\" },\n    { \"name\": \"lovable\", \"category\": \"AI app builder\" },\n    { \"name\": \"bolt.new\", \"category\": \"AI full-stack\" },\n    { \"name\": \"github-copilot\", \"category\": \"Code completion\" },\n    { \"name\": \"devin\", \"category\": \"AI software engineer\" }\n  ],\n\n  \"focusAreas\": [\n    \"context_efficiency\",\n    \"autonomous_agents\",\n    \"solana_web3\",\n    \"ui_components\",\n    \"mcp_ecosystem\"\n  ],\n\n  \"schedule\": {\n    \"timezone\": \"UTC\",\n    \"phases\": {\n      \"morning_scan\": { \"start\": \"00:00\", \"end\": \"04:00\", \"description\": \"Hunt & discover\" },\n      \"decision_planning\": { \"start\": \"04:00\", \"end\": \"06:00\", \"description\": \"Plan & decide\" },\n      \"execution\": { \"start\": \"06:00\", \"end\": \"20:00\", \"description\": \"Build & execute\" },\n      \"reflection\": { \"start\": \"20:00\", \"end\": \"23:00\", \"description\": \"Analyze & learn\" },\n      \"maintenance\": { \"start\": \"23:00\", \"end\": \"00:00\", \"description\": \"Cleanup & prep\" }\n    },\n    \"weekly\": {\n      \"monday\": \"Planning & Strategy\",\n      \"tuesday\": \"Building\",\n      \"wednesday\": \"Growth\",\n      \"thursday\": \"Quality\",\n      \"friday\": \"Finance & Metrics\",\n      \"saturday\": \"Innovation\",\n      \"sunday\": \"Rest & Reflection\"\n    }\n  },\n\n  \"treasury\": {\n    \"allocations\": {\n      \"trading\": 0.4,\n      \"operations\": 0.3,\n      \"growth\": 0.2,\n      \"reserve\": 0.1\n    },\n    \"thresholds\": {\n      \"min_operating_balance_usd\": 1000,\n      \"max_trading_allocation_percent\": 50,\n      \"rebalance_threshold_percent\": 10,\n      \"runway_months_minimum\": 3\n    },\n    \"expenses_monthly\": {\n      \"claude_api\": 200,\n      \"helius_rpc\": 50,\n      \"birdeye_api\": 100,\n      \"vercel_hosting\": 20,\n      \"misc\": 30\n    }\n  },\n\n  \"trading\": {\n    \"default_mode\": \"paper\",\n    \"progression_rules\": {\n      \"paper_to_micro\": {\n        \"win_rate_min\": 60,\n        \"profitable_days_min\": 30,\n        \"requires_approval\": true\n      },\n      \"micro_to_live\": {\n        \"win_rate_min\": 65,\n        \"profitable_months_min\": 3,\n        \"max_drawdown_percent\": 10,\n        \"requires_approval\": true\n      }\n    },\n    \"risk_limits\": {\n      \"max_position_percent\": 10,\n      \"stop_loss_percent\": 5,\n      \"daily_loss_limit_percent\": 3,\n      \"max_drawdown_percent\": 15\n    }\n  }\n}\n","/**\n * gICM Daily Cycle\n *\n * Autonomous daily operating cycle that coordinates all engines:\n * - Morning Scan (00:00-04:00 UTC): Discovery, market analysis\n * - Decision Planning (04:00-06:00 UTC): Prioritize, plan executions\n * - Execution (06:00-20:00 UTC): Trading, content, building\n * - Reflection (20:00-22:00 UTC): Review performance, learn\n * - Maintenance (22:00-00:00 UTC): Cleanup, prepare for next day\n */\n\nimport { CronJob } from \"cron\";\nimport { goalSystem, GoalSystemManager } from \"./goal-system.js\";\nimport type { HunterEngineConnection } from \"./adapters/hunter-adapter.js\";\nimport type { TradingSignal } from \"./signal-processor.js\";\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport type PhaseType =\n  | \"morning_scan\"\n  | \"decision_planning\"\n  | \"execution\"\n  | \"reflection\"\n  | \"maintenance\";\n\nexport interface PhaseResult {\n  phase: PhaseType;\n  startedAt: number;\n  completedAt: number;\n  success: boolean;\n  metrics: Record<string, number>;\n  errors: string[];\n  actions: ActionLog[];\n}\n\nexport interface ActionLog {\n  timestamp: number;\n  engine: \"money\" | \"growth\" | \"product\" | \"brain\";\n  action: string;\n  result: \"success\" | \"failed\" | \"skipped\";\n  details?: string;\n}\n\nexport interface DailyCycleConfig {\n  enabled: boolean;\n  dryRun: boolean;\n  notifyOnPhaseComplete: boolean;\n  notifyOnError: boolean;\n}\n\nexport interface EngineConnections {\n  money?: {\n    getTreasuryStatus: () => Promise<{ totalUsd: number; runway: string }>;\n    getUpcomingExpenses: () => Promise<Array<{ name: string; amount: number; dueDate: number }>>;\n  };\n  growth?: {\n    generateContent: (type: string) => Promise<{ id: string; title: string }>;\n    schedulePost: (content: { title: string; body: string }, platform: string) => Promise<void>;\n  };\n  product?: {\n    runDiscovery: () => Promise<Array<{ id: string; title: string; score: number }>>;\n    getBacklog: () => Promise<Array<{ id: string; status: string }>>;\n    processNextBuild: () => Promise<{ id: string; status: string } | null>;\n  };\n  trading?: {\n    getStatus: () => Promise<{ mode: string; positions: number; pnlToday: number }>;\n    runAnalysis: (token: string) => Promise<{ signal: string; confidence: number }>;\n    sendSignals?: (signals: TradingSignal[]) => Promise<{ queued: number; rejected: number }>;\n  };\n  hunter?: HunterEngineConnection;\n}\n\n// ============================================================================\n// DAILY CYCLE MANAGER\n// ============================================================================\n\nexport class DailyCycleManager {\n  private config: DailyCycleConfig;\n  private goals: GoalSystemManager;\n  private engines: EngineConnections;\n  private jobs: Map<string, CronJob> = new Map();\n  private todayResults: PhaseResult[] = [];\n  private isRunning = false;\n  private currentPhase: PhaseType | null = null;\n\n  constructor(config?: Partial<DailyCycleConfig>) {\n    this.config = {\n      enabled: config?.enabled ?? true,\n      dryRun: config?.dryRun ?? true, // Safe default\n      notifyOnPhaseComplete: config?.notifyOnPhaseComplete ?? true,\n      notifyOnError: config?.notifyOnError ?? true,\n    };\n    this.goals = goalSystem;\n    this.engines = {};\n  }\n\n  /**\n   * Connect engines\n   */\n  connectEngines(engines: EngineConnections): void {\n    this.engines = { ...this.engines, ...engines };\n    this.log(\"brain\", \"Engines connected\", Object.keys(engines).join(\", \"));\n  }\n\n  /**\n   * Start the daily cycle\n   */\n  start(): void {\n    if (this.isRunning) {\n      this.log(\"brain\", \"Already running\", \"skipped\");\n      return;\n    }\n\n    this.log(\"brain\", \"Starting daily cycle\", this.config.dryRun ? \"DRY RUN MODE\" : \"LIVE MODE\");\n\n    // Phase schedules (UTC)\n    const schedules: Record<PhaseType, string> = {\n      morning_scan: \"0 0 * * *\",      // 00:00 UTC\n      decision_planning: \"0 4 * * *\", // 04:00 UTC\n      execution: \"0 6 * * *\",         // 06:00 UTC\n      reflection: \"0 20 * * *\",       // 20:00 UTC\n      maintenance: \"0 22 * * *\",      // 22:00 UTC\n    };\n\n    for (const [phase, cron] of Object.entries(schedules)) {\n      const job = new CronJob(cron, async () => {\n        await this.runPhase(phase as PhaseType);\n      }, null, true, \"UTC\");\n      this.jobs.set(phase, job);\n    }\n\n    this.isRunning = true;\n    this.log(\"brain\", \"Daily cycle started\", `${this.jobs.size} phases scheduled`);\n\n    // Run current phase immediately if we're in one\n    const currentPhase = this.goals.getCurrentPhase();\n    if (currentPhase) {\n      this.log(\"brain\", `Currently in ${currentPhase.name} phase`, \"running immediately\");\n      this.runPhase(currentPhase.name as PhaseType);\n    }\n  }\n\n  /**\n   * Stop the daily cycle\n   */\n  stop(): void {\n    for (const [name, job] of this.jobs) {\n      job.stop();\n    }\n    this.jobs.clear();\n    this.isRunning = false;\n    this.log(\"brain\", \"Daily cycle stopped\");\n  }\n\n  /**\n   * Run a specific phase\n   */\n  async runPhase(phase: PhaseType): Promise<PhaseResult> {\n    this.currentPhase = phase;\n    const startedAt = Date.now();\n    const actions: ActionLog[] = [];\n    const errors: string[] = [];\n    const metrics: Record<string, number> = {};\n\n    this.log(\"brain\", `Starting phase: ${phase}`);\n\n    try {\n      switch (phase) {\n        case \"morning_scan\":\n          await this.runMorningScan(actions, metrics, errors);\n          break;\n        case \"decision_planning\":\n          await this.runDecisionPlanning(actions, metrics, errors);\n          break;\n        case \"execution\":\n          await this.runExecution(actions, metrics, errors);\n          break;\n        case \"reflection\":\n          await this.runReflection(actions, metrics, errors);\n          break;\n        case \"maintenance\":\n          await this.runMaintenance(actions, metrics, errors);\n          break;\n      }\n    } catch (error) {\n      errors.push(`Phase error: ${error}`);\n      this.log(\"brain\", `Phase ${phase} error`, String(error));\n    }\n\n    const result: PhaseResult = {\n      phase,\n      startedAt,\n      completedAt: Date.now(),\n      success: errors.length === 0,\n      metrics,\n      errors,\n      actions,\n    };\n\n    this.todayResults.push(result);\n    this.currentPhase = null;\n\n    this.log(\"brain\", `Phase ${phase} complete`, `${actions.length} actions, ${errors.length} errors`);\n\n    return result;\n  }\n\n  // ============================================================================\n  // PHASE IMPLEMENTATIONS\n  // ============================================================================\n\n  /**\n   * Morning Scan: Discovery, market analysis, opportunity identification\n   */\n  private async runMorningScan(\n    actions: ActionLog[],\n    metrics: Record<string, number>,\n    errors: string[]\n  ): Promise<void> {\n    // 1. Run HUNTER discovery (alpha signals)\n    if (this.engines.hunter) {\n      try {\n        this.log(\"brain\", \"Running hunter alpha scan...\");\n        const discoveries = await this.engines.hunter.runHunt();\n        metrics.hunterDiscoveries = discoveries.length;\n        actions.push(this.action(\"brain\", \"runHunterScan\", \"success\", `Found ${discoveries.length} discoveries`));\n\n        // Process into signals\n        const signalBatch = this.engines.hunter.processSignals(discoveries);\n        metrics.totalSignals = signalBatch.signals.length;\n        actions.push(this.action(\"brain\", \"processSignals\", \"success\", `${signalBatch.signals.length} signals generated`));\n\n        // Get actionable signals\n        const actionable = this.engines.hunter.getActionableSignals();\n        metrics.actionableSignals = actionable.length;\n        actions.push(this.action(\"brain\", \"filterActionable\", \"success\", `${actionable.length} actionable signals`));\n\n        // Log top signals\n        actionable.slice(0, 5).forEach((signal) => {\n          this.log(\"brain\", `[${signal.type}] ${signal.title.slice(0, 50)}...`, `Confidence: ${signal.confidence}%`);\n        });\n\n        // Send actionable signals to trading\n        if (actionable.length > 0 && this.engines.trading?.sendSignals) {\n          try {\n            const result = await this.engines.trading.sendSignals(actionable);\n            metrics.signalsQueued = result.queued;\n            metrics.signalsRejected = result.rejected;\n            actions.push(this.action(\"brain\", \"sendSignals\", \"success\", `${result.queued} queued, ${result.rejected} rejected`));\n          } catch (e) {\n            errors.push(`Failed to send signals: ${e}`);\n            actions.push(this.action(\"brain\", \"sendSignals\", \"failed\", String(e)));\n          }\n        }\n      } catch (e) {\n        errors.push(`Hunter scan failed: ${e}`);\n        actions.push(this.action(\"brain\", \"runHunterScan\", \"failed\", String(e)));\n      }\n    }\n\n    // 2. Run product discovery\n    if (this.engines.product) {\n      try {\n        const opportunities = await this.engines.product.runDiscovery();\n        metrics.productDiscoveries = opportunities.length;\n        actions.push(this.action(\"product\", \"runDiscovery\", \"success\", `Found ${opportunities.length} opportunities`));\n\n        // Log top opportunities\n        opportunities.slice(0, 5).forEach((opp) => {\n          this.log(\"product\", `Discovery: ${opp.title}`, `Score: ${opp.score}`);\n        });\n      } catch (e) {\n        errors.push(`Product discovery failed: ${e}`);\n        actions.push(this.action(\"product\", \"runDiscovery\", \"failed\", String(e)));\n      }\n    }\n\n    // 3. Check treasury status\n    if (this.engines.money) {\n      try {\n        const treasury = await this.engines.money.getTreasuryStatus();\n        metrics.treasuryUsd = treasury.totalUsd;\n        actions.push(this.action(\"money\", \"getTreasuryStatus\", \"success\", `$${treasury.totalUsd} | ${treasury.runway}`));\n\n        const expenses = await this.engines.money.getUpcomingExpenses();\n        metrics.upcomingExpenses = expenses.length;\n        actions.push(this.action(\"money\", \"getUpcomingExpenses\", \"success\", `${expenses.length} upcoming`));\n      } catch (e) {\n        errors.push(`Treasury check failed: ${e}`);\n        actions.push(this.action(\"money\", \"getTreasuryStatus\", \"failed\", String(e)));\n      }\n    }\n\n    // 4. Check trading status\n    if (this.engines.trading) {\n      try {\n        const status = await this.engines.trading.getStatus();\n        metrics.tradingPositions = status.positions;\n        metrics.tradingPnl = status.pnlToday;\n        actions.push(this.action(\"money\", \"getTradingStatus\", \"success\", `${status.positions} positions, $${status.pnlToday} PnL`));\n      } catch (e) {\n        errors.push(`Trading status check failed: ${e}`);\n        actions.push(this.action(\"money\", \"getTradingStatus\", \"failed\", String(e)));\n      }\n    }\n  }\n\n  /**\n   * Decision Planning: Prioritize tasks, plan executions\n   */\n  private async runDecisionPlanning(\n    actions: ActionLog[],\n    metrics: Record<string, number>,\n    errors: string[]\n  ): Promise<void> {\n    const thresholds = this.goals.getDecisionThresholds();\n    const todayFocus = this.goals.getTodayFocus();\n\n    this.log(\"brain\", `Today's focus: ${todayFocus}`);\n    actions.push(this.action(\"brain\", \"setFocus\", \"success\", todayFocus));\n\n    // 1. Evaluate backlog items\n    if (this.engines.product) {\n      try {\n        const backlog = await this.engines.product.getBacklog();\n        const pending = backlog.filter((b) => b.status === \"evaluated\");\n        metrics.backlogPending = pending.length;\n\n        // Auto-approve based on goal system thresholds\n        let approved = 0;\n        let rejected = 0;\n\n        // In dry run, we just log what we would do\n        if (this.config.dryRun) {\n          this.log(\"brain\", `[DRY RUN] Would process ${pending.length} backlog items`);\n        }\n\n        metrics.autoApproved = approved;\n        metrics.autoRejected = rejected;\n        actions.push(this.action(\"brain\", \"evaluateBacklog\", \"success\", `${pending.length} pending items`));\n      } catch (e) {\n        errors.push(`Backlog evaluation failed: ${e}`);\n        actions.push(this.action(\"brain\", \"evaluateBacklog\", \"failed\", String(e)));\n      }\n    }\n\n    // 2. Plan content for growth\n    const dailyMetrics = this.goals.getDailyMetrics();\n    if (dailyMetrics.content_pieces) {\n      const target = dailyMetrics.content_pieces.target as number;\n      metrics.contentTarget = target;\n      actions.push(this.action(\"brain\", \"planContent\", \"success\", `Target: ${target} pieces`));\n    }\n  }\n\n  /**\n   * Execution: Trading, content creation, building\n   */\n  private async runExecution(\n    actions: ActionLog[],\n    metrics: Record<string, number>,\n    errors: string[]\n  ): Promise<void> {\n    // 1. Execute scheduled content\n    if (this.engines.growth) {\n      try {\n        if (this.config.dryRun) {\n          this.log(\"growth\", \"[DRY RUN] Would generate and schedule content\");\n          actions.push(this.action(\"growth\", \"generateContent\", \"skipped\", \"Dry run mode\"));\n        } else {\n          const content = await this.engines.growth.generateContent(\"educational\");\n          await this.engines.growth.schedulePost({ title: content.title, body: \"\" }, \"twitter\");\n          metrics.contentGenerated = 1;\n          actions.push(this.action(\"growth\", \"generateContent\", \"success\", content.title));\n        }\n      } catch (e) {\n        errors.push(`Content generation failed: ${e}`);\n        actions.push(this.action(\"growth\", \"generateContent\", \"failed\", String(e)));\n      }\n    }\n\n    // 2. Process builds\n    if (this.engines.product) {\n      try {\n        if (this.config.dryRun) {\n          this.log(\"product\", \"[DRY RUN] Would process next build\");\n          actions.push(this.action(\"product\", \"processNextBuild\", \"skipped\", \"Dry run mode\"));\n        } else {\n          const build = await this.engines.product.processNextBuild();\n          if (build) {\n            metrics.buildsProcessed = 1;\n            actions.push(this.action(\"product\", \"processNextBuild\", \"success\", build.id));\n          } else {\n            actions.push(this.action(\"product\", \"processNextBuild\", \"skipped\", \"No builds in queue\"));\n          }\n        }\n      } catch (e) {\n        errors.push(`Build processing failed: ${e}`);\n        actions.push(this.action(\"product\", \"processNextBuild\", \"failed\", String(e)));\n      }\n    }\n\n    // 3. Trading execution happens via ai-hedge-fund separately\n    // We just monitor here\n    if (this.engines.trading) {\n      try {\n        const status = await this.engines.trading.getStatus();\n        metrics.tradingMode = status.mode === \"paper\" ? 0 : status.mode === \"micro\" ? 1 : 2;\n        actions.push(this.action(\"money\", \"monitorTrading\", \"success\", `Mode: ${status.mode}`));\n      } catch (e) {\n        actions.push(this.action(\"money\", \"monitorTrading\", \"failed\", String(e)));\n      }\n    }\n  }\n\n  /**\n   * Reflection: Review performance, calculate metrics\n   */\n  private async runReflection(\n    actions: ActionLog[],\n    metrics: Record<string, number>,\n    errors: string[]\n  ): Promise<void> {\n    // 1. Aggregate today's results\n    const todayActions = this.todayResults.flatMap((r) => r.actions);\n    const successCount = todayActions.filter((a) => a.result === \"success\").length;\n    const failedCount = todayActions.filter((a) => a.result === \"failed\").length;\n\n    metrics.totalActions = todayActions.length;\n    metrics.successRate = todayActions.length > 0 ? Math.round((successCount / todayActions.length) * 100) : 0;\n    metrics.failedActions = failedCount;\n\n    this.log(\"brain\", `Daily stats: ${successCount}/${todayActions.length} successful (${metrics.successRate}%)`);\n    actions.push(this.action(\"brain\", \"aggregateStats\", \"success\", `${metrics.successRate}% success rate`));\n\n    // 2. Check goal progress\n    const dailyMetrics = this.goals.getDailyMetrics();\n    const progress: string[] = [];\n\n    for (const [key, target] of Object.entries(dailyMetrics)) {\n      const value = this.todayResults.reduce((sum, r) => sum + (r.metrics[key] ?? 0), 0);\n      const targetValue = target.target as number;\n      const percent = Math.round((value / targetValue) * 100);\n      progress.push(`${key}: ${value}/${targetValue} (${percent}%)`);\n    }\n\n    this.log(\"brain\", \"Goal progress\", progress.join(\", \"));\n    actions.push(this.action(\"brain\", \"checkGoalProgress\", \"success\", `${progress.length} metrics tracked`));\n\n    // 3. Trading reflection\n    if (this.engines.trading) {\n      try {\n        const status = await this.engines.trading.getStatus();\n        metrics.dailyPnl = status.pnlToday;\n        this.log(\"money\", `Daily PnL: $${status.pnlToday}`);\n        actions.push(this.action(\"money\", \"recordPnl\", \"success\", `$${status.pnlToday}`));\n      } catch (e) {\n        errors.push(`Trading reflection failed: ${e}`);\n      }\n    }\n  }\n\n  /**\n   * Maintenance: Cleanup, prepare for next day\n   */\n  private async runMaintenance(\n    actions: ActionLog[],\n    metrics: Record<string, number>,\n    errors: string[]\n  ): Promise<void> {\n    // 1. Archive today's results\n    const summary = {\n      date: new Date().toISOString().split(\"T\")[0],\n      phases: this.todayResults.length,\n      totalActions: this.todayResults.reduce((sum, r) => sum + r.actions.length, 0),\n      totalErrors: this.todayResults.reduce((sum, r) => sum + r.errors.length, 0),\n    };\n\n    this.log(\"brain\", `Day summary: ${summary.totalActions} actions, ${summary.totalErrors} errors`);\n    actions.push(this.action(\"brain\", \"archiveResults\", \"success\", JSON.stringify(summary)));\n\n    // 2. Reset for tomorrow\n    this.todayResults = [];\n    metrics.resetComplete = 1;\n    actions.push(this.action(\"brain\", \"resetForTomorrow\", \"success\"));\n\n    // 3. Check treasury runway\n    if (this.engines.money) {\n      try {\n        const treasury = await this.engines.money.getTreasuryStatus();\n        this.log(\"money\", `Treasury runway: ${treasury.runway}`);\n        actions.push(this.action(\"money\", \"checkRunway\", \"success\", treasury.runway));\n      } catch (e) {\n        errors.push(`Treasury check failed: ${e}`);\n      }\n    }\n  }\n\n  // ============================================================================\n  // HELPERS\n  // ============================================================================\n\n  private log(engine: string, message: string, details?: string): void {\n    const timestamp = new Date().toISOString();\n    const prefix = `[${timestamp}] [${engine.toUpperCase()}]`;\n    console.log(`${prefix} ${message}${details ? ` - ${details}` : \"\"}`);\n  }\n\n  private action(\n    engine: ActionLog[\"engine\"],\n    action: string,\n    result: ActionLog[\"result\"],\n    details?: string\n  ): ActionLog {\n    return {\n      timestamp: Date.now(),\n      engine,\n      action,\n      result,\n      details,\n    };\n  }\n\n  /**\n   * Get current status\n   */\n  getStatus() {\n    return {\n      isRunning: this.isRunning,\n      currentPhase: this.currentPhase,\n      dryRun: this.config.dryRun,\n      todayPhases: this.todayResults.length,\n      todayActions: this.todayResults.reduce((sum, r) => sum + r.actions.length, 0),\n      todayErrors: this.todayResults.reduce((sum, r) => sum + r.errors.length, 0),\n      connectedEngines: Object.keys(this.engines),\n    };\n  }\n\n  /**\n   * Get today's results\n   */\n  getTodayResults(): PhaseResult[] {\n    return this.todayResults;\n  }\n\n  /**\n   * Manually trigger a phase (for testing)\n   */\n  async triggerPhase(phase: PhaseType): Promise<PhaseResult> {\n    return this.runPhase(phase);\n  }\n}\n\n// Export singleton instance\nexport const dailyCycle = new DailyCycleManager();\n","/**\n * gICM Brain - The Main Autonomous Controller\n *\n * Wires together all engines and provides the main entry point\n * for the autonomous system.\n */\n\nimport { DailyCycleManager, dailyCycle, type EngineConnections } from \"./daily-cycle.js\";\nimport { goalSystem } from \"./goal-system.js\";\nimport { GrowthEngine } from \"@gicm/growth-engine\";\nimport { ProductEngine } from \"@gicm/product-engine\";\nimport { createGrowthAdapter, createProductAdapter, createHunterAdapter, type HunterAdapter } from \"./adapters/index.js\";\nimport type { TradingSignal } from \"./signal-processor.js\";\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface GicmBrainConfig {\n  dryRun?: boolean;\n  tradingApiUrl?: string;\n  enableDiscovery?: boolean;\n  enableTrading?: boolean;\n  enableGrowth?: boolean;\n  enableHunter?: boolean;\n  hunterApiKeys?: {\n    github?: string;\n    apify?: string;\n    fred?: string;\n    finnhub?: string;\n  };\n}\n\nexport interface BrainStatus {\n  version: string;\n  primeDirective: string;\n  autonomyLevel: number;\n  autonomyDescription: string;\n  currentPhase: string | null;\n  todayFocus: string;\n  isRunning: boolean;\n  dryRun: boolean;\n  engines: {\n    money: boolean;\n    growth: boolean;\n    product: boolean;\n    trading: boolean;\n    hunter: boolean;\n  };\n  metrics: {\n    todayPhases: number;\n    todayActions: number;\n    todayErrors: number;\n  };\n  hunter?: {\n    enabledSources: string[];\n    totalDiscoveries: number;\n    totalSignals: number;\n    actionableSignals: number;\n  };\n}\n\n// ============================================================================\n// GICM BRAIN\n// ============================================================================\n\nexport class GicmBrain {\n  private config: GicmBrainConfig;\n  private cycle: DailyCycleManager;\n  private engines: EngineConnections = {};\n  private hunterAdapter?: HunterAdapter;\n  private hub?: any; // Optional integration hub\n\n  constructor(config?: GicmBrainConfig) {\n    this.config = {\n      dryRun: config?.dryRun ?? true,\n      tradingApiUrl: config?.tradingApiUrl ?? \"http://localhost:4000\",\n      enableDiscovery: config?.enableDiscovery ?? true,\n      enableTrading: config?.enableTrading ?? true,\n      enableGrowth: config?.enableGrowth ?? true,\n      enableHunter: config?.enableHunter ?? true,\n      hunterApiKeys: config?.hunterApiKeys,\n    };\n\n    this.cycle = new DailyCycleManager({\n      dryRun: this.config.dryRun,\n      enabled: true,\n    });\n  }\n\n  /**\n   * Initialize all engine connections\n   */\n  async initialize(): Promise<void> {\n    console.log(\"[BRAIN] Initializing gICM Brain...\");\n    console.log(`[BRAIN] Prime Directive: ${goalSystem.getPrimeDirective()}`);\n    console.log(`[BRAIN] Autonomy Level: ${goalSystem.getCurrentAutonomyLevel()}`);\n    console.log(`[BRAIN] Mode: ${this.config.dryRun ? \"DRY RUN\" : \"LIVE\"}`);\n\n    // Connect engines based on config\n    await this.connectEngines();\n\n    console.log(\"[BRAIN] Initialization complete\");\n  }\n\n  /**\n   * Connect all available engines\n   */\n  private async connectEngines(): Promise<void> {\n    const connections: EngineConnections = {};\n\n    // Money Engine (always connect for status)\n    connections.money = this.createMoneyEngineConnection();\n    console.log(\"[BRAIN] Money engine connected\");\n\n    // Growth Engine\n    if (this.config.enableGrowth) {\n      connections.growth = this.createGrowthEngineConnection();\n      console.log(\"[BRAIN] Growth engine connected\");\n    }\n\n    // Product Engine\n    if (this.config.enableDiscovery) {\n      connections.product = this.createProductEngineConnection();\n      console.log(\"[BRAIN] Product engine connected\");\n    }\n\n    // Trading (AI Hedge Fund)\n    if (this.config.enableTrading) {\n      connections.trading = this.createTradingConnection();\n      console.log(\"[BRAIN] Trading engine connected\");\n    }\n\n    // Hunter Engine (Alpha Discovery)\n    if (this.config.enableHunter) {\n      connections.hunter = await this.createHunterEngineConnection();\n      console.log(\"[BRAIN] Hunter engine connected\");\n    }\n\n    this.engines = connections;\n    this.cycle.connectEngines(connections);\n  }\n\n  /**\n   * Create money engine connection\n   */\n  private createMoneyEngineConnection(): EngineConnections[\"money\"] {\n    // Import dynamically to avoid circular dependencies\n    return {\n      getTreasuryStatus: async () => {\n        // TODO: Connect to actual TreasuryManager\n        // For now, return mock data\n        return {\n          totalUsd: 0,\n          runway: \"Unknown - not connected to wallet\",\n        };\n      },\n      getUpcomingExpenses: async () => {\n        // TODO: Connect to actual ExpenseTracker\n        return [\n          { name: \"Claude API\", amount: 200, dueDate: Date.now() + 7 * 24 * 60 * 60 * 1000 },\n          { name: \"Helius RPC\", amount: 50, dueDate: Date.now() + 14 * 24 * 60 * 60 * 1000 },\n        ];\n      },\n    };\n  }\n\n  /**\n   * Create growth engine connection\n   */\n  private createGrowthEngineConnection(): EngineConnections[\"growth\"] {\n    try {\n      const growthEngine = new GrowthEngine({\n        blog: { postsPerWeek: 3, categories: [\"tutorial\", \"guide\"], targetWordCount: 1500 },\n        twitter: { tweetsPerDay: 5, threadsPerWeek: 2, engagementEnabled: false },\n        seo: { primaryKeywords: [], competitors: [], targetPositions: {} },\n        discord: { serverId: \"\", announcementChannel: \"\", contentChannel: \"\" },\n      });\n\n      // Don't start() - we just use it for on-demand operations\n      return createGrowthAdapter(growthEngine);\n    } catch (error) {\n      console.warn(`[BRAIN] Failed to create GrowthEngine: ${error}`);\n      // Fallback to mock\n      return {\n        generateContent: async (type) => ({\n          id: `mock-${Date.now()}`,\n          title: `[Mock] ${type}`,\n        }),\n        schedulePost: async () => {},\n      };\n    }\n  }\n\n  /**\n   * Create product engine connection\n   */\n  private createProductEngineConnection(): EngineConnections[\"product\"] {\n    try {\n      const productEngine = new ProductEngine({\n        discovery: {\n          enabled: false, // Manual discovery via daily cycle\n          sources: [\"competitor\", \"github\", \"hackernews\"],\n          intervalHours: 6,\n        },\n        building: {\n          autoBuild: false,\n          autoApprove: false,\n          outputDir: \"packages\",\n        },\n        quality: {\n          minTestScore: 80,\n          minReviewScore: 70,\n          requireApproval: true,\n        },\n        deployment: {\n          autoDeploy: false,\n          registry: \"npm\",\n          notifications: true,\n        },\n      });\n\n      return createProductAdapter(productEngine);\n    } catch (error) {\n      console.warn(`[BRAIN] Failed to create ProductEngine: ${error}`);\n      // Fallback to mock\n      return {\n        runDiscovery: async () => [],\n        getBacklog: async () => [],\n        processNextBuild: async () => null,\n      };\n    }\n  }\n\n  /**\n   * Create trading (AI Hedge Fund) connection\n   */\n  private createTradingConnection(): EngineConnections[\"trading\"] {\n    const apiUrl = this.config.tradingApiUrl;\n\n    return {\n      getStatus: async () => {\n        try {\n          const response = await fetch(`${apiUrl}/api/v1/status`);\n          if (!response.ok) throw new Error(\"API not available\");\n          const data = await response.json();\n          return {\n            mode: data.mode,\n            positions: data.positions,\n            pnlToday: data.pnlToday,\n          };\n        } catch {\n          // Fallback if API not running\n          return {\n            mode: goalSystem.getDefaultTradingMode(),\n            positions: 0,\n            pnlToday: 0,\n          };\n        }\n      },\n      runAnalysis: async (token: string) => {\n        try {\n          const response = await fetch(`${apiUrl}/api/v1/analyze`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ token, chain: \"solana\" }),\n          });\n          if (!response.ok) throw new Error(\"Analysis failed\");\n          const data = await response.json();\n          return {\n            signal: data.final_decision?.action ?? \"hold\",\n            confidence: data.final_decision?.confidence ?? 0,\n          };\n        } catch {\n          return { signal: \"hold\", confidence: 0 };\n        }\n      },\n      sendSignals: async (signals: TradingSignal[]) => {\n        try {\n          const response = await fetch(`${apiUrl}/api/v1/signals`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ signals }),\n          });\n          if (!response.ok) throw new Error(\"Signal send failed\");\n          const data = await response.json();\n          return {\n            queued: data.queued ?? 0,\n            rejected: data.rejected ?? 0,\n          };\n        } catch {\n          return { queued: 0, rejected: signals.length };\n        }\n      },\n    };\n  }\n\n  /**\n   * Create hunter engine connection\n   */\n  private async createHunterEngineConnection(): Promise<EngineConnections[\"hunter\"]> {\n    try {\n      this.hunterAdapter = createHunterAdapter({\n        apiKeys: this.config.hunterApiKeys,\n        tradingApiUrl: this.config.tradingApiUrl,\n        autoSendSignals: false, // We'll send manually via trading connection\n      });\n\n      await this.hunterAdapter.initialize();\n      return this.hunterAdapter.createConnection();\n    } catch (error) {\n      console.warn(`[BRAIN] Failed to create HunterAdapter: ${error}`);\n      // Return mock connection\n      return {\n        runHunt: async () => [],\n        getDiscoveries: () => [],\n        processSignals: () => ({\n          processedAt: new Date(),\n          totalDiscoveries: 0,\n          signals: [],\n          byType: {} as any,\n          byAction: {},\n        }),\n        getActionableSignals: () => [],\n        getStatus: () => ({\n          isRunning: false,\n          enabledSources: [],\n          lastHunt: null,\n          totalDiscoveries: 0,\n          totalSignals: 0,\n          actionableSignals: 0,\n        }),\n        start: async () => {},\n        stop: async () => {},\n      };\n    }\n  }\n\n  /**\n   * Start the autonomous cycle\n   */\n  start(): void {\n    console.log(\"[BRAIN] Starting autonomous cycle...\");\n    this.cycle.start();\n\n    // Emit engine started event (if hub available)\n    this.hub?.engineStarted?.(\"orchestrator\");\n\n    // Setup heartbeat (if hub available)\n    setInterval(() => {\n      this.hub?.heartbeat?.(\"orchestrator\");\n    }, 30000);\n  }\n\n  /**\n   * Stop the autonomous cycle\n   */\n  stop(): void {\n    console.log(\"[BRAIN] Stopping autonomous cycle...\");\n    this.cycle.stop();\n\n    // Emit engine stopped event (if hub available)\n    this.hub?.engineStopped?.(\"orchestrator\");\n  }\n\n  /**\n   * Emit a brain event\n   */\n  emitEvent(type: \"brain:phase_started\" | \"brain:phase_completed\" | \"brain:decision_made\" | \"brain:goal_achieved\", payload: Record<string, unknown>): void {\n    this.hub?.getEventBus?.()?.emit?.(\"orchestrator\", type, payload as any);\n  }\n\n  /**\n   * Get current status\n   */\n  getStatus(): BrainStatus {\n    const cycleStatus = this.cycle.getStatus();\n    const currentPhase = goalSystem.getCurrentPhase();\n    const hunterStatus = this.engines.hunter?.getStatus();\n\n    return {\n      version: \"1.0.0\",\n      primeDirective: goalSystem.getPrimeDirective(),\n      autonomyLevel: goalSystem.getCurrentAutonomyLevel(),\n      autonomyDescription: goalSystem.getAutonomyDescription(goalSystem.getCurrentAutonomyLevel()),\n      currentPhase: currentPhase?.name ?? null,\n      todayFocus: goalSystem.getTodayFocus(),\n      isRunning: cycleStatus.isRunning,\n      dryRun: cycleStatus.dryRun,\n      engines: {\n        money: !!this.engines.money,\n        growth: !!this.engines.growth,\n        product: !!this.engines.product,\n        trading: !!this.engines.trading,\n        hunter: !!this.engines.hunter,\n      },\n      metrics: {\n        todayPhases: cycleStatus.todayPhases,\n        todayActions: cycleStatus.todayActions,\n        todayErrors: cycleStatus.todayErrors,\n      },\n      hunter: hunterStatus ? {\n        enabledSources: hunterStatus.enabledSources,\n        totalDiscoveries: hunterStatus.totalDiscoveries,\n        totalSignals: hunterStatus.totalSignals,\n        actionableSignals: hunterStatus.actionableSignals,\n      } : undefined,\n    };\n  }\n\n  /**\n   * Manually trigger a phase (for testing)\n   */\n  async triggerPhase(phase: \"morning_scan\" | \"decision_planning\" | \"execution\" | \"reflection\" | \"maintenance\") {\n    return this.cycle.triggerPhase(phase);\n  }\n\n  /**\n   * Get today's results\n   */\n  getTodayResults() {\n    return this.cycle.getTodayResults();\n  }\n\n  /**\n   * Get the goal system\n   */\n  getGoalSystem() {\n    return goalSystem;\n  }\n}\n\n// Export factory function\nexport function createGicmBrain(config?: GicmBrainConfig): GicmBrain {\n  return new GicmBrain(config);\n}\n","/**\n * Growth Engine Adapter\n *\n * Converts GrowthEngine to EngineConnections interface.\n */\n\nimport type { GrowthEngine } from \"@gicm/growth-engine\";\nimport type { EngineConnections } from \"../daily-cycle.js\";\n\nexport function createGrowthAdapter(engine: GrowthEngine): NonNullable<EngineConnections[\"growth\"]> {\n  return {\n    generateContent: async (type: string) => {\n      try {\n        // GrowthEngine.generateNow() returns void\n        const contentType = type === \"blog\" ? \"blog\" : type === \"thread\" ? \"thread\" : \"tweet\";\n        await engine.generateNow(contentType);\n\n        // Get latest status to find generated content\n        const status = engine.getStatus();\n\n        // For blogs\n        if (type === \"blog\" && status.upcomingContent.blogPosts.length > 0) {\n          const latest = status.upcomingContent.blogPosts[status.upcomingContent.blogPosts.length - 1];\n          return { id: latest.id || `blog-${Date.now()}`, title: latest.title };\n        }\n\n        // For tweets/threads\n        if ((type === \"tweet\" || type === \"thread\") && status.upcomingContent.tweets.length > 0) {\n          const latest = status.upcomingContent.tweets[status.upcomingContent.tweets.length - 1];\n          return { id: latest.id || `tweet-${Date.now()}`, title: latest.text?.slice(0, 50) + \"...\" || \"Tweet\" };\n        }\n\n        // Fallback\n        return {\n          id: `content-${Date.now()}`,\n          title: `Generated ${type} content`,\n        };\n      } catch (error) {\n        console.warn(`[GROWTH-ADAPTER] Content generation failed: ${error}`);\n        return {\n          id: `error-${Date.now()}`,\n          title: `[Failed] ${type} generation`,\n        };\n      }\n    },\n\n    schedulePost: async (content, platform) => {\n      try {\n        // GrowthEngine doesn't have unified schedulePost\n        // Use announceUpdate as proxy for announcements\n        if (platform === \"discord\") {\n          await engine.announceUpdate(\"content\", [content.title]);\n        } else {\n          // Twitter is handled internally by the engine\n          console.log(`[GROWTH-ADAPTER] Would schedule \"${content.title}\" to ${platform}`);\n        }\n      } catch (error) {\n        console.warn(`[GROWTH-ADAPTER] Schedule post failed: ${error}`);\n      }\n    },\n  };\n}\n","/**\n * Product Engine Adapter\n *\n * Converts ProductEngine to EngineConnections interface.\n */\n\nimport type { ProductEngine } from \"@gicm/product-engine\";\nimport type { EngineConnections } from \"../daily-cycle.js\";\n\nexport function createProductAdapter(engine: ProductEngine): NonNullable<EngineConnections[\"product\"]> {\n  return {\n    runDiscovery: async () => {\n      try {\n        const opportunities = await engine.runDiscovery();\n\n        return opportunities.map((opp) => ({\n          id: opp.id,\n          title: opp.title,\n          score: opp.scores?.overall || 0,\n        }));\n      } catch (error) {\n        console.warn(`[PRODUCT-ADAPTER] Discovery failed: ${error}`);\n        return [];\n      }\n    },\n\n    getBacklog: async () => {\n      try {\n        // getBacklog() is synchronous, wrap in Promise\n        const backlog = engine.getBacklog();\n\n        return backlog.map((item) => ({\n          id: item.id,\n          status: item.status,\n        }));\n      } catch (error) {\n        console.warn(`[PRODUCT-ADAPTER] Backlog fetch failed: ${error}`);\n        return [];\n      }\n    },\n\n    processNextBuild: async () => {\n      try {\n        const task = await engine.processNextBuild();\n\n        if (!task) return null;\n\n        return {\n          id: task.id,\n          status: task.status,\n        };\n      } catch (error) {\n        console.warn(`[PRODUCT-ADAPTER] Build processing failed: ${error}`);\n        return null;\n      }\n    },\n  };\n}\n","/**\n * Hunter Adapter\n *\n * Connects the HunterAgent to the gICM Brain for automated\n * signal processing and trading integration.\n */\n\nimport { HunterAgent, type HunterAgentConfig, type HuntDiscovery, type HuntSource } from \"@gicm/hunter-agent\";\nimport { SignalProcessor, type SignalBatch, type TradingSignal } from \"../signal-processor.js\";\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface HunterEngineConnection {\n  // Discovery\n  runHunt: (sources?: HuntSource[]) => Promise<HuntDiscovery[]>;\n  getDiscoveries: () => HuntDiscovery[];\n\n  // Signal processing\n  processSignals: (discoveries: HuntDiscovery[]) => SignalBatch;\n  getActionableSignals: () => TradingSignal[];\n\n  // Status\n  getStatus: () => HunterStatus;\n\n  // Control\n  start: () => Promise<void>;\n  stop: () => Promise<void>;\n}\n\nexport interface HunterStatus {\n  isRunning: boolean;\n  enabledSources: string[];\n  lastHunt: Date | null;\n  totalDiscoveries: number;\n  totalSignals: number;\n  actionableSignals: number;\n}\n\nexport interface HunterAdapterConfig {\n  // Which sources to enable (default: all free sources)\n  enabledSources?: HuntSource[];\n  // API keys for paid sources\n  apiKeys?: {\n    github?: string;\n    apify?: string;\n    fred?: string;\n    finnhub?: string;\n  };\n  // Signal routing\n  tradingApiUrl?: string;\n  autoSendSignals?: boolean;\n}\n\n// ============================================================================\n// DEFAULT SOURCES\n// ============================================================================\n\n// Free sources that don't need API keys\nconst FREE_SOURCES: HuntSource[] = [\n  \"hackernews\",\n  \"lobsters\",\n  \"arxiv\",\n  \"devto\",\n  \"defillama\",\n  \"geckoterminal\",\n  \"feargreed\",\n  \"binance\",\n  \"sec\",\n  \"npm\",\n];\n\n// Sources that need API keys\nconst PAID_SOURCES: HuntSource[] = [\n  \"github\",    // Needs GITHUB_TOKEN\n  \"twitter\",   // Needs APIFY_TOKEN\n  \"tiktok\",    // Needs APIFY_TOKEN\n  \"reddit\",    // Public but rate limited\n  \"fred\",      // Needs FRED_API_KEY\n  \"finnhub\",   // Needs FINNHUB_API_KEY\n];\n\n// ============================================================================\n// HUNTER ADAPTER\n// ============================================================================\n\nexport class HunterAdapter {\n  private agent: HunterAgent | null = null;\n  private processor: SignalProcessor;\n  private config: HunterAdapterConfig;\n\n  private discoveries: HuntDiscovery[] = [];\n  private lastSignalBatch: SignalBatch | null = null;\n  private lastHuntTime: Date | null = null;\n\n  constructor(config?: HunterAdapterConfig) {\n    this.config = config ?? {};\n    this.processor = new SignalProcessor();\n  }\n\n  /**\n   * Initialize the hunter agent\n   */\n  async initialize(): Promise<void> {\n    const sources = this.buildSourceConfigs();\n\n    this.agent = new HunterAgent({\n      name: \"gicm-hunter\",\n      sources,\n      deduplicationTTL: 24 * 60 * 60 * 1000, // 24 hours\n      onDiscovery: async (discoveries) => {\n        // Process discoveries as they come in\n        this.discoveries.push(...discoveries);\n        console.log(`[HUNTER] Received ${discoveries.length} new discoveries`);\n      },\n    });\n\n    console.log(`[HUNTER] Initialized with ${sources.length} sources`);\n  }\n\n  /**\n   * Build source configurations based on available API keys\n   */\n  private buildSourceConfigs(): HunterAgentConfig[\"sources\"] {\n    const configs: HunterAgentConfig[\"sources\"] = [];\n    const enabledSources = this.config.enabledSources ?? FREE_SOURCES;\n\n    for (const source of enabledSources) {\n      const sourceConfig: HunterAgentConfig[\"sources\"][0] = {\n        source,\n        enabled: true,\n      };\n\n      // Add API keys if available\n      switch (source) {\n        case \"github\":\n          if (this.config.apiKeys?.github || process.env.GITHUB_TOKEN) {\n            sourceConfig.apiKey = this.config.apiKeys?.github ?? process.env.GITHUB_TOKEN;\n            configs.push(sourceConfig);\n          }\n          break;\n\n        case \"twitter\":\n        case \"tiktok\":\n          if (this.config.apiKeys?.apify || process.env.APIFY_TOKEN) {\n            sourceConfig.apiToken = this.config.apiKeys?.apify ?? process.env.APIFY_TOKEN;\n            configs.push(sourceConfig);\n          }\n          break;\n\n        case \"fred\":\n          if (this.config.apiKeys?.fred || process.env.FRED_API_KEY) {\n            sourceConfig.apiKey = this.config.apiKeys?.fred ?? process.env.FRED_API_KEY;\n            configs.push(sourceConfig);\n          }\n          break;\n\n        case \"finnhub\":\n          if (this.config.apiKeys?.finnhub || process.env.FINNHUB_API_KEY) {\n            sourceConfig.apiKey = this.config.apiKeys?.finnhub ?? process.env.FINNHUB_API_KEY;\n            configs.push(sourceConfig);\n          }\n          break;\n\n        default:\n          // Free sources - always add\n          configs.push(sourceConfig);\n      }\n    }\n\n    return configs;\n  }\n\n  /**\n   * Create engine connection for the brain\n   */\n  createConnection(): HunterEngineConnection {\n    return {\n      runHunt: async (sources) => this.runHunt(sources),\n      getDiscoveries: () => this.discoveries,\n      processSignals: (d) => this.processSignals(d),\n      getActionableSignals: () => this.getActionableSignals(),\n      getStatus: () => this.getStatus(),\n      start: () => this.start(),\n      stop: () => this.stop(),\n    };\n  }\n\n  /**\n   * Run a hunt across all or specified sources\n   */\n  async runHunt(sources?: HuntSource[]): Promise<HuntDiscovery[]> {\n    if (!this.agent) {\n      throw new Error(\"Hunter not initialized. Call initialize() first.\");\n    }\n\n    console.log(`[HUNTER] Starting hunt... sources: ${sources?.join(\", \") ?? \"all\"}`);\n    const startTime = Date.now();\n\n    const newDiscoveries = await this.agent.huntNow(sources);\n    this.discoveries.push(...newDiscoveries);\n    this.lastHuntTime = new Date();\n\n    console.log(`[HUNTER] Hunt complete: ${newDiscoveries.length} discoveries in ${Date.now() - startTime}ms`);\n\n    return newDiscoveries;\n  }\n\n  /**\n   * Process discoveries into trading signals\n   */\n  processSignals(discoveries: HuntDiscovery[]): SignalBatch {\n    console.log(`[HUNTER] Processing ${discoveries.length} discoveries into signals...`);\n\n    this.lastSignalBatch = this.processor.processBatch(discoveries);\n\n    console.log(`[HUNTER] Generated ${this.lastSignalBatch.signals.length} signals`);\n    console.log(`[HUNTER] Actionable: ${this.processor.getActionableSignals(this.lastSignalBatch).length}`);\n\n    return this.lastSignalBatch;\n  }\n\n  /**\n   * Get actionable signals from last batch\n   */\n  getActionableSignals(): TradingSignal[] {\n    if (!this.lastSignalBatch) return [];\n    return this.processor.getActionableSignals(this.lastSignalBatch);\n  }\n\n  /**\n   * Send signals to trading API\n   */\n  async sendSignalsToTrading(signals: TradingSignal[]): Promise<void> {\n    const apiUrl = this.config.tradingApiUrl ?? \"http://localhost:4000\";\n\n    console.log(`[HUNTER] Sending ${signals.length} signals to trading API...`);\n\n    try {\n      const response = await fetch(`${apiUrl}/api/v1/signals`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ signals }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`Trading API error: ${response.status}`);\n      }\n\n      const result = await response.json();\n      console.log(`[HUNTER] Signals sent: ${result.processed ?? 0} processed`);\n    } catch (error) {\n      console.error(`[HUNTER] Failed to send signals: ${error}`);\n    }\n  }\n\n  /**\n   * Get current status\n   */\n  getStatus(): HunterStatus {\n    const actionable = this.lastSignalBatch\n      ? this.processor.getActionableSignals(this.lastSignalBatch).length\n      : 0;\n\n    return {\n      isRunning: !!this.agent,\n      enabledSources: this.buildSourceConfigs().map((s) => s.source),\n      lastHunt: this.lastHuntTime,\n      totalDiscoveries: this.discoveries.length,\n      totalSignals: this.lastSignalBatch?.signals.length ?? 0,\n      actionableSignals: actionable,\n    };\n  }\n\n  /**\n   * Start the hunter agent (scheduled hunting)\n   */\n  async start(): Promise<void> {\n    if (!this.agent) {\n      await this.initialize();\n    }\n    await this.agent!.start();\n    console.log(\"[HUNTER] Started scheduled hunting\");\n  }\n\n  /**\n   * Stop the hunter agent\n   */\n  async stop(): Promise<void> {\n    if (this.agent) {\n      await this.agent.stop();\n      console.log(\"[HUNTER] Stopped\");\n    }\n  }\n\n  /**\n   * Full hunt and signal cycle\n   */\n  async runFullCycle(sources?: HuntSource[]): Promise<{\n    discoveries: HuntDiscovery[];\n    signals: SignalBatch;\n    actionable: TradingSignal[];\n  }> {\n    // 1. Hunt for discoveries\n    const discoveries = await this.runHunt(sources);\n\n    // 2. Process into signals\n    const signals = this.processSignals(discoveries);\n\n    // 3. Get actionable signals\n    const actionable = this.getActionableSignals();\n\n    // 4. Optionally send to trading\n    if (this.config.autoSendSignals && actionable.length > 0) {\n      await this.sendSignalsToTrading(actionable);\n    }\n\n    return { discoveries, signals, actionable };\n  }\n}\n\n/**\n * Create hunter engine connection for the brain\n */\nexport function createHunterAdapter(config?: HunterAdapterConfig): HunterAdapter {\n  return new HunterAdapter(config);\n}\n","/**\n * Signal Processor\n *\n * Converts hunter discoveries into actionable trading signals.\n * Routes signals to the ai-hedge-fund for analysis and execution.\n */\n\nimport type { HuntDiscovery } from \"@gicm/hunter-agent\";\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport type SignalType =\n  | \"new_pool\"           // GeckoTerminal: New liquidity pool\n  | \"price_move\"         // Binance: Significant price change\n  | \"volume_spike\"       // Binance: Unusual volume\n  | \"tvl_change\"         // DeFiLlama: TVL movement\n  | \"yield_opportunity\"  // DeFiLlama: High yield\n  | \"sentiment_extreme\"  // Fear & Greed: Extreme reading\n  | \"insider_trade\"      // SEC/Finnhub: Insider buying/selling\n  | \"congress_trade\"     // Finnhub: Congressional trade\n  | \"tech_trend\"         // npm/GitHub: Technology adoption signal\n  | \"social_buzz\"        // Twitter/Reddit: Viral content\n  | \"research_alpha\";    // ArXiv/HackerNews: Research insight\n\nexport interface TradingSignal {\n  id: string;\n  type: SignalType;\n  source: string;\n  timestamp: Date;\n\n  // Asset info\n  token?: string;\n  chain?: string;\n  contractAddress?: string;\n\n  // Signal strength\n  action: \"buy\" | \"sell\" | \"hold\" | \"watch\";\n  confidence: number;      // 0-100\n  urgency: \"immediate\" | \"today\" | \"week\" | \"monitor\";\n\n  // Context\n  title: string;\n  description: string;\n  reasoning: string;\n\n  // Metrics\n  metrics: {\n    priceChange?: number;\n    volume?: number;\n    tvl?: number;\n    sentiment?: number;\n    engagement?: number;\n  };\n\n  // Risk assessment\n  risk: \"low\" | \"medium\" | \"high\" | \"extreme\";\n  riskFactors: string[];\n\n  // Original discovery\n  discoveryId: string;\n  sourceUrl: string;\n  tags: string[];\n}\n\nexport interface SignalBatch {\n  processedAt: Date;\n  totalDiscoveries: number;\n  signals: TradingSignal[];\n  byType: Record<SignalType, number>;\n  byAction: Record<string, number>;\n}\n\n// ============================================================================\n// SIGNAL PROCESSOR\n// ============================================================================\n\nexport class SignalProcessor {\n  private processedIds: Set<string> = new Set();\n\n  /**\n   * Process a batch of discoveries into trading signals\n   */\n  processBatch(discoveries: HuntDiscovery[]): SignalBatch {\n    const signals: TradingSignal[] = [];\n    const byType: Record<string, number> = {};\n    const byAction: Record<string, number> = {};\n\n    for (const discovery of discoveries) {\n      // Skip already processed\n      if (this.processedIds.has(discovery.fingerprint)) continue;\n      this.processedIds.add(discovery.fingerprint);\n\n      const signal = this.processDiscovery(discovery);\n      if (signal) {\n        signals.push(signal);\n        byType[signal.type] = (byType[signal.type] || 0) + 1;\n        byAction[signal.action] = (byAction[signal.action] || 0) + 1;\n      }\n    }\n\n    // Sort by confidence and urgency\n    signals.sort((a, b) => {\n      const urgencyOrder = { immediate: 0, today: 1, week: 2, monitor: 3 };\n      if (urgencyOrder[a.urgency] !== urgencyOrder[b.urgency]) {\n        return urgencyOrder[a.urgency] - urgencyOrder[b.urgency];\n      }\n      return b.confidence - a.confidence;\n    });\n\n    return {\n      processedAt: new Date(),\n      totalDiscoveries: discoveries.length,\n      signals,\n      byType: byType as Record<SignalType, number>,\n      byAction,\n    };\n  }\n\n  /**\n   * Process a single discovery into a trading signal\n   */\n  private processDiscovery(discovery: HuntDiscovery): TradingSignal | null {\n    const source = discovery.source as string;\n    const metadata = discovery.rawMetadata ?? {};\n\n    switch (source) {\n      case \"geckoterminal\":\n        return this.processGeckoTerminal(discovery, metadata);\n      case \"binance\":\n        return this.processBinance(discovery, metadata);\n      case \"defillama\":\n        return this.processDeFiLlama(discovery, metadata);\n      case \"feargreed\":\n        return this.processFearGreed(discovery, metadata);\n      case \"sec\":\n        return this.processSEC(discovery, metadata);\n      case \"finnhub\":\n        return this.processFinnhub(discovery, metadata);\n      case \"npm\":\n        return this.processNPM(discovery, metadata);\n      case \"github\":\n      case \"hackernews\":\n      case \"twitter\":\n      case \"reddit\":\n        return this.processSocial(discovery, metadata);\n      default:\n        return null;\n    }\n  }\n\n  // ============================================================================\n  // SOURCE-SPECIFIC PROCESSORS\n  // ============================================================================\n\n  private processGeckoTerminal(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const pool = meta as {\n      baseToken?: string;\n      quoteToken?: string;\n      network?: string;\n      priceChangePercent?: number;\n      liquidity?: number;\n      volume24h?: number;\n      poolAddress?: string;\n    };\n\n    const priceChange = pool.priceChangePercent ?? 0;\n    const liquidity = pool.liquidity ?? 0;\n    const isNewPool = d.title.includes(\"[NEW]\");\n\n    // Determine action based on metrics\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 30;\n    let urgency: TradingSignal[\"urgency\"] = \"week\";\n    const riskFactors: string[] = [];\n\n    if (isNewPool && liquidity > 50000) {\n      action = \"watch\";\n      confidence = 50;\n      urgency = \"today\";\n      riskFactors.push(\"New pool - higher risk\");\n    }\n\n    if (priceChange > 50 && liquidity > 100000) {\n      confidence = 60;\n      urgency = \"today\";\n      riskFactors.push(\"High volatility\");\n    }\n\n    if (liquidity < 10000) {\n      riskFactors.push(\"Low liquidity - high slippage risk\");\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: isNewPool ? \"new_pool\" : \"price_move\",\n      source: \"geckoterminal\",\n      timestamp: new Date(),\n      token: pool.baseToken,\n      chain: pool.network ?? \"solana\",\n      contractAddress: pool.poolAddress,\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: isNewPool\n        ? `New pool detected with $${(liquidity / 1000).toFixed(1)}K liquidity`\n        : `Price moved ${priceChange > 0 ? \"+\" : \"\"}${priceChange.toFixed(1)}%`,\n      metrics: {\n        priceChange,\n        volume: pool.volume24h,\n        tvl: liquidity,\n      },\n      risk: liquidity < 10000 ? \"extreme\" : liquidity < 50000 ? \"high\" : \"medium\",\n      riskFactors,\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processBinance(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const ticker = meta as {\n      symbol?: string;\n      type?: string;\n      priceChangePercent?: string;\n      quoteVolume?: string;\n    };\n\n    const priceChange = parseFloat(ticker.priceChangePercent ?? \"0\");\n    const volume = parseFloat(ticker.quoteVolume ?? \"0\");\n    const isVolumeAnomaly = ticker.type === \"volume_anomaly\";\n\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 40;\n    let urgency: TradingSignal[\"urgency\"] = \"today\";\n\n    // Strong price moves with volume confirmation\n    if (Math.abs(priceChange) > 10 && volume > 100000000) {\n      action = priceChange > 0 ? \"watch\" : \"watch\"; // Don't auto-buy/sell on CEX data\n      confidence = 65;\n      urgency = \"today\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: isVolumeAnomaly ? \"volume_spike\" : \"price_move\",\n      source: \"binance\",\n      timestamp: new Date(),\n      token: ticker.symbol?.replace(\"USDT\", \"\"),\n      chain: \"multi\", // CEX token, multiple chains\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: isVolumeAnomaly\n        ? `Unusual volume: $${(volume / 1e6).toFixed(1)}M in 24h`\n        : `CEX price moved ${priceChange > 0 ? \"+\" : \"\"}${priceChange.toFixed(1)}%`,\n      metrics: {\n        priceChange,\n        volume,\n      },\n      risk: Math.abs(priceChange) > 20 ? \"high\" : \"medium\",\n      riskFactors: Math.abs(priceChange) > 20 ? [\"High volatility\"] : [],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processDeFiLlama(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const protocol = meta as {\n      tvl?: number;\n      tvlChange24h?: number;\n      category?: string;\n      apy?: number;\n      chain?: string;\n    };\n\n    const tvlChange = protocol.tvlChange24h ?? 0;\n    const tvl = protocol.tvl ?? 0;\n    const apy = protocol.apy ?? 0;\n    const isYield = d.title.includes(\"[YIELD]\");\n\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 35;\n    let urgency: TradingSignal[\"urgency\"] = \"week\";\n    const riskFactors: string[] = [];\n\n    // High yield opportunity\n    if (isYield && apy > 20 && tvl > 1000000) {\n      action = \"watch\";\n      confidence = 55;\n      urgency = \"today\";\n      if (apy > 100) riskFactors.push(\"Very high APY - potential risk\");\n    }\n\n    // TVL growth signals confidence\n    if (tvlChange > 10 && tvl > 10000000) {\n      confidence = 60;\n      urgency = \"today\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: isYield ? \"yield_opportunity\" : \"tvl_change\",\n      source: \"defillama\",\n      timestamp: new Date(),\n      chain: protocol.chain ?? \"multi\",\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: isYield\n        ? `${apy.toFixed(1)}% APY on $${(tvl / 1e6).toFixed(1)}M TVL`\n        : `TVL changed ${tvlChange > 0 ? \"+\" : \"\"}${tvlChange.toFixed(1)}%`,\n      metrics: {\n        tvl,\n        priceChange: tvlChange,\n      },\n      risk: apy > 100 ? \"high\" : tvl < 1000000 ? \"high\" : \"medium\",\n      riskFactors,\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processFearGreed(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const fg = meta as {\n      value?: number;\n      classification?: string;\n      signal?: string;\n    };\n\n    const value = fg.value ?? 50;\n    const isExtremeFear = value < 25;\n    const isExtremeGreed = value > 75;\n\n    // Contrarian signals\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 45;\n    let urgency: TradingSignal[\"urgency\"] = \"week\";\n\n    if (isExtremeFear) {\n      action = \"watch\"; // Potential accumulation zone\n      confidence = 70;\n      urgency = \"today\";\n    } else if (isExtremeGreed) {\n      action = \"watch\"; // Potential distribution zone\n      confidence = 65;\n      urgency = \"today\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: \"sentiment_extreme\",\n      source: \"feargreed\",\n      timestamp: new Date(),\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: isExtremeFear\n        ? `Extreme Fear (${value}) - contrarian buy signal`\n        : isExtremeGreed\n        ? `Extreme Greed (${value}) - contrarian sell signal`\n        : `Neutral sentiment (${value})`,\n      metrics: {\n        sentiment: value,\n      },\n      risk: \"low\", // Sentiment is supplementary info\n      riskFactors: [],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processSEC(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const filing = meta as {\n      form?: string;\n      company?: string;\n      symbol?: string;\n    };\n\n    const isInsider = filing.form === \"4\";\n    const isInstitutional = filing.form === \"13F-HR\";\n    const isBuy = d.title.includes(\"BOUGHT\") || d.title.includes(\"\");\n\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 50;\n    let urgency: TradingSignal[\"urgency\"] = \"today\";\n\n    if (isInsider && isBuy) {\n      confidence = 65;\n      urgency = \"today\";\n    }\n\n    if (isInstitutional) {\n      confidence = 60;\n      urgency = \"week\"; // 13-F is delayed data\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: \"insider_trade\",\n      source: \"sec\",\n      timestamp: new Date(),\n      token: filing.symbol,\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: isInsider\n        ? `Insider ${isBuy ? \"buying\" : \"selling\"} detected`\n        : `Institutional filing: ${filing.form}`,\n      metrics: {},\n      risk: \"low\", // Public filings are reliable data\n      riskFactors: isInstitutional ? [\"13-F data is 45 days delayed\"] : [],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processFinnhub(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const trade = meta as {\n      type?: string;\n      symbol?: string;\n      chamber?: string;\n    };\n\n    const isCongress = trade.type === \"congress\";\n    const isBuy = d.title.includes(\"BOUGHT\") || d.title.includes(\"\");\n\n    // Congressional trades are THE ALPHA\n    let action: TradingSignal[\"action\"] = \"watch\";\n    let confidence = 75; // High confidence for congress trades\n    let urgency: TradingSignal[\"urgency\"] = \"today\";\n\n    if (isCongress && isBuy) {\n      confidence = 80;\n      urgency = \"today\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: \"congress_trade\",\n      source: \"finnhub\",\n      timestamp: new Date(),\n      token: trade.symbol,\n      action,\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: `${trade.chamber ?? \"Congress\"} member ${isBuy ? \"bought\" : \"sold\"} ${trade.symbol}`,\n      metrics: {},\n      risk: \"low\", // Public data, historically alpha-generating\n      riskFactors: [\"Congress trades filed with delay\"],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processNPM(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const pkg = meta as {\n      category?: string;\n      trend?: number;\n      downloads?: number;\n    };\n\n    const trend = pkg.trend ?? 0;\n    const isAI = pkg.category === \"ai\";\n    const isCrypto = pkg.category === \"crypto\";\n\n    // Tech trends can signal broader market movements\n    let confidence = 30;\n    let urgency: TradingSignal[\"urgency\"] = \"week\";\n\n    if ((isAI || isCrypto) && trend > 20) {\n      confidence = 45;\n      urgency = \"week\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: \"tech_trend\",\n      source: \"npm\",\n      timestamp: new Date(),\n      action: \"watch\",\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: `${pkg.category} package trending ${trend > 0 ? \"+\" : \"\"}${trend.toFixed(1)}%`,\n      metrics: {\n        priceChange: trend,\n      },\n      risk: \"low\",\n      riskFactors: [],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  private processSocial(\n    d: HuntDiscovery,\n    meta: Record<string, unknown>\n  ): TradingSignal {\n    const engagement = (d.metrics.likes ?? 0) + (d.metrics.comments ?? 0) + (d.metrics.reposts ?? 0);\n    const isHighEngagement = engagement > 1000;\n\n    // Social signals are noisy but can indicate momentum\n    let confidence = 25;\n    let urgency: TradingSignal[\"urgency\"] = \"week\";\n\n    if (isHighEngagement && d.relevanceFactors.hasWeb3Keywords) {\n      confidence = 40;\n      urgency = \"today\";\n    }\n\n    return {\n      id: `signal-${d.fingerprint}`,\n      type: \"social_buzz\",\n      source: d.source as string,\n      timestamp: new Date(),\n      action: \"watch\",\n      confidence,\n      urgency,\n      title: d.title,\n      description: d.description ?? \"\",\n      reasoning: `High engagement: ${engagement} interactions`,\n      metrics: {\n        engagement,\n      },\n      risk: \"medium\",\n      riskFactors: [\"Social signals are noisy\"],\n      discoveryId: d.id,\n      sourceUrl: d.sourceUrl,\n      tags: d.tags,\n    };\n  }\n\n  // ============================================================================\n  // UTILITIES\n  // ============================================================================\n\n  /**\n   * Get high-priority signals that should be acted on\n   */\n  getActionableSignals(batch: SignalBatch): TradingSignal[] {\n    return batch.signals.filter(\n      (s) => s.confidence >= 60 && (s.urgency === \"immediate\" || s.urgency === \"today\")\n    );\n  }\n\n  /**\n   * Get signals by type\n   */\n  getSignalsByType(batch: SignalBatch, type: SignalType): TradingSignal[] {\n    return batch.signals.filter((s) => s.type === type);\n  }\n\n  /**\n   * Clear processed cache (for testing)\n   */\n  clearCache(): void {\n    this.processedIds.clear();\n  }\n}\n\n// Export singleton\nexport const signalProcessor = new SignalProcessor();\n","/**\n * Autonomy Adapter\n *\n * Integrates the gICM Autonomy System with the Brain.\n * Routes all engine actions through bounded decision-making.\n */\n\nimport {\n  AutonomySystem,\n  type AutonomyConfig,\n  type Action,\n  type Boundaries,\n  type DecisionRoute,\n  type EngineType,\n} from \"@gicm/autonomy\";\n\nexport interface AutonomyAdapterConfig extends AutonomyConfig {\n  onAutoExecuted?: (action: Action) => void;\n  onQueued?: (action: Action) => void;\n  onEscalated?: (action: Action) => void;\n  onApproved?: (action: Action) => void;\n  onRejected?: (action: Action) => void;\n  onExecuted?: (action: Action) => void;\n  onFailed?: (action: Action, error: Error) => void;\n}\n\nexport interface AutonomyAdapter {\n  /**\n   * Process an action through the autonomy system\n   */\n  processAction(params: {\n    engine: EngineType;\n    type: string;\n    description?: string;\n    params?: Record<string, unknown>;\n    estimatedCost?: number;\n  }): Promise<{ route: DecisionRoute; actionId: string }>;\n\n  /**\n   * Approve a queued action\n   */\n  approve(actionId: string, feedback?: string): Promise<boolean>;\n\n  /**\n   * Reject a queued action\n   */\n  reject(actionId: string, feedback?: string): boolean;\n\n  /**\n   * Get pending approvals\n   */\n  getPendingApprovals(): Array<{\n    actionId: string;\n    type: string;\n    engine: EngineType;\n    risk: { level: string; score: number };\n    urgency: string;\n    recommendation: string;\n  }>;\n\n  /**\n   * Get current boundaries\n   */\n  getBoundaries(): Boundaries;\n\n  /**\n   * Update boundaries dynamically\n   */\n  updateBoundaries(newBoundaries: Partial<Boundaries>): void;\n\n  /**\n   * Get autonomy stats\n   */\n  getStats(): {\n    queue: { pending: number; approved: number; rejected: number };\n    audit: { total: number; successRate: number; totalCost: number };\n    today: { autoExecuted: number; queued: number; escalated: number };\n  };\n\n  /**\n   * Send daily summary notification\n   */\n  sendDailySummary(): Promise<void>;\n\n  /**\n   * Shutdown the autonomy system\n   */\n  shutdown(): void;\n}\n\n/**\n * Create an autonomy adapter\n */\nexport function createAutonomyAdapter(config: AutonomyAdapterConfig = {}): AutonomyAdapter {\n  const system = new AutonomySystem({\n    boundaries: config.boundaries,\n    notifications: config.notifications,\n    enableBatching: config.enableBatching,\n  });\n\n  // Wire up event handlers\n  if (config.onAutoExecuted) {\n    system.on(\"action:auto_executed\", config.onAutoExecuted);\n  }\n  if (config.onQueued) {\n    system.on(\"action:queued\", config.onQueued);\n  }\n  if (config.onEscalated) {\n    system.on(\"action:escalated\", config.onEscalated);\n  }\n  if (config.onApproved) {\n    system.on(\"action:approved\", config.onApproved);\n  }\n  if (config.onRejected) {\n    system.on(\"action:rejected\", config.onRejected);\n  }\n  if (config.onExecuted) {\n    system.on(\"action:executed\", config.onExecuted);\n  }\n  if (config.onFailed) {\n    system.on(\"action:failed\", config.onFailed);\n  }\n\n  return {\n    async processAction(params) {\n      const result = await system.processAction({\n        engine: params.engine,\n        type: params.type,\n        description: params.description,\n        params: params.params,\n        risk: params.estimatedCost\n          ? {\n              level: \"safe\",\n              score: 0,\n              factors: [],\n              estimatedCost: params.estimatedCost,\n              maxPotentialLoss: params.estimatedCost,\n              reversible: true,\n            }\n          : undefined,\n      });\n\n      return {\n        route: result.route,\n        actionId: result.action.id,\n      };\n    },\n\n    async approve(actionId, feedback) {\n      return system.approveAction(actionId, feedback);\n    },\n\n    reject(actionId, feedback) {\n      return system.rejectAction(actionId, feedback);\n    },\n\n    getPendingApprovals() {\n      return system.getPendingApprovals().map((item) => ({\n        actionId: item.action.id,\n        type: item.action.type,\n        engine: item.action.engine,\n        risk: {\n          level: item.action.risk.level,\n          score: item.action.risk.score,\n        },\n        urgency: item.urgency,\n        recommendation: item.recommendation,\n      }));\n    },\n\n    getBoundaries() {\n      return system.getBoundaries();\n    },\n\n    updateBoundaries(newBoundaries) {\n      system.updateBoundaries(newBoundaries);\n    },\n\n    getStats() {\n      const queueStats = system.getQueueStats();\n      const auditSummary = system.getAuditSummary();\n      const dailySummary = system.getDailySummary();\n\n      return {\n        queue: {\n          pending: queueStats.pending,\n          approved: queueStats.approved,\n          rejected: queueStats.rejected,\n        },\n        audit: {\n          total: auditSummary.total,\n          successRate: auditSummary.successRate,\n          totalCost: auditSummary.totalCost,\n        },\n        today: {\n          autoExecuted: dailySummary.autoExecuted,\n          queued: dailySummary.queued,\n          escalated: dailySummary.escalated,\n        },\n      };\n    },\n\n    async sendDailySummary() {\n      await system.sendDailySummary();\n    },\n\n    shutdown() {\n      system.shutdown();\n    },\n  };\n}\n"],"mappings":"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","names":[]}