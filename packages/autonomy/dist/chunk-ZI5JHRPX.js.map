{"version":3,"sources":["../src/integration/engine-adapter.ts","../src/integration/money-adapter.ts","../src/integration/growth-adapter.ts","../src/integration/product-adapter.ts","../src/integration/workflow-adapter.ts","../src/integration/workflow-types.ts","../src/integration/workflow-constants.ts"],"sourcesContent":["/**\n * Base Engine Adapter for Level 2 Autonomy\n *\n * Abstract base class for integrating engines with autonomy system.\n * Engines can optionally use autonomy by importing and creating an adapter.\n */\n\nimport { EventEmitter } from \"eventemitter3\";\nimport type {\n  Action,\n  Decision,\n  ActionCategory,\n  EngineType,\n  Urgency,\n  ExecutionResult,\n} from \"../core/types.js\";\nimport { Logger } from \"../utils/logger.js\";\n\nexport interface EngineAdapterConfig {\n  engineName: string;\n  engineType: EngineType;\n  defaultCategory: ActionCategory;\n}\n\nexport interface EngineAdapterEvents {\n  \"action:submitted\": (action: Action) => void;\n  \"decision:received\": (decision: Decision) => void;\n  \"execution:completed\": (result: ExecutionResult) => void;\n}\n\n/**\n * Base adapter that engines can extend or use directly\n */\nexport abstract class EngineAdapter extends EventEmitter<EngineAdapterEvents> {\n  protected logger: Logger;\n  protected config: EngineAdapterConfig;\n  protected actionCount = 0;\n\n  constructor(config: EngineAdapterConfig) {\n    super();\n    this.config = config;\n    this.logger = new Logger(`Adapter:${config.engineName}`);\n  }\n\n  /**\n   * Create an action from engine-specific data\n   */\n  createAction(params: {\n    type: string;\n    description: string;\n    payload: Record<string, unknown>;\n    estimatedValue?: number;\n    reversible?: boolean;\n    urgency?: Urgency;\n    linesChanged?: number;\n    filesChanged?: number;\n  }): Action {\n    this.actionCount++;\n\n    const action: Action = {\n      id: `${this.config.engineType}_${Date.now()}_${this.actionCount}`,\n      engine: this.config.engineType,\n      category: this.getCategoryForType(params.type),\n      type: params.type,\n      description: params.description,\n      params: params.payload,\n      metadata: {\n        estimatedValue: params.estimatedValue,\n        reversible: params.reversible ?? true,\n        urgency: params.urgency ?? \"normal\",\n        linesChanged: params.linesChanged,\n        filesChanged: params.filesChanged,\n      },\n      timestamp: Date.now(),\n    };\n\n    this.emit(\"action:submitted\", action);\n    return action;\n  }\n\n  /**\n   * Map action type to category (override in subclasses)\n   */\n  protected getCategoryForType(actionType: string): ActionCategory {\n    return this.config.defaultCategory;\n  }\n\n  /**\n   * Get engine name\n   */\n  getEngineName(): string {\n    return this.config.engineName;\n  }\n\n  /**\n   * Get engine type\n   */\n  getEngineType(): EngineType {\n    return this.config.engineType;\n  }\n\n  /**\n   * Get action count\n   */\n  getActionCount(): number {\n    return this.actionCount;\n  }\n}\n","/**\n * Money Engine Adapter\n *\n * Integrates MoneyEngine with autonomy system for:\n * - DCA trades\n * - Token swaps\n * - Expense payments\n */\n\nimport { EngineAdapter, type EngineAdapterConfig } from \"./engine-adapter.js\";\nimport type { Action, ActionCategory } from \"../core/types.js\";\n\nexport interface DCATradeParams {\n  token: string;\n  amount: number;\n  botType?: string;\n}\n\nexport interface SwapParams {\n  fromToken: string;\n  toToken: string;\n  amount: number;\n}\n\nexport interface ExpenseParams {\n  category: string;\n  description: string;\n  amount: number;\n  recurring?: boolean;\n}\n\nexport class MoneyEngineAdapter extends EngineAdapter {\n  constructor() {\n    super({\n      engineName: \"money-engine\",\n      engineType: \"money\",\n      defaultCategory: \"trading\",\n    });\n  }\n\n  /**\n   * Create DCA trade action\n   */\n  createDCAAction(params: DCATradeParams): Action {\n    return this.createAction({\n      type: \"dca_buy\",\n      description: `DCA buy $${params.amount} of ${params.token}`,\n      payload: {\n        token: params.token,\n        amount: params.amount,\n        botType: params.botType ?? \"dca\",\n      },\n      estimatedValue: params.amount,\n      reversible: false, // Trades are not reversible\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create token swap action\n   */\n  createSwapAction(params: SwapParams): Action {\n    return this.createAction({\n      type: \"token_swap\",\n      description: `Swap ${params.amount} ${params.fromToken} to ${params.toToken}`,\n      payload: {\n        fromToken: params.fromToken,\n        toToken: params.toToken,\n        amount: params.amount,\n      },\n      estimatedValue: params.amount,\n      reversible: false,\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create expense payment action\n   */\n  createExpenseAction(params: ExpenseParams): Action {\n    return this.createAction({\n      type: params.recurring ? \"recurring_expense\" : \"one_time_expense\",\n      description: `Pay expense: ${params.description} ($${params.amount})`,\n      payload: {\n        category: params.category,\n        description: params.description,\n        amount: params.amount,\n        recurring: params.recurring,\n      },\n      estimatedValue: params.amount,\n      reversible: false,\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create rebalance action\n   */\n  createRebalanceAction(targetAllocations: Record<string, number>): Action {\n    const totalPercent = Object.values(targetAllocations).reduce((a, b) => a + b, 0);\n    return this.createAction({\n      type: \"treasury_rebalance\",\n      description: `Rebalance treasury allocations`,\n      payload: { targetAllocations },\n      reversible: true,\n      urgency: \"low\",\n    });\n  }\n\n  protected getCategoryForType(actionType: string): ActionCategory {\n    if (actionType.includes(\"expense\")) return \"configuration\";\n    if (actionType.includes(\"rebalance\")) return \"configuration\";\n    return \"trading\";\n  }\n}\n","/**\n * Growth Engine Adapter\n *\n * Integrates GrowthEngine with autonomy system for:\n * - Tweet generation/posting\n * - Blog generation/publishing\n * - Discord announcements\n */\n\nimport { EngineAdapter, type EngineAdapterConfig } from \"./engine-adapter.js\";\nimport type { Action, ActionCategory } from \"../core/types.js\";\n\nexport interface TweetParams {\n  content: string;\n  threadId?: string;\n  scheduledFor?: number;\n}\n\nexport interface BlogParams {\n  title: string;\n  topic: string;\n  keywords?: string[];\n  draft?: boolean;\n}\n\nexport interface DiscordAnnouncementParams {\n  channel: string;\n  message: string;\n  embed?: {\n    title: string;\n    description: string;\n    color?: number;\n  };\n}\n\nexport class GrowthEngineAdapter extends EngineAdapter {\n  constructor() {\n    super({\n      engineName: \"growth-engine\",\n      engineType: \"growth\",\n      defaultCategory: \"content\",\n    });\n  }\n\n  /**\n   * Create tweet action\n   */\n  createTweetAction(params: TweetParams): Action {\n    return this.createAction({\n      type: params.threadId ? \"tweet_reply\" : \"tweet_post\",\n      description: `Post tweet: \"${params.content.substring(0, 50)}...\"`,\n      payload: {\n        content: params.content,\n        threadId: params.threadId,\n        scheduledFor: params.scheduledFor,\n      },\n      reversible: false, // Published tweets can't be auto-deleted\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create blog draft action\n   */\n  createBlogDraftAction(params: BlogParams): Action {\n    return this.createAction({\n      type: \"blog_draft\",\n      description: `Generate blog draft: ${params.title}`,\n      payload: {\n        title: params.title,\n        topic: params.topic,\n        keywords: params.keywords,\n      },\n      reversible: true, // Drafts can be deleted\n      urgency: \"low\",\n    });\n  }\n\n  /**\n   * Create blog publish action\n   */\n  createBlogPublishAction(params: BlogParams): Action {\n    return this.createAction({\n      type: \"blog_publish\",\n      description: `Publish blog: ${params.title}`,\n      payload: {\n        title: params.title,\n        topic: params.topic,\n        keywords: params.keywords,\n      },\n      reversible: false, // Published blogs are public\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create Discord announcement action\n   */\n  createDiscordAction(params: DiscordAnnouncementParams): Action {\n    return this.createAction({\n      type: \"discord_announce\",\n      description: `Discord announcement to ${params.channel}`,\n      payload: {\n        channel: params.channel,\n        message: params.message,\n        embed: params.embed,\n      },\n      reversible: false,\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create thread of tweets action\n   */\n  createTwitterThreadAction(tweets: string[]): Action {\n    return this.createAction({\n      type: \"twitter_thread\",\n      description: `Post Twitter thread (${tweets.length} tweets)`,\n      payload: {\n        tweets,\n        count: tweets.length,\n      },\n      reversible: false,\n      urgency: \"normal\",\n    });\n  }\n\n  protected getCategoryForType(actionType: string): ActionCategory {\n    return \"content\";\n  }\n}\n","/**\n * Product Engine Adapter\n *\n * Integrates ProductEngine with autonomy system for:\n * - Agent building\n * - Code commits\n * - Deployments\n */\n\nimport { EngineAdapter, type EngineAdapterConfig } from \"./engine-adapter.js\";\nimport type { Action, ActionCategory } from \"../core/types.js\";\n\nexport interface BuildParams {\n  opportunityId: string;\n  name: string;\n  type: \"agent\" | \"component\" | \"service\";\n  templateType?: string;\n}\n\nexport interface CommitParams {\n  message: string;\n  files: string[];\n  linesAdded: number;\n  linesRemoved: number;\n}\n\nexport interface DeployParams {\n  target: \"staging\" | \"production\";\n  package: string;\n  version: string;\n}\n\nexport class ProductEngineAdapter extends EngineAdapter {\n  constructor() {\n    super({\n      engineName: \"product-engine\",\n      engineType: \"product\",\n      defaultCategory: \"build\",\n    });\n  }\n\n  /**\n   * Create agent build action\n   */\n  createBuildAction(params: BuildParams): Action {\n    return this.createAction({\n      type: `build_${params.type}`,\n      description: `Build ${params.type}: ${params.name}`,\n      payload: {\n        opportunityId: params.opportunityId,\n        name: params.name,\n        type: params.type,\n        templateType: params.templateType,\n      },\n      reversible: true, // Builds can be reverted\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create code commit action\n   */\n  createCommitAction(params: CommitParams): Action {\n    const totalLines = params.linesAdded + params.linesRemoved;\n    return this.createAction({\n      type: \"code_commit\",\n      description: `Commit: ${params.message}`,\n      payload: {\n        message: params.message,\n        files: params.files,\n        linesAdded: params.linesAdded,\n        linesRemoved: params.linesRemoved,\n        paths: params.files,\n      },\n      linesChanged: totalLines,\n      filesChanged: params.files.length,\n      reversible: true, // Commits can be reverted\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create staging deployment action\n   */\n  createStagingDeployAction(params: Omit<DeployParams, \"target\">): Action {\n    return this.createAction({\n      type: \"deploy_staging\",\n      description: `Deploy ${params.package}@${params.version} to staging`,\n      payload: {\n        target: \"staging\",\n        package: params.package,\n        version: params.version,\n      },\n      reversible: true, // Can rollback staging\n      urgency: \"normal\",\n    });\n  }\n\n  /**\n   * Create production deployment action\n   */\n  createProductionDeployAction(params: Omit<DeployParams, \"target\">): Action {\n    return this.createAction({\n      type: \"deploy_production\",\n      description: `Deploy ${params.package}@${params.version} to PRODUCTION`,\n      payload: {\n        target: \"production\",\n        package: params.package,\n        version: params.version,\n      },\n      reversible: true, // Can rollback, but risky\n      urgency: \"high\",\n    });\n  }\n\n  /**\n   * Create quality gate action\n   */\n  createQualityGateAction(params: {\n    package: string;\n    testScore: number;\n    reviewScore: number;\n  }): Action {\n    return this.createAction({\n      type: \"quality_gate\",\n      description: `Quality gate check for ${params.package}`,\n      payload: {\n        package: params.package,\n        testScore: params.testScore,\n        reviewScore: params.reviewScore,\n        passed: params.testScore >= 80 && params.reviewScore >= 70,\n      },\n      reversible: true,\n      urgency: \"low\",\n    });\n  }\n\n  protected getCategoryForType(actionType: string): ActionCategory {\n    if (actionType.includes(\"deploy\")) return \"deployment\";\n    if (actionType.includes(\"commit\")) return \"build\";\n    return \"build\";\n  }\n}\n","/**\n * ClaudeWorkflowAdapter - Deep Autonomy Integration\n *\n * Routes Claude Code actions through the autonomy system for:\n * - Auto-execution of safe improvements\n * - Queuing risky changes for approval\n * - Tracking daily improvements and wins\n */\n\nimport { EventEmitter } from \"eventemitter3\";\nimport type { Action, ActionCategory } from \"../core/types.js\";\nimport {\n  ClaudeCodeActionType,\n  ClaudeCodeContextSchema,\n  DailyImprovementSchema,\n  type ClaudeCodeContext,\n  type DailyImprovement,\n  type ImprovementStats,\n  type WorkflowAdapterEvents,\n  type WorkflowContext,\n} from \"./workflow-types.js\";\nimport {\n  CLAUDE_ACTION_BASE_RISK,\n  CONTEXT_RISK_MODIFIERS,\n  SAFE_CLAUDE_ACTIONS,\n  DANGEROUS_CLAUDE_ACTIONS,\n  DEFAULT_WORKFLOW_BOUNDARIES,\n  IMPROVEMENT_VALUE,\n  RISK_THRESHOLDS,\n} from \"./workflow-constants.js\";\n\n// Simple ID generator\nfunction generateId(): string {\n  return `wf_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n}\n\nexport class ClaudeWorkflowAdapter {\n  private dailyImprovements: DailyImprovement[] = [];\n  private dailyCounters: Record<string, number> = {};\n  private lastResetDate: string = \"\";\n  private emitter = new EventEmitter<WorkflowAdapterEvents>();\n  private boundaries = { ...DEFAULT_WORKFLOW_BOUNDARIES };\n  private actionCount = 0;\n\n  constructor() {\n    this.resetDailyCounters();\n  }\n\n  // ============================================================================\n  // Adapter Info\n  // ============================================================================\n\n  getEngineName(): string {\n    return \"ClaudeWorkflow\";\n  }\n\n  getEngineType(): string {\n    return \"workflow\";\n  }\n\n  getCategoryForType(actionType: string): ActionCategory {\n    if (actionType.includes(\"deploy\")) return \"deployment\";\n    if (actionType.includes(\"config\")) return \"configuration\";\n    if (actionType.includes(\"test\") || actionType.includes(\"lint\"))\n      return \"content\";\n    return \"build\";\n  }\n\n  // ============================================================================\n  // Action Creator\n  // ============================================================================\n\n  private createAction(params: {\n    type: string;\n    description: string;\n    value?: number;\n    reversible?: boolean;\n    externallyVisible?: boolean;\n    metadata?: Record<string, unknown>;\n  }): Action {\n    this.actionCount++;\n\n    const action: Action = {\n      id: generateId(),\n      engine: \"product\", // Use product engine type for workflow actions\n      category: this.getCategoryForType(params.type),\n      type: params.type,\n      description: params.description,\n      params: params.metadata || {},\n      metadata: {\n        estimatedValue: params.value,\n        reversible: params.reversible ?? true,\n        urgency: \"normal\",\n      },\n      timestamp: Date.now(),\n    };\n\n    return action;\n  }\n\n  // ============================================================================\n  // Claude Code Action Creators\n  // ============================================================================\n\n  createEditAction(params: {\n    actionType: string;\n    title: string;\n    description?: string;\n    context: Partial<ClaudeCodeContext>;\n  }): Action {\n    const context = ClaudeCodeContextSchema.parse({\n      filePath: params.context.filePath || \"\",\n      ...params.context,\n    });\n    const riskScore = this.calculateClaudeRisk(params.actionType, context);\n\n    return this.createAction({\n      type: params.actionType,\n      description: params.title,\n      value: this.getImprovementValue(params.actionType),\n      reversible: this.isReversibleAction(params.actionType),\n      metadata: {\n        ...params,\n        context,\n        riskScore,\n        isSafe: this.isSafeAction(params.actionType, context, riskScore),\n      },\n    });\n  }\n\n  createAddTestAction(params: {\n    testFile: string;\n    targetFile: string;\n    testCount?: number;\n  }): Action {\n    return this.createEditAction({\n      actionType: ClaudeCodeActionType.ADD_TEST,\n      title: `Add ${params.testCount || 1} tests for ${params.targetFile}`,\n      context: {\n        filePath: params.testFile,\n        isTest: true,\n        linesAdded: (params.testCount || 1) * 20,\n      },\n    });\n  }\n\n  createFixLintAction(params: {\n    filePath: string;\n    issueCount?: number;\n  }): Action {\n    return this.createEditAction({\n      actionType: ClaudeCodeActionType.FIX_LINT,\n      title: `Fix ${params.issueCount || 1} lint issues in ${params.filePath}`,\n      context: {\n        filePath: params.filePath,\n        linesAdded: params.issueCount || 1,\n        linesRemoved: params.issueCount || 1,\n      },\n    });\n  }\n\n  createUpdateDocsAction(params: {\n    filePath: string;\n    description?: string;\n  }): Action {\n    return this.createEditAction({\n      actionType: ClaudeCodeActionType.UPDATE_DOCS,\n      title: `Update docs: ${params.description || params.filePath}`,\n      context: {\n        filePath: params.filePath,\n      },\n    });\n  }\n\n  createModifyFunctionAction(params: {\n    filePath: string;\n    functionName: string;\n    linesChanged: number;\n    context?: Partial<ClaudeCodeContext>;\n  }): Action {\n    return this.createEditAction({\n      actionType: ClaudeCodeActionType.MODIFY_FUNCTION,\n      title: `Modify function ${params.functionName}`,\n      context: {\n        ...params.context,\n        filePath: params.filePath,\n        linesAdded: params.linesChanged,\n      },\n    });\n  }\n\n  createDeployAction(params: {\n    environment: \"staging\" | \"production\";\n    service?: string;\n  }): Action {\n    const actionType =\n      params.environment === \"production\"\n        ? ClaudeCodeActionType.PRODUCTION_DEPLOY\n        : ClaudeCodeActionType.MODIFY_CONFIG;\n\n    return this.createEditAction({\n      actionType,\n      title: `Deploy to ${params.environment}${params.service ? `: ${params.service}` : \"\"}`,\n      context: {\n        filePath: \"deployment\",\n        affectsProduction: params.environment === \"production\",\n      },\n    });\n  }\n\n  // ============================================================================\n  // Workflow Action Creators\n  // ============================================================================\n\n  createWorkflowRunAction(params: WorkflowContext): Action {\n    const aggregateRisk = params.steps\n      ? Math.max(...params.steps.map((s) => s.riskScore))\n      : params.aggregateRiskScore;\n\n    return this.createAction({\n      type: \"workflow_run\",\n      description: `Run workflow: ${params.workflowName}`,\n      value: 10,\n      reversible: true,\n      metadata: {\n        ...params,\n        aggregateRiskScore: aggregateRisk,\n      },\n    });\n  }\n\n  // ============================================================================\n  // Risk Calculation\n  // ============================================================================\n\n  calculateClaudeRisk(actionType: string, context: ClaudeCodeContext): number {\n    let risk = CLAUDE_ACTION_BASE_RISK[actionType] || 50;\n\n    if (context.isCore) risk += CONTEXT_RISK_MODIFIERS.isCore;\n    if (context.affectsPublicApi) risk += CONTEXT_RISK_MODIFIERS.affectsPublicApi;\n    if (context.affectsDatabase) risk += CONTEXT_RISK_MODIFIERS.affectsDatabase;\n    if (context.affectsAuth) risk += CONTEXT_RISK_MODIFIERS.affectsAuth;\n    if (context.affectsProduction) risk += CONTEXT_RISK_MODIFIERS.affectsProduction;\n    if (context.linesAdded + context.linesRemoved > 100)\n      risk += CONTEXT_RISK_MODIFIERS.largeChange;\n    if (context.filesChanged > 5) risk += CONTEXT_RISK_MODIFIERS.multiFile;\n\n    if (this.isRestrictedPath(context.filePath)) risk += 25;\n    if (context.packageName && this.isRestrictedPackage(context.packageName))\n      risk += 20;\n\n    return Math.min(100, risk);\n  }\n\n  isSafeAction(\n    actionType: string,\n    context: ClaudeCodeContext,\n    riskScore: number\n  ): boolean {\n    if ((DANGEROUS_CLAUDE_ACTIONS as readonly string[]).includes(actionType))\n      return false;\n    if (riskScore > RISK_THRESHOLDS.safe) return false;\n    if (context.affectsProduction) return false;\n    if (context.affectsAuth) return false;\n    if (context.linesAdded + context.linesRemoved > this.boundaries.maxAutoLinesChanged)\n      return false;\n    if (context.filesChanged > this.boundaries.maxAutoFilesChanged) return false;\n    if (!this.checkDailyLimit(actionType)) return false;\n\n    return (SAFE_CLAUDE_ACTIONS as readonly string[]).includes(actionType);\n  }\n\n  private isRestrictedPath(filePath: string): boolean {\n    return this.boundaries.restrictedPaths.some((p) => filePath.includes(p));\n  }\n\n  private isRestrictedPackage(packageName: string): boolean {\n    return this.boundaries.restrictedPackages.includes(packageName);\n  }\n\n  private isReversibleAction(actionType: string): boolean {\n    const nonReversible = [\n      ClaudeCodeActionType.DELETE_DATA,\n      ClaudeCodeActionType.PRODUCTION_DEPLOY,\n    ] as readonly string[];\n    return !nonReversible.includes(actionType);\n  }\n\n  private getImprovementValue(actionType: string): number {\n    return IMPROVEMENT_VALUE[actionType] || 10;\n  }\n\n  // ============================================================================\n  // Daily Tracking\n  // ============================================================================\n\n  private resetDailyCounters(): void {\n    const today = new Date().toISOString().split(\"T\")[0];\n    if (this.lastResetDate !== today) {\n      this.dailyCounters = {};\n      this.dailyImprovements = [];\n      this.lastResetDate = today;\n    }\n  }\n\n  private checkDailyLimit(actionType: string): boolean {\n    this.resetDailyCounters();\n\n    const current = this.dailyCounters[actionType] || 0;\n    let limit: number;\n\n    switch (actionType) {\n      case ClaudeCodeActionType.ADD_TEST:\n        limit = this.boundaries.maxDailyAutoTests;\n        break;\n      case ClaudeCodeActionType.FIX_LINT:\n        limit = this.boundaries.maxDailyAutoLintFixes;\n        break;\n      case ClaudeCodeActionType.UPDATE_DOCS:\n        limit = this.boundaries.maxDailyAutoDocUpdates;\n        break;\n      default:\n        limit = this.boundaries.maxDailyAutoImprovements;\n    }\n\n    if (current >= limit) {\n      this.emitter.emit(\"boundary:exceeded\", actionType, current, limit);\n      return false;\n    }\n\n    return true;\n  }\n\n  private incrementDailyCounter(actionType: string): void {\n    this.dailyCounters[actionType] = (this.dailyCounters[actionType] || 0) + 1;\n  }\n\n  // ============================================================================\n  // Improvement Recording\n  // ============================================================================\n\n  recordImprovement(action: Action, autoExecuted: boolean): DailyImprovement {\n    this.resetDailyCounters();\n    this.incrementDailyCounter(action.type);\n\n    const params = action.params as Record<string, unknown>;\n    const context = params.context as ClaudeCodeContext | undefined;\n\n    const improvement = DailyImprovementSchema.parse({\n      id: generateId(),\n      actionType: action.type,\n      title: action.description,\n      description: params.description as string | undefined,\n      value: action.metadata?.estimatedValue || this.getImprovementValue(action.type),\n      autoExecuted,\n      timestamp: Date.now(),\n      filePath: context?.filePath,\n      packageName: context?.packageName,\n    });\n\n    this.dailyImprovements.push(improvement);\n    this.emitter.emit(\"improvement:recorded\", improvement);\n\n    const riskScore = (params.riskScore as number) || 50;\n    if (riskScore <= RISK_THRESHOLDS.safe) {\n      this.emitter.emit(\"action:safe\", action.type, riskScore);\n    } else {\n      this.emitter.emit(\"action:risky\", action.type, riskScore);\n    }\n\n    return improvement;\n  }\n\n  getImprovementStats(): ImprovementStats {\n    this.resetDailyCounters();\n\n    const byType: Record<string, number> = {};\n    const byPackage: Record<string, number> = {};\n\n    for (const imp of this.dailyImprovements) {\n      byType[imp.actionType] = (byType[imp.actionType] || 0) + 1;\n      if (imp.packageName) {\n        byPackage[imp.packageName] = (byPackage[imp.packageName] || 0) + 1;\n      }\n    }\n\n    return {\n      date: this.lastResetDate,\n      totalImprovements: this.dailyImprovements.length,\n      autoExecuted: this.dailyImprovements.filter((i) => i.autoExecuted).length,\n      queued: this.dailyImprovements.filter((i) => !i.autoExecuted).length,\n      escalated: 0,\n      totalValue: this.dailyImprovements.reduce((sum, i) => sum + i.value, 0),\n      byType,\n      byPackage,\n    };\n  }\n\n  getDailyImprovements(): DailyImprovement[] {\n    this.resetDailyCounters();\n    return [...this.dailyImprovements];\n  }\n\n  // ============================================================================\n  // Boundary Management\n  // ============================================================================\n\n  updateBoundaries(\n    newBoundaries: Partial<typeof DEFAULT_WORKFLOW_BOUNDARIES>\n  ): void {\n    this.boundaries = { ...this.boundaries, ...newBoundaries };\n  }\n\n  getBoundaries(): typeof DEFAULT_WORKFLOW_BOUNDARIES {\n    return { ...this.boundaries };\n  }\n\n  // ============================================================================\n  // Event Emitter\n  // ============================================================================\n\n  on<K extends keyof WorkflowAdapterEvents>(\n    event: K,\n    listener: WorkflowAdapterEvents[K]\n  ): this {\n    this.emitter.on(event, listener as (...args: unknown[]) => void);\n    return this;\n  }\n\n  off<K extends keyof WorkflowAdapterEvents>(\n    event: K,\n    listener: WorkflowAdapterEvents[K]\n  ): this {\n    this.emitter.off(event, listener as (...args: unknown[]) => void);\n    return this;\n  }\n\n  getActionCount(): number {\n    return this.actionCount;\n  }\n}\n\n// Singleton\nlet workflowAdapter: ClaudeWorkflowAdapter | null = null;\n\nexport function getWorkflowAdapter(): ClaudeWorkflowAdapter {\n  if (!workflowAdapter) {\n    workflowAdapter = new ClaudeWorkflowAdapter();\n  }\n  return workflowAdapter;\n}\n","/**\n * Types for Claude Code Workflow Integration\n *\n * Defines action types, contexts, and tracking structures\n * for routing Claude Code actions through the autonomy system.\n */\n\nimport { z } from \"zod\";\n\n// ============================================================================\n// Claude Code Action Types\n// ============================================================================\n\nexport const ClaudeCodeActionType = {\n  // Safe actions (auto-execute)\n  ADD_TEST: \"claude_add_test\",\n  FIX_LINT: \"claude_fix_lint\",\n  UPDATE_DOCS: \"claude_update_docs\",\n  ADD_COMMENTS: \"claude_add_comments\",\n  FORMAT_CODE: \"claude_format_code\",\n  ADD_TYPE: \"claude_add_type\",\n  UPDATE_README: \"claude_update_readme\",\n  ADD_EXAMPLE: \"claude_add_example\",\n\n  // Medium risk (may queue)\n  MODIFY_FUNCTION: \"claude_modify_function\",\n  ADD_FEATURE: \"claude_add_feature\",\n  REFACTOR: \"claude_refactor\",\n\n  // High risk (queue/escalate)\n  CHANGE_API: \"claude_change_api\",\n  MODIFY_CORE: \"claude_modify_core\",\n  MODIFY_CONFIG: \"claude_modify_config\",\n\n  // Critical (escalate/reject)\n  PRODUCTION_DEPLOY: \"claude_production_deploy\",\n  DELETE_DATA: \"claude_delete_data\",\n  MODIFY_AUTH: \"claude_modify_auth\",\n} as const;\n\nexport type ClaudeCodeActionType =\n  (typeof ClaudeCodeActionType)[keyof typeof ClaudeCodeActionType];\n\n// ============================================================================\n// Context Schemas\n// ============================================================================\n\nexport const ClaudeCodeContextSchema = z.object({\n  /** File being modified */\n  filePath: z.string(),\n  /** Package name if in a package */\n  packageName: z.string().optional(),\n  /** Is this a core infrastructure file? */\n  isCore: z.boolean().default(false),\n  /** Is this a test file? */\n  isTest: z.boolean().default(false),\n  /** Lines added */\n  linesAdded: z.number().default(0),\n  /** Lines removed */\n  linesRemoved: z.number().default(0),\n  /** Affects public API? */\n  affectsPublicApi: z.boolean().default(false),\n  /** Affects database? */\n  affectsDatabase: z.boolean().default(false),\n  /** Affects authentication? */\n  affectsAuth: z.boolean().default(false),\n  /** Affects production? */\n  affectsProduction: z.boolean().default(false),\n  /** Number of files changed */\n  filesChanged: z.number().default(1),\n});\n\nexport type ClaudeCodeContext = z.infer<typeof ClaudeCodeContextSchema>;\n\n// ============================================================================\n// Workflow Action Types\n// ============================================================================\n\nexport const WorkflowActionType = {\n  WORKFLOW_CREATE: \"workflow_create\",\n  WORKFLOW_RUN: \"workflow_run\",\n  WORKFLOW_STEP: \"workflow_step\",\n  WORKFLOW_COMPLETE: \"workflow_complete\",\n} as const;\n\nexport type WorkflowActionType =\n  (typeof WorkflowActionType)[keyof typeof WorkflowActionType];\n\nexport const WorkflowContextSchema = z.object({\n  workflowId: z.string(),\n  workflowName: z.string(),\n  executionId: z.string().optional(),\n  stepId: z.string().optional(),\n  stepAgent: z.string().optional(),\n  aggregateRiskScore: z.number().default(0),\n  steps: z\n    .array(\n      z.object({\n        agent: z.string(),\n        riskScore: z.number(),\n      })\n    )\n    .optional(),\n});\n\nexport type WorkflowContext = z.infer<typeof WorkflowContextSchema>;\n\n// ============================================================================\n// Improvement Tracking\n// ============================================================================\n\nexport const DailyImprovementSchema = z.object({\n  id: z.string(),\n  actionType: z.string(),\n  title: z.string(),\n  description: z.string().optional(),\n  value: z.number().default(1),\n  autoExecuted: z.boolean(),\n  timestamp: z.number(),\n  filePath: z.string().optional(),\n  packageName: z.string().optional(),\n});\n\nexport type DailyImprovement = z.infer<typeof DailyImprovementSchema>;\n\nexport const ImprovementStatsSchema = z.object({\n  date: z.string(),\n  totalImprovements: z.number(),\n  autoExecuted: z.number(),\n  queued: z.number(),\n  escalated: z.number(),\n  totalValue: z.number(),\n  byType: z.record(z.number()),\n  byPackage: z.record(z.number()),\n});\n\nexport type ImprovementStats = z.infer<typeof ImprovementStatsSchema>;\n\n// ============================================================================\n// Adapter Events\n// ============================================================================\n\nexport interface WorkflowAdapterEvents {\n  \"improvement:recorded\": (improvement: DailyImprovement) => void;\n  \"win:published\": (improvement: DailyImprovement) => void;\n  \"boundary:exceeded\": (type: string, current: number, limit: number) => void;\n  \"action:safe\": (actionType: string, riskScore: number) => void;\n  \"action:risky\": (actionType: string, riskScore: number) => void;\n}\n","/**\n * Constants for Claude Code Workflow Integration\n *\n * Defines risk scores, safe actions, and boundaries\n * for the ClaudeWorkflowAdapter.\n */\n\nimport { ClaudeCodeActionType } from \"./workflow-types.js\";\n\n// ============================================================================\n// Base Risk Scores (0-100)\n// ============================================================================\n\nexport const CLAUDE_ACTION_BASE_RISK: Record<string, number> = {\n  // Safe actions (0-15)\n  [ClaudeCodeActionType.ADD_TEST]: 5,\n  [ClaudeCodeActionType.FIX_LINT]: 5,\n  [ClaudeCodeActionType.UPDATE_DOCS]: 10,\n  [ClaudeCodeActionType.ADD_COMMENTS]: 5,\n  [ClaudeCodeActionType.FORMAT_CODE]: 3,\n  [ClaudeCodeActionType.ADD_TYPE]: 8,\n  [ClaudeCodeActionType.UPDATE_README]: 10,\n  [ClaudeCodeActionType.ADD_EXAMPLE]: 12,\n\n  // Medium risk (20-45)\n  [ClaudeCodeActionType.MODIFY_FUNCTION]: 30,\n  [ClaudeCodeActionType.ADD_FEATURE]: 35,\n  [ClaudeCodeActionType.REFACTOR]: 40,\n\n  // High risk (50-70)\n  [ClaudeCodeActionType.CHANGE_API]: 55,\n  [ClaudeCodeActionType.MODIFY_CORE]: 65,\n  [ClaudeCodeActionType.MODIFY_CONFIG]: 60,\n\n  // Critical (80-100)\n  [ClaudeCodeActionType.PRODUCTION_DEPLOY]: 85,\n  [ClaudeCodeActionType.DELETE_DATA]: 95,\n  [ClaudeCodeActionType.MODIFY_AUTH]: 90,\n};\n\n// ============================================================================\n// Context Risk Modifiers\n// ============================================================================\n\nexport const CONTEXT_RISK_MODIFIERS = {\n  /** File is in core infrastructure */\n  isCore: 20,\n  /** Change affects public API */\n  affectsPublicApi: 15,\n  /** Change affects database */\n  affectsDatabase: 25,\n  /** Change affects authentication */\n  affectsAuth: 30,\n  /** Change affects production */\n  affectsProduction: 35,\n  /** Large change (>100 lines) */\n  largeChange: 10,\n  /** Multi-file change (>5 files) */\n  multiFile: 15,\n};\n\n// ============================================================================\n// Safe Actions (Auto-Execute)\n// ============================================================================\n\nexport const SAFE_CLAUDE_ACTIONS = [\n  ClaudeCodeActionType.ADD_TEST,\n  ClaudeCodeActionType.FIX_LINT,\n  ClaudeCodeActionType.UPDATE_DOCS,\n  ClaudeCodeActionType.ADD_COMMENTS,\n  ClaudeCodeActionType.FORMAT_CODE,\n  ClaudeCodeActionType.ADD_TYPE,\n  ClaudeCodeActionType.UPDATE_README,\n  ClaudeCodeActionType.ADD_EXAMPLE,\n];\n\n// ============================================================================\n// Dangerous Actions (Require Escalation)\n// ============================================================================\n\nexport const DANGEROUS_CLAUDE_ACTIONS = [\n  ClaudeCodeActionType.DELETE_DATA,\n  ClaudeCodeActionType.MODIFY_AUTH,\n  ClaudeCodeActionType.PRODUCTION_DEPLOY,\n];\n\n// ============================================================================\n// Workflow Boundaries\n// ============================================================================\n\nexport const DEFAULT_WORKFLOW_BOUNDARIES = {\n  /** Max auto improvements per day */\n  maxDailyAutoImprovements: 50,\n  /** Max auto test additions per day */\n  maxDailyAutoTests: 100,\n  /** Max auto lint fixes per day */\n  maxDailyAutoLintFixes: 200,\n  /** Max auto doc updates per day */\n  maxDailyAutoDocUpdates: 30,\n  /** Max lines changed for auto-execute */\n  maxAutoLinesChanged: 100,\n  /** Max files changed for auto-execute */\n  maxAutoFilesChanged: 5,\n  /** Max concurrent workflows */\n  maxConcurrentWorkflows: 3,\n  /** Max steps in a workflow */\n  maxWorkflowSteps: 10,\n  /** Restricted paths require approval */\n  restrictedPaths: [\n    \"src/core/\",\n    \"src/config/\",\n    \".env\",\n    \"packages/agent-core/src/\",\n    \"packages/autonomy/src/core/\",\n    \"packages/money-engine/src/core/\",\n  ],\n  /** Restricted packages require approval */\n  restrictedPackages: [\n    \"@gicm/agent-core\",\n    \"@gicm/autonomy\",\n    \"@gicm/money-engine\",\n    \"@gicm/mcp-server\",\n  ],\n};\n\n// ============================================================================\n// Improvement Value Scoring\n// ============================================================================\n\nexport const IMPROVEMENT_VALUE: Record<string, number> = {\n  [ClaudeCodeActionType.ADD_TEST]: 50,\n  [ClaudeCodeActionType.FIX_LINT]: 5,\n  [ClaudeCodeActionType.UPDATE_DOCS]: 25,\n  [ClaudeCodeActionType.ADD_COMMENTS]: 10,\n  [ClaudeCodeActionType.FORMAT_CODE]: 2,\n  [ClaudeCodeActionType.ADD_TYPE]: 15,\n  [ClaudeCodeActionType.MODIFY_FUNCTION]: 30,\n  [ClaudeCodeActionType.ADD_FEATURE]: 100,\n  [ClaudeCodeActionType.REFACTOR]: 40,\n  [ClaudeCodeActionType.CHANGE_API]: 60,\n};\n\n// ============================================================================\n// Risk Thresholds\n// ============================================================================\n\nexport const RISK_THRESHOLDS = {\n  /** Safe: auto-execute */\n  safe: 20,\n  /** Low: auto-execute with logging */\n  low: 40,\n  /** Medium: queue for approval */\n  medium: 60,\n  /** High: escalate */\n  high: 80,\n  /** Critical: reject or escalate */\n  critical: 100,\n};\n"],"mappings":"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","names":["EventEmitter","EventEmitter"]}