{"version":3,"sources":["../src/index.ts","../src/banner.ts","../src/detect.ts","../src/install.ts","../src/config.ts","../src/codespaces.ts"],"sourcesContent":["import { program } from 'commander';\nimport Enquirer from 'enquirer';\nimport chalk from 'chalk';\n\nconst { Select } = Enquirer as any;\nimport { printBanner, printSuccessBanner, printErrorBanner, printInfo, VERSION } from './banner.js';\nimport { detectEnvironments, getEnvironmentChoices, isCodespaces } from './detect.js';\nimport { runInstallation, getInstallTypeChoices, checkInstallationStatus, type InstallType } from './install.js';\nimport { writeDevContainerFiles, getCodespacesBadge } from './codespaces.js';\n\nasync function main() {\n  program\n    .name('create-opus67')\n    .description('Install OPUS 67 - AI superpowers for any coding environment')\n    .version(VERSION);\n\n  program\n    .command('install', { isDefault: true })\n    .description('Interactive installation wizard')\n    .action(async () => {\n      await runInteractiveInstall();\n    });\n\n  program\n    .command('status')\n    .description('Check OPUS 67 installation status')\n    .action(() => {\n      printBanner();\n      const status = checkInstallationStatus();\n\n      if (status.installed) {\n        console.log(chalk.green('  âœ“ OPUS 67 is installed'));\n        console.log(chalk.gray(`    Version: ${status.version || 'unknown'}`));\n        console.log(chalk.gray(`    Environment: ${status.environment}`));\n        console.log(chalk.gray(`    Config: ${status.configPath}`));\n      } else {\n        console.log(chalk.yellow('  âš  OPUS 67 is not installed in this directory'));\n        console.log(chalk.gray('    Run: npx create-opus67'));\n      }\n      console.log();\n    });\n\n  program\n    .command('update')\n    .description('Update OPUS 67 to latest version')\n    .action(async () => {\n      printBanner();\n      const status = checkInstallationStatus();\n\n      if (!status.installed) {\n        printErrorBanner('OPUS 67 is not installed. Run: npx create-opus67');\n        process.exit(1);\n      }\n\n      printInfo(`Current version: ${status.version || 'unknown'}`);\n      printInfo(`Latest version: ${VERSION}`);\n\n      if (status.version === VERSION) {\n        console.log(chalk.green('\\n  âœ“ Already up to date!\\n'));\n        return;\n      }\n\n      // Re-run installation with detected environment\n      const detection = detectEnvironments();\n      const env = detection.environments.find(e => e.id === status.environment);\n\n      if (!env) {\n        printErrorBanner('Could not detect environment for update');\n        process.exit(1);\n      }\n\n      // Prompt for install type\n      const typePrompt = new Select({\n        name: 'installType',\n        message: 'Select installation type:',\n        choices: getInstallTypeChoices().map(c => ({\n          name: c.value,\n          message: `${c.name} ${chalk.gray(c.hint)}`,\n        })),\n      });\n\n      const installType = await typePrompt.run() as InstallType;\n      await runInstallation(env, installType, VERSION);\n      printSuccessBanner();\n    });\n\n  program\n    .command('skills')\n    .description('Browse available skills')\n    .action(() => {\n      printBanner();\n      console.log(chalk.cyan('  Available Skill Categories:\\n'));\n\n      const categories = [\n        { name: 'GRAB Skills', count: 15, desc: 'Visual-first development (react-grab, theme-grab, etc.)' },\n        { name: 'Solana Skills', count: 12, desc: 'Blockchain development (token-swap, anchor-interact)' },\n        { name: 'Research Skills', count: 10, desc: 'Information gathering (web-search, code-search)' },\n        { name: 'Builder Skills', count: 18, desc: 'Code generation and scaffolding' },\n        { name: 'DevOps Skills', count: 15, desc: 'CI/CD, deployment, infrastructure' },\n        { name: 'Testing Skills', count: 10, desc: 'Test generation and quality assurance' },\n        { name: 'Documentation Skills', count: 8, desc: 'API docs, READMEs, guides' },\n        { name: 'Security Skills', count: 7, desc: 'Auditing, vulnerability scanning' },\n      ];\n\n      for (const cat of categories) {\n        console.log(chalk.white(`  ${cat.name} (${cat.count})`));\n        console.log(chalk.gray(`    ${cat.desc}\\n`));\n      }\n\n      console.log(chalk.gray('  Total: 140 skills\\n'));\n      console.log(chalk.cyan('  For full skill list, visit: https://opus67.dev/skills\\n'));\n    });\n\n  program\n    .command('agents')\n    .description('List available agents')\n    .action(() => {\n      printBanner();\n      console.log(chalk.cyan('  Available Agent Categories:\\n'));\n\n      const categories = [\n        { name: 'Vision Agents', count: 12, desc: 'Grabber, Cloner, Theme Extractor' },\n        { name: 'Data Agents', count: 10, desc: 'Deep Researcher, Web Spider, Docs Expert' },\n        { name: 'Browser Agents', count: 8, desc: 'Controller, Stagehand, Test Generator' },\n        { name: 'Solana Agents', count: 16, desc: 'Jupiter Trader, Anchor Architect, DeFi Analyst' },\n        { name: 'Infrastructure Agents', count: 14, desc: 'Repo Master, DB Commander, Container Chief' },\n        { name: 'Builder Agents', count: 12, desc: 'Full Stack Builder, API Designer' },\n        { name: 'DevOps Agents', count: 10, desc: 'CI/CD Automator, Error Hunter' },\n      ];\n\n      for (const cat of categories) {\n        console.log(chalk.white(`  ${cat.name} (${cat.count})`));\n        console.log(chalk.gray(`    ${cat.desc}\\n`));\n      }\n\n      console.log(chalk.gray('  Total: 82 agents\\n'));\n      console.log(chalk.cyan('  For full agent list, visit: https://opus67.dev/agents\\n'));\n    });\n\n  program\n    .command('codespaces')\n    .description('Generate GitHub Codespaces configuration')\n    .option('-t, --type <type>', 'Installation type (full, solana, frontend, minimal)', 'full')\n    .action(async (options) => {\n      printBanner();\n      console.log(chalk.cyan('  Generating GitHub Codespaces configuration...\\n'));\n\n      const installType = options.type as InstallType;\n\n      // Validate install type\n      if (!['full', 'solana', 'frontend', 'minimal'].includes(installType)) {\n        printErrorBanner(`Invalid install type: ${installType}`);\n        process.exit(1);\n      }\n\n      try {\n        const { devcontainerPath, scriptPath } = writeDevContainerFiles(installType);\n\n        console.log(chalk.green('  âœ“ Created .devcontainer/devcontainer.json'));\n        console.log(chalk.green('  âœ“ Created .devcontainer/post-create.sh'));\n        console.log();\n        console.log(chalk.gray(`  Config path: ${devcontainerPath}`));\n        console.log(chalk.gray(`  Script path: ${scriptPath}`));\n        console.log();\n        console.log(chalk.cyan('  Next steps:'));\n        console.log(chalk.white('    1. Commit the .devcontainer folder to your repo'));\n        console.log(chalk.white('    2. Push to GitHub'));\n        console.log(chalk.white('    3. Open in Codespaces or click the badge below'));\n        console.log();\n        console.log(chalk.gray('  Add this badge to your README.md:'));\n        console.log();\n        console.log(chalk.white(`    ${getCodespacesBadge()}`));\n        console.log();\n      } catch (error) {\n        printErrorBanner((error as Error).message);\n        process.exit(1);\n      }\n    });\n\n  program\n    .command('gitpod')\n    .description('Generate Gitpod configuration')\n    .option('-t, --type <type>', 'Installation type (full, solana, frontend, minimal)', 'full')\n    .action(async (options) => {\n      printBanner();\n      console.log(chalk.cyan('  Generating Gitpod configuration...\\n'));\n\n      const installType = options.type as InstallType;\n\n      // Validate install type\n      if (!['full', 'solana', 'frontend', 'minimal'].includes(installType)) {\n        printErrorBanner(`Invalid install type: ${installType}`);\n        process.exit(1);\n      }\n\n      try {\n        // Generate .gitpod.yml\n        const gitpodConfig = generateGitpodConfig(installType);\n        const fs = await import('fs');\n        fs.writeFileSync('.gitpod.yml', gitpodConfig, 'utf-8');\n\n        console.log(chalk.green('  âœ“ Created .gitpod.yml'));\n        console.log();\n        console.log(chalk.cyan('  Next steps:'));\n        console.log(chalk.white('    1. Commit .gitpod.yml to your repo'));\n        console.log(chalk.white('    2. Push to GitHub/GitLab/Bitbucket'));\n        console.log(chalk.white('    3. Open with Gitpod'));\n        console.log();\n        console.log(chalk.gray('  Add this badge to your README.md:'));\n        console.log();\n        console.log(chalk.white('    [![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#<your-repo-url>)'));\n        console.log();\n      } catch (error) {\n        printErrorBanner((error as Error).message);\n        process.exit(1);\n      }\n    });\n\n  await program.parseAsync(process.argv);\n}\n\nfunction generateGitpodConfig(installType: InstallType): string {\n  const tasks = [\n    {\n      name: 'OPUS 67 Setup',\n      init: `npx create-opus67@latest --type ${installType} --env gitpod --yes && npm install`,\n    },\n  ];\n\n  if (installType === 'solana' || installType === 'full') {\n    tasks.unshift({\n      name: 'Solana Setup',\n      init: 'sh -c \"$(curl -sSfL https://release.solana.com/stable/install)\"',\n    });\n  }\n\n  const config = {\n    image: installType === 'solana' || installType === 'full'\n      ? 'gitpod/workspace-rust'\n      : 'gitpod/workspace-node',\n    tasks,\n    vscode: {\n      extensions: [\n        'bradlc.vscode-tailwindcss',\n        'dbaeumer.vscode-eslint',\n        'esbenp.prettier-vscode',\n        ...(installType === 'solana' || installType === 'full'\n          ? ['rust-lang.rust-analyzer', 'serayuzgur.crates']\n          : []),\n      ],\n    },\n    ports: [\n      { port: 3000, onOpen: 'open-preview' },\n      { port: 5173, onOpen: 'open-preview' },\n      { port: 8080, onOpen: 'ignore' },\n    ],\n  };\n\n  // Convert to YAML manually (simple structure)\n  let yaml = `# OPUS 67 Gitpod Configuration\n# Generated by create-opus67\n\nimage: ${config.image}\n\ntasks:\n`;\n\n  for (const task of tasks) {\n    yaml += `  - name: ${task.name}\n    init: ${task.init}\n`;\n  }\n\n  yaml += `\nvscode:\n  extensions:\n`;\n  for (const ext of config.vscode.extensions) {\n    yaml += `    - ${ext}\n`;\n  }\n\n  yaml += `\nports:\n`;\n  for (const port of config.ports) {\n    yaml += `  - port: ${port.port}\n    onOpen: ${port.onOpen}\n`;\n  }\n\n  return yaml;\n}\n\nasync function runInteractiveInstall() {\n  printBanner();\n\n  // Check if already installed\n  const status = checkInstallationStatus();\n  if (status.installed) {\n    console.log(chalk.yellow(`  âš  OPUS 67 v${status.version} is already installed`));\n    console.log(chalk.gray(`    Environment: ${status.environment}`));\n    console.log(chalk.gray(`    Config: ${status.configPath}\\n`));\n\n    const confirmPrompt = new Select({\n      name: 'confirm',\n      message: 'Would you like to reinstall?',\n      choices: [\n        { name: 'yes', message: 'Yes, reinstall' },\n        { name: 'no', message: 'No, cancel' },\n      ],\n    });\n\n    const confirm = await confirmPrompt.run();\n    if (confirm === 'no') {\n      console.log(chalk.gray('\\n  Installation cancelled.\\n'));\n      return;\n    }\n    console.log();\n  }\n\n  // Detect environments\n  const detection = detectEnvironments();\n  const choices = getEnvironmentChoices(detection);\n\n  // Select environment\n  const envPrompt = new Select({\n    name: 'environment',\n    message: 'Select your environment:',\n    choices: choices.map(c => ({\n      name: c.value,\n      message: c.hint ? `${c.name} ${chalk.gray(c.hint)}` : c.name,\n    })),\n    initial: detection.recommended?.id,\n  });\n\n  const envId = await envPrompt.run() as string;\n  const selectedEnv = detection.environments.find(e => e.id === envId)!;\n\n  // Select install type\n  const typePrompt = new Select({\n    name: 'installType',\n    message: 'Select installation type:',\n    choices: getInstallTypeChoices().map(c => ({\n      name: c.value,\n      message: `${c.name} ${chalk.gray(c.hint)}`,\n    })),\n  });\n\n  const installType = await typePrompt.run() as InstallType;\n\n  // Run installation\n  try {\n    await runInstallation(selectedEnv, installType, VERSION);\n    printSuccessBanner();\n  } catch (error) {\n    printErrorBanner((error as Error).message);\n    process.exit(1);\n  }\n}\n\nmain().catch((error) => {\n  console.error(chalk.red('Error:'), error.message);\n  process.exit(1);\n});\n","import figlet from 'figlet';\nimport chalk from 'chalk';\n\nexport const OPUS67_ASCII = `\n   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\n  â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•    â–ˆâ–ˆâ•”â•â•â•â•â• â•šâ•â•â•â•â–ˆâ–ˆâ•‘\n  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•”â•\n  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•”â•\n  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘    â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•   â–ˆâ–ˆâ•‘\n   â•šâ•â•â•â•â•â• â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•     â•šâ•â•â•â•â•â•    â•šâ•â•\n`;\n\nexport const VERSION = '5.1.0';\n\nexport function printBanner(): void {\n  console.log(chalk.cyan(OPUS67_ASCII));\n  console.log(chalk.gray(`                 Self-Evolving AI Runtime v${VERSION}`));\n  console.log();\n  console.log(chalk.white('  140 Skills â€¢ 82 MCPs â€¢ 30 Modes â€¢ 84 Agents'));\n  console.log();\n  console.log(chalk.gray('  Created by ') + chalk.cyan('@0motionguy') + chalk.gray(' â€¢ 4ms routing â€¢ 566x faster'));\n  console.log();\n}\n\nexport function printSuccessBanner(): void {\n  console.log();\n  console.log(chalk.green('  âœ“ OPUS 67 v5.1 \"THE PRECISION UPDATE\" installed successfully!'));\n  console.log();\n  console.log(chalk.gray('  What you get:'));\n  console.log(chalk.white('    â€¢ 140 specialist skills (auto-loaded based on task)'));\n  console.log(chalk.white('    â€¢ 82 MCP connections (live data, APIs, blockchain)'));\n  console.log(chalk.white('    â€¢ 30 optimized modes (right context for each task)'));\n  console.log(chalk.white('    â€¢ 84 expert agents (domain-specific personas)'));\n  console.log(chalk.white('    â€¢ Multi-model routing (Opus/Sonnet/Haiku)'));\n  console.log();\n  console.log(chalk.cyan('  ðŸ§  NEW in v5.0:'));\n  console.log(chalk.white('    â€¢ Extended Thinking - Claude Opus 4.5 with 4 complexity modes'));\n  console.log(chalk.white('    â€¢ Prompt Caching - 90% cost savings on repeated context'));\n  console.log(chalk.white('    â€¢ Dynamic Tool Discovery - AI-powered MCP recommendations'));\n  console.log(chalk.white('    â€¢ File-Aware Memory - Track dependencies across 14 languages'));\n  console.log(chalk.white('    â€¢ SWE-bench Patterns - Precise multi-file code edits'));\n  console.log(chalk.white('    â€¢ Long-Horizon Planning - Multi-step task decomposition'));\n  console.log(chalk.white('    â€¢ Verification Loops - Auto-verify code changes'));\n  console.log(chalk.white('    â€¢ Unified Brain API - One simple API for everything'));\n  console.log();\n  console.log(chalk.cyan('  Your AI just got superpowers. Start building.'));\n  console.log();\n}\n\nexport function printErrorBanner(message: string): void {\n  console.log();\n  console.log(chalk.red(`  âœ— Error: ${message}`));\n  console.log();\n}\n\nexport function printInfo(message: string): void {\n  console.log(chalk.blue(`  â„¹ ${message}`));\n}\n\nexport function printWarning(message: string): void {\n  console.log(chalk.yellow(`  âš  ${message}`));\n}\n","import { existsSync } from 'fs';\nimport { homedir } from 'os';\nimport { join } from 'path';\n\nexport interface DetectedEnvironment {\n  id: string;\n  name: string;\n  detected: boolean;\n  path: string;\n  configPath: string;\n  recommended?: boolean;\n}\n\nexport interface DetectionResult {\n  environments: DetectedEnvironment[];\n  recommended: DetectedEnvironment | null;\n}\n\nfunction getClaudeCodePath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(home, '.claude');\n  }\n  return join(home, '.claude');\n}\n\nfunction getCursorPath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(process.env.APPDATA || '', 'Cursor');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Cursor');\n  }\n  return join(home, '.config', 'Cursor');\n}\n\nfunction getVSCodePath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(process.env.APPDATA || '', 'Code');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Code');\n  }\n  return join(home, '.config', 'Code');\n}\n\nfunction getWindsurfPath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(process.env.APPDATA || '', 'Windsurf');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Windsurf');\n  }\n  return join(home, '.config', 'windsurf');\n}\n\nfunction getZedPath(): string {\n  const home = homedir();\n  if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Zed');\n  }\n  return join(home, '.config', 'zed');\n}\n\nfunction getReplitPath(): string {\n  // Replit uses project-based config\n  return process.cwd();\n}\n\nfunction getContinuePath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(process.env.APPDATA || '', 'Continue');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Continue');\n  }\n  return join(home, '.continue');\n}\n\nfunction getJetBrainsPath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    // Check common JetBrains installation directories\n    return join(home, 'AppData', 'Roaming', 'JetBrains');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'JetBrains');\n  }\n  return join(home, '.config', 'JetBrains');\n}\n\nfunction getCodeiumPath(): string {\n  const home = homedir();\n  if (process.platform === 'win32') {\n    return join(process.env.APPDATA || '', 'Codeium');\n  } else if (process.platform === 'darwin') {\n    return join(home, 'Library', 'Application Support', 'Codeium');\n  }\n  return join(home, '.codeium');\n}\n\nfunction getSupermaven(): string {\n  const home = homedir();\n  return join(home, '.supermaven');\n}\n\nfunction getAiderPath(): string {\n  const home = homedir();\n  return join(home, '.aider');\n}\n\nexport function isCodespaces(): boolean {\n  return process.env.CODESPACES === 'true' ||\n         process.env.GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN !== undefined;\n}\n\nexport function isGitpod(): boolean {\n  return process.env.GITPOD_WORKSPACE_ID !== undefined;\n}\n\nexport function isReplit(): boolean {\n  return process.env.REPL_ID !== undefined || process.env.REPLIT_DEV_DOMAIN !== undefined;\n}\n\nexport function detectEnvironments(): DetectionResult {\n  const inCodespaces = isCodespaces();\n  const inGitpod = isGitpod();\n  const inReplit = isReplit();\n\n  const environments: DetectedEnvironment[] = [\n    // Cloud IDEs (prioritized)\n    {\n      id: 'codespaces',\n      name: 'GitHub Codespaces',\n      detected: inCodespaces,\n      path: process.cwd(),\n      configPath: join(process.cwd(), 'CLAUDE.md'),\n      recommended: inCodespaces,\n    },\n    {\n      id: 'gitpod',\n      name: 'Gitpod',\n      detected: inGitpod,\n      path: process.cwd(),\n      configPath: join(process.cwd(), 'CLAUDE.md'),\n      recommended: inGitpod,\n    },\n    {\n      id: 'replit',\n      name: 'Replit',\n      detected: inReplit,\n      path: getReplitPath(),\n      configPath: join(process.cwd(), '.replit'),\n      recommended: inReplit,\n    },\n    // Desktop IDEs with Claude/AI integration\n    {\n      id: 'claude-code',\n      name: 'Claude Code',\n      detected: existsSync(getClaudeCodePath()),\n      path: getClaudeCodePath(),\n      configPath: join(process.cwd(), 'CLAUDE.md'),\n      recommended: !inCodespaces && !inGitpod && !inReplit,\n    },\n    {\n      id: 'cursor',\n      name: 'Cursor',\n      detected: existsSync(getCursorPath()),\n      path: getCursorPath(),\n      configPath: join(process.cwd(), '.cursorrules'),\n    },\n    {\n      id: 'windsurf',\n      name: 'Windsurf',\n      detected: existsSync(getWindsurfPath()),\n      path: getWindsurfPath(),\n      configPath: join(process.cwd(), '.windsurfrules'),\n    },\n    {\n      id: 'continue',\n      name: 'Continue.dev',\n      detected: existsSync(getContinuePath()),\n      path: getContinuePath(),\n      configPath: join(getContinuePath(), 'config.json'),\n    },\n    {\n      id: 'aider',\n      name: 'Aider',\n      detected: existsSync(getAiderPath()),\n      path: getAiderPath(),\n      configPath: join(getAiderPath(), '.aider.conf.yml'),\n    },\n    // General purpose IDEs\n    {\n      id: 'vscode',\n      name: 'VS Code',\n      detected: existsSync(getVSCodePath()),\n      path: getVSCodePath(),\n      configPath: join(process.cwd(), '.vscode', 'settings.json'),\n    },\n    {\n      id: 'jetbrains',\n      name: 'JetBrains IDEs',\n      detected: existsSync(getJetBrainsPath()),\n      path: getJetBrainsPath(),\n      configPath: join(getJetBrainsPath(), '.opus67.config'),\n    },\n    {\n      id: 'zed',\n      name: 'Zed',\n      detected: existsSync(getZedPath()),\n      path: getZedPath(),\n      configPath: join(getZedPath(), 'settings.json'),\n    },\n    // AI Assistants/Extensions\n    {\n      id: 'codeium',\n      name: 'Codeium',\n      detected: existsSync(getCodeiumPath()),\n      path: getCodeiumPath(),\n      configPath: join(getCodeiumPath(), 'config.json'),\n    },\n    {\n      id: 'supermaven',\n      name: 'Supermaven',\n      detected: existsSync(getSupermaven()),\n      path: getSupermaven(),\n      configPath: join(getSupermaven(), 'config.json'),\n    },\n    // Manual fallback\n    {\n      id: 'manual',\n      name: 'Manual Installation',\n      detected: true, // Always available\n      path: process.cwd(),\n      configPath: join(process.cwd(), '.opus67', 'config.json'),\n    },\n  ];\n\n  // Find recommended environment\n  const recommended = environments.find((e) => e.detected && e.recommended) ||\n    environments.find((e) => e.detected && e.id !== 'manual') ||\n    environments.find((e) => e.id === 'manual')!;\n\n  return {\n    environments,\n    recommended,\n  };\n}\n\nexport function getEnvironmentChoices(result: DetectionResult): Array<{ name: string; value: string; hint?: string }> {\n  return result.environments\n    .filter((env) => env.detected || env.id === 'manual')\n    .map((env) => ({\n      name: env.name,\n      value: env.id,\n      hint: env.recommended ? '(Recommended)' : env.detected ? '(Detected)' : undefined,\n    }));\n}\n","import ora from 'ora';\nimport chalk from 'chalk';\nimport { existsSync, readFileSync } from 'fs';\nimport { join } from 'path';\nimport { writeConfig, writeClaudeDesktopConfig } from './config.js';\nimport type { DetectedEnvironment } from './detect.js';\n\nexport type InstallType = 'full' | 'solana' | 'frontend' | 'minimal';\n\nexport interface InstallConfig {\n  environment: string;\n  installType: InstallType;\n  configPath: string;\n  version: string;\n  stats: {\n    skills: number;\n    mcps: number;\n    modes: number;\n    agents: number;\n  };\n  skillsPath?: string;\n  mcpsPath?: string;\n  modesPath?: string;\n}\n\nexport interface InstallStats {\n  skills: number;\n  mcps: number;\n  modes: number;\n  agents: number;\n}\n\n// Stats by install type\nconst INSTALL_STATS: Record<InstallType, InstallStats> = {\n  full: { skills: 95, mcps: 84, modes: 30, agents: 82 },\n  solana: { skills: 35, mcps: 25, modes: 12, agents: 30 },\n  frontend: { skills: 40, mcps: 20, modes: 15, agents: 25 },\n  minimal: { skills: 15, mcps: 10, modes: 8, agents: 10 },\n};\n\nexport function getInstallTypeChoices(): Array<{ name: string; value: InstallType; hint: string }> {\n  return [\n    {\n      name: 'Full',\n      value: 'full',\n      hint: '(140 skills, 82 MCPs, 84 agents)',\n    },\n    {\n      name: 'Solana',\n      value: 'solana',\n      hint: '(35 skills, 25 MCPs, 30 agents)',\n    },\n    {\n      name: 'Frontend',\n      value: 'frontend',\n      hint: '(40 skills, 20 MCPs, 25 agents)',\n    },\n    {\n      name: 'Minimal',\n      value: 'minimal',\n      hint: '(15 skills, 10 MCPs, 10 agents)',\n    },\n  ];\n}\n\nexport async function runInstallation(\n  env: DetectedEnvironment,\n  installType: InstallType,\n  version: string\n): Promise<InstallConfig> {\n  const stats = INSTALL_STATS[installType];\n\n  const config: InstallConfig = {\n    environment: env.id,\n    installType,\n    configPath: env.configPath,\n    version,\n    stats,\n  };\n\n  console.log();\n  console.log(chalk.cyan(`Installing OPUS 67 v${version}...`));\n  console.log();\n\n  // Step 1: Load skills\n  const skillsSpinner = ora({\n    text: `Loading skills (${stats.skills})`,\n    prefixText: '  â”œâ”€â”€',\n  }).start();\n  await sleep(300);\n  skillsSpinner.succeed(`Loading skills (${stats.skills})`);\n\n  // Step 2: Configure MCPs\n  const mcpSpinner = ora({\n    text: `Configuring MCPs (${stats.mcps})`,\n    prefixText: '  â”œâ”€â”€',\n  }).start();\n  await sleep(300);\n  mcpSpinner.succeed(`Configuring MCPs (${stats.mcps})`);\n\n  // Step 3: Setting up modes\n  const modesSpinner = ora({\n    text: `Setting up modes (${stats.modes})`,\n    prefixText: '  â”œâ”€â”€',\n  }).start();\n  await sleep(300);\n  modesSpinner.succeed(`Setting up modes (${stats.modes})`);\n\n  // Step 4: Generate config\n  const configSpinner = ora({\n    text: 'Generating config',\n    prefixText: '  â””â”€â”€',\n  }).start();\n\n  try {\n    writeConfig(config);\n\n    // Also write Claude Desktop MCP config if applicable\n    if (env.id === 'claude-code') {\n      writeClaudeDesktopConfig(config);\n    }\n\n    await sleep(200);\n    configSpinner.succeed(`Generating config`);\n  } catch (error) {\n    configSpinner.fail(`Failed to generate config: ${(error as Error).message}`);\n    throw error;\n  }\n\n  return config;\n}\n\nfunction sleep(ms: number): Promise<void> {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// Status check\nexport function checkInstallationStatus(): {\n  installed: boolean;\n  version?: string;\n  environment?: string;\n  configPath?: string;\n} {\n  // Check for CLAUDE.md in current directory\n  const claudeMdPath = join(process.cwd(), 'CLAUDE.md');\n  if (existsSync(claudeMdPath)) {\n    try {\n      const content = readFileSync(claudeMdPath, 'utf-8');\n      if (content.includes('OPUS 67')) {\n        const versionMatch = content.match(/v(\\d+\\.\\d+\\.\\d+)/);\n        return {\n          installed: true,\n          version: versionMatch?.[1],\n          environment: 'claude-code',\n          configPath: claudeMdPath,\n        };\n      }\n    } catch {\n      // Ignore read errors\n    }\n  }\n\n  // Check for .cursorrules\n  const cursorPath = join(process.cwd(), '.cursorrules');\n  if (existsSync(cursorPath)) {\n    try {\n      const content = readFileSync(cursorPath, 'utf-8');\n      if (content.includes('OPUS 67')) {\n        const versionMatch = content.match(/v(\\d+\\.\\d+\\.\\d+)/);\n        return {\n          installed: true,\n          version: versionMatch?.[1],\n          environment: 'cursor',\n          configPath: cursorPath,\n        };\n      }\n    } catch {\n      // Ignore read errors\n    }\n  }\n\n  // Check for .opus67 directory\n  const opus67Path = join(process.cwd(), '.opus67', 'config.json');\n  if (existsSync(opus67Path)) {\n    try {\n      const config = JSON.parse(readFileSync(opus67Path, 'utf-8'));\n      return {\n        installed: true,\n        version: config.version,\n        environment: config.environment || 'manual',\n        configPath: opus67Path,\n      };\n    } catch {\n      // Ignore parse errors\n    }\n  }\n\n  return { installed: false };\n}\n","import { writeFileSync, mkdirSync, existsSync, readFileSync } from 'fs';\nimport { dirname, join } from 'path';\nimport type { InstallConfig } from './install.js';\n\n// CLAUDE.md template for Claude Code\nexport function generateClaudeMd(config: InstallConfig): string {\n  return `# OPUS 67 - Enhancement Layer (NOT a separate AI)\n\n> **OPUS 67 is NOT a separate AI.** It's YOU (Claude) with superpowers.\n\n\\`\\`\\`\nOPUS 67 â‰  Separate AI\nOPUS 67 = Claude + Enhancement Layer\n\nClaude IS the brain. OPUS 67 = skills + MCPs + modes + memory.\nSame driver, better race car.\n\\`\\`\\`\n\n**Current Version:** v${config.version}\n- **${config.stats.skills} Skills** | **${config.stats.mcps} MCPs** | **${config.stats.modes} Modes** | **${config.stats.agents} Agents**\n\n## What OPUS 67 Gives You\n\n### 1. MCP Server Access (${config.stats.mcps} servers)\nTools you don't normally have:\n- GitHub MCP, Jupiter MCP, Supabase MCP, Sentry MCP, Notion MCP\n- Solana RPC, Anchor Program, Firecrawl, Tavily, Playwright, etc.\n\n### 2. Skills (${config.stats.skills} workflows)\nHow to do complex tasks:\n- GRAB skills (react-grab, theme-grab, db-grab, etc.)\n- Solana skills (token-swap, anchor-interact, chain-query)\n- Research skills (web-search, code-search, company-research)\n\n### 3. Modes (${config.stats.modes} optimized contexts)\n- AUTO, BUILD, REVIEW, ARCHITECT, DEBUG\n- SOLANA, GRAB, CLONE, RESEARCH, CONTEXT\n- ULTRA, THINK, VIBE, LIGHT, SWARM, and more\n\n### 4. Memory\nPersistent context across sessions (Mem0, Qdrant)\n\n## Automatic Behavior\n1. On every task, auto-detect relevant skills\n2. Load detected skills for enhanced context\n3. Apply skill knowledge to the task\n\n**Remember: YOU are the brain. OPUS 67 just makes you faster, cheaper, and more capable.**\n\n---\n\n## Installation Type: ${config.installType}\n\n${config.installType === 'full' ? `\nThis is a **Full Installation** with all capabilities:\n- All 95 specialist skills\n- All 84 MCP connections\n- All 30 operating modes\n- All 82 agents\n` : config.installType === 'solana' ? `\nThis is a **Solana-focused Installation**:\n- Solana development skills\n- Jupiter, Anchor, Helius MCPs\n- SOLANA mode optimized\n` : config.installType === 'frontend' ? `\nThis is a **Frontend-focused Installation**:\n- React, UI/UX skills\n- GRAB skills for visual development\n- BUILD mode optimized\n` : `\nThis is a **Minimal Installation**:\n- Core skills only\n- Essential MCPs\n- AUTO mode\n`}\n\n---\n\n*Generated by create-opus67 v${config.version}*\n`;\n}\n\n// .cursorrules template for Cursor\nexport function generateCursorrules(config: InstallConfig): string {\n  const fullTemplate = `# OPUS 67 v${config.version} - The AI Engine That Ships Code\n\n> You are enhanced with OPUS 67 - ${config.stats.skills} skills, ${config.stats.mcps} MCPs, ${config.stats.agents} agents.\n> OPUS 67 is NOT a separate AI. It's YOU with superpowers. Same driver, better race car.\n\n---\n\n## Core Principle\n\n\\`\\`\\`\nOPUS 67 â‰  Separate AI\nOPUS 67 = You + Enhancement Layer\n\nYou ARE the brain. OPUS 67 gives you:\n- Skills (how to do things)\n- Tools (what to use)\n- Context (when to apply)\n\\`\\`\\`\n\n---\n\n## Context-Aware Skills\n\nLoad skills based on file context:\n\n### Solana/Blockchain (.rs, .anchor, .toml with [programs])\n- **solana-anchor-expert**: PDAs, CPIs, account validation, Anchor macros\n- **jupiter-trader**: Token swaps, route optimization, slippage handling\n- **pump-fun-expert**: Bonding curves, launch mechanics, graduation\n- **token-2022-expert**: Token extensions, transfer hooks, metadata\n- **helius-integration**: RPC, webhooks, DAS API, compression\n\n### TypeScript/React (.tsx, .ts, .jsx)\n- **nextjs-14-expert**: App Router, Server Components, streaming\n- **react-patterns**: Hooks, context, performance optimization\n- **typescript-senior**: Advanced types, generics, utility types\n- **tailwind-expert**: Utility classes, responsive design, animations\n\n### API/Backend (.ts with api/, routes/)\n- **fastify-expert**: Routes, plugins, validation, serialization\n- **prisma-expert**: Schema design, migrations, queries\n- **supabase-expert**: Auth, storage, realtime, edge functions\n\n### Smart Contracts (.sol)\n- **solidity-expert**: OpenZeppelin, gas optimization, security\n- **hardhat-foundry**: Testing, deployment, verification\n\n---\n\n## Specialist Agents\n\nAdopt these personas when relevant:\n\n### Solana DeFi Architect\n- Design bonding curves, AMMs, token economics\n- Implement concentrated liquidity, yield farming\n- Audit for common Solana vulnerabilities\n\n### Anchor Program Builder\n- Structure programs with proper account validation\n- Implement CPIs and composability patterns\n- Write comprehensive test suites\n\n### Frontend Performance Expert\n- Optimize bundle size, lazy loading, code splitting\n- Implement proper caching strategies\n- Profile and fix render bottlenecks\n\n### Security Auditor\n- Review for reentrancy, access control, overflow\n- Check Solana-specific: signer validation, PDA seeds\n- Identify economic attack vectors\n\n---\n\n## Operating Modes\n\nCurrent mode: **AUTO** (detect from context)\n\n| Mode | Trigger | Behavior |\n|------|---------|----------|\n| BUILD | \"build\", \"create\", \"implement\" | Ship fast, working code |\n| REVIEW | \"review\", \"check\", \"audit\" | Thorough analysis |\n| ARCHITECT | \"design\", \"plan\", \"structure\" | System thinking |\n| DEBUG | \"fix\", \"error\", \"bug\" | Root cause analysis |\n| SOLANA | .rs, .anchor, Solana terms | Blockchain-native |\n| GRAB | \"clone\", \"copy\", \"extract\" | Visual-first dev |\n| VIBE | \"quick\", \"fast\", \"ship\" | Minimal friction |\n\n---\n\n## Behavioral Rules\n\n### Always\n- Ship working code over perfect code\n- Use existing patterns in the codebase\n- Validate Solana accounts properly\n- Handle errors gracefully\n\n### Never\n- Introduce security vulnerabilities\n- Skip account validation in Solana\n- Ignore existing code style\n- Over-engineer simple solutions\n\n### Solana-Specific\n- Always validate signer on state-changing operations\n- Use checked math or handle overflow\n- Validate PDA seeds match expected accounts\n- Close accounts to return rent properly\n\n---\n\n## Quick Commands\n\n- \"OPUS status\" â†’ Show current mode and loaded skills\n- \"OPUS build\" â†’ Switch to BUILD mode\n- \"OPUS solana\" â†’ Switch to SOLANA mode\n- \"OPUS vibe\" â†’ Ship fast, iterate later\n\n---\n\n*OPUS 67 v${config.version} | ${config.stats.skills} Skills | ${config.stats.mcps} MCPs | ${config.stats.agents} Agents*\n*Remember: You ARE the brain. OPUS 67 = superpowers.*\n`;\n\n  const solanaTemplate = `# OPUS 67 v${config.version} - Solana Development Mode\n\n> Enhanced with ${config.stats.skills} Solana-focused skills and ${config.stats.agents} blockchain agents.\n\n---\n\n## Solana Skills Active\n\n### Core Development\n- **solana-anchor-expert**: PDAs, CPIs, account structures\n- **jupiter-trader**: Swap integration, route optimization\n- **pump-fun-expert**: Bonding curves, launches\n- **token-2022-expert**: Extensions, hooks, metadata\n\n### Infrastructure\n- **helius-integration**: RPC, webhooks, DAS\n- **solana-testing**: Bankrun, local validator\n\n---\n\n## Security Checklist\n\nAlways validate:\n- [ ] Signer on state changes\n- [ ] PDA seeds match\n- [ ] Account ownership\n- [ ] Checked arithmetic\n- [ ] Rent handling\n\n---\n\n## Mode: SOLANA\n\nOptimized for blockchain development:\n- Anchor program patterns\n- Jupiter swap integration\n- Token launches\n- DeFi mechanics\n\n*OPUS 67 v${config.version} - Solana Edition*\n`;\n\n  const frontendTemplate = `# OPUS 67 v${config.version} - Frontend Development Mode\n\n> Enhanced with ${config.stats.skills} frontend skills for React/Next.js development.\n\n---\n\n## Frontend Skills Active\n\n### React/Next.js\n- **nextjs-14-expert**: App Router, RSC, streaming\n- **react-patterns**: Hooks, context, optimization\n- **typescript-senior**: Type safety, generics\n\n### Styling\n- **tailwind-expert**: Utilities, responsive, animations\n- **framer-motion**: Animations, gestures, layout\n\n### Data\n- **tanstack-query**: Caching, mutations, optimistic updates\n- **zustand-expert**: State management\n\n---\n\n## GRAB Skills\n\nClone UI elements:\n- \"react-grab\" â†’ Extract React components\n- \"theme-grab\" â†’ Extract color schemes\n- \"form-grab\" â†’ Clone form patterns\n\n---\n\n## Mode: BUILD\n\nOptimized for shipping:\n- Working code over perfect code\n- Use existing patterns\n- Minimal dependencies\n\n*OPUS 67 v${config.version} - Frontend Edition*\n`;\n\n  const minimalTemplate = `# OPUS 67 v${config.version}\n\n> AI Enhancement Layer - ${config.stats.skills} skills, ${config.stats.modes} modes\n\n## Core Principle\nYou ARE the brain. OPUS 67 = superpowers.\n\n## Active Mode: AUTO\nDetects best approach from context.\n\n## Skills\nLoaded based on file type and task.\n\n*OPUS 67 v${config.version}*\n`;\n\n  switch (config.installType) {\n    case 'full':\n      return fullTemplate;\n    case 'solana':\n      return solanaTemplate;\n    case 'frontend':\n      return frontendTemplate;\n    case 'minimal':\n    default:\n      return minimalTemplate;\n  }\n}\n\n// .windsurfrules template for Windsurf\nexport function generateWindsurfrules(config: InstallConfig): string {\n  return generateCursorrules(config); // Same format\n}\n\n// Manual config.json\nexport function generateManualConfig(config: InstallConfig): string {\n  return JSON.stringify({\n    version: config.version,\n    installType: config.installType,\n    environment: config.environment,\n    installedAt: new Date().toISOString(),\n    stats: config.stats,\n    paths: {\n      skills: config.skillsPath,\n      mcps: config.mcpsPath,\n      modes: config.modesPath,\n    },\n  }, null, 2);\n}\n\n// Write config to appropriate location\nexport function writeConfig(config: InstallConfig): void {\n  const configPath = config.configPath;\n\n  // Ensure directory exists\n  const dir = dirname(configPath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n\n  let content: string;\n\n  switch (config.environment) {\n    case 'claude-code':\n      content = generateClaudeMd(config);\n      break;\n    case 'cursor':\n      content = generateCursorrules(config);\n      break;\n    case 'windsurf':\n      content = generateWindsurfrules(config);\n      break;\n    case 'vscode':\n    case 'zed':\n    case 'manual':\n    default:\n      content = generateManualConfig(config);\n      break;\n  }\n\n  writeFileSync(configPath, content, 'utf-8');\n}\n\n// Generate MCP config for Claude Desktop\nexport function generateClaudeDesktopMcpConfig(): Record<string, unknown> {\n  return {\n    mcpServers: {\n      opus67: {\n        command: 'npx',\n        args: ['-y', '@gicm/opus67', 'mcp'],\n      },\n    },\n  };\n}\n\n// Write MCP config for Claude Desktop\nexport function writeClaudeDesktopConfig(config: InstallConfig): void {\n  if (config.environment !== 'claude-code') return;\n\n  const home = process.env.HOME || process.env.USERPROFILE || '';\n  let mcpConfigPath: string;\n\n  if (process.platform === 'win32') {\n    mcpConfigPath = join(process.env.APPDATA || '', 'Claude', 'claude_desktop_config.json');\n  } else if (process.platform === 'darwin') {\n    mcpConfigPath = join(home, 'Library', 'Application Support', 'Claude', 'claude_desktop_config.json');\n  } else {\n    mcpConfigPath = join(home, '.config', 'claude', 'claude_desktop_config.json');\n  }\n\n  // Check if file exists and merge\n  let existingConfig: Record<string, unknown> = {};\n  if (existsSync(mcpConfigPath)) {\n    try {\n      existingConfig = JSON.parse(readFileSync(mcpConfigPath, 'utf-8'));\n    } catch {\n      // Ignore parse errors\n    }\n  }\n\n  const mcpConfig = generateClaudeDesktopMcpConfig();\n  const mergedConfig = {\n    ...existingConfig,\n    mcpServers: {\n      ...(existingConfig.mcpServers as Record<string, unknown> || {}),\n      ...mcpConfig.mcpServers,\n    },\n  };\n\n  // Ensure directory exists\n  const dir = dirname(mcpConfigPath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n\n  writeFileSync(mcpConfigPath, JSON.stringify(mergedConfig, null, 2), 'utf-8');\n}\n","import { writeFileSync, mkdirSync, existsSync } from 'fs';\nimport { join } from 'path';\nimport type { InstallType } from './install.js';\n\nexport interface DevContainerConfig {\n  name: string;\n  image: string;\n  features: Record<string, unknown>;\n  postCreateCommand: string;\n  customizations: {\n    vscode?: {\n      extensions: string[];\n      settings: Record<string, unknown>;\n    };\n    codespaces?: {\n      openFiles: string[];\n    };\n  };\n  forwardPorts: number[];\n  remoteUser: string;\n}\n\nexport function isCodespaces(): boolean {\n  return process.env.CODESPACES === 'true' || process.env.GITHUB_CODESPACES_PORT_FORWARDING_DOMAIN !== undefined;\n}\n\nexport function generateDevContainerConfig(installType: InstallType): DevContainerConfig {\n  const baseConfig: DevContainerConfig = {\n    name: `OPUS 67 - ${installType.charAt(0).toUpperCase() + installType.slice(1)} Dev Environment`,\n    image: 'mcr.microsoft.com/devcontainers/typescript-node:1-22-bookworm',\n    features: {\n      'ghcr.io/devcontainers/features/github-cli:1': {},\n      'ghcr.io/devcontainers/features/common-utils:2': {\n        installZsh: true,\n        configureZshAsDefaultShell: true,\n      },\n    },\n    postCreateCommand: `npx create-opus67@latest --type ${installType} --env codespaces --yes && npm install`,\n    customizations: {\n      vscode: {\n        extensions: [\n          'bradlc.vscode-tailwindcss',\n          'dbaeumer.vscode-eslint',\n          'esbenp.prettier-vscode',\n          'prisma.prisma',\n          'ms-azuretools.vscode-docker',\n        ],\n        settings: {\n          'editor.formatOnSave': true,\n          'editor.defaultFormatter': 'esbenp.prettier-vscode',\n          'typescript.preferences.importModuleSpecifier': 'relative',\n        },\n      },\n      codespaces: {\n        openFiles: ['CLAUDE.md'],\n      },\n    },\n    forwardPorts: [3000, 5173, 8080],\n    remoteUser: 'node',\n  };\n\n  // Add install-type-specific features\n  if (installType === 'solana' || installType === 'full') {\n    baseConfig.features['ghcr.io/devcontainers/features/rust:1'] = {\n      version: 'stable',\n      profile: 'default',\n    };\n    baseConfig.postCreateCommand = `sh -c \"curl -sSfL https://release.solana.com/stable/install | sh && export PATH=\\\\\"/home/node/.local/share/solana/install/active_release/bin:\\\\$PATH\\\\\" && ${baseConfig.postCreateCommand}\"`;\n    baseConfig.customizations.vscode!.extensions.push(\n      'rust-lang.rust-analyzer',\n      'serayuzgur.crates',\n      'tamasfe.even-better-toml'\n    );\n  }\n\n  if (installType === 'frontend' || installType === 'full') {\n    baseConfig.customizations.vscode!.extensions.push(\n      'styled-components.vscode-styled-components',\n      'formulahendry.auto-rename-tag',\n      'steoates.autoimport'\n    );\n  }\n\n  return baseConfig;\n}\n\nexport function generatePostCreateScript(installType: InstallType): string {\n  const lines = [\n    '#!/bin/bash',\n    'set -e',\n    '',\n    '# OPUS 67 Codespaces Setup Script',\n    `echo \"Setting up OPUS 67 (${installType} installation)...\"`,\n    '',\n  ];\n\n  if (installType === 'solana' || installType === 'full') {\n    lines.push(\n      '# Install Solana CLI',\n      'if ! command -v solana &> /dev/null; then',\n      '  echo \"Installing Solana CLI...\"',\n      '  sh -c \"$(curl -sSfL https://release.solana.com/stable/install)\"',\n      '  export PATH=\"/home/node/.local/share/solana/install/active_release/bin:$PATH\"',\n      'fi',\n      '',\n      '# Install Anchor',\n      'if ! command -v anchor &> /dev/null; then',\n      '  echo \"Installing Anchor...\"',\n      '  cargo install --git https://github.com/coral-xyz/anchor avm --locked --force',\n      '  avm install latest',\n      '  avm use latest',\n      'fi',\n      ''\n    );\n  }\n\n  lines.push(\n    '# Install OPUS 67',\n    `npx create-opus67@latest --type ${installType} --env codespaces --yes`,\n    '',\n    '# Install project dependencies',\n    'if [ -f \"package.json\" ]; then',\n    '  npm install',\n    'fi',\n    '',\n    'echo \"OPUS 67 setup complete!\"',\n    'echo \"You now have access to 140 skills, 82 MCPs, 30 modes, and 84 agents.\"',\n    ''\n  );\n\n  return lines.join('\\n');\n}\n\nexport function writeDevContainerFiles(installType: InstallType): {\n  devcontainerPath: string;\n  scriptPath: string;\n} {\n  const devcontainerDir = join(process.cwd(), '.devcontainer');\n\n  // Create directory if it doesn't exist\n  if (!existsSync(devcontainerDir)) {\n    mkdirSync(devcontainerDir, { recursive: true });\n  }\n\n  // Write devcontainer.json\n  const config = generateDevContainerConfig(installType);\n  const devcontainerPath = join(devcontainerDir, 'devcontainer.json');\n  writeFileSync(devcontainerPath, JSON.stringify(config, null, 2), 'utf-8');\n\n  // Write post-create script\n  const script = generatePostCreateScript(installType);\n  const scriptPath = join(devcontainerDir, 'post-create.sh');\n  writeFileSync(scriptPath, script, 'utf-8');\n\n  return { devcontainerPath, scriptPath };\n}\n\n// GitHub Codespaces badge markdown\nexport function getCodespacesBadge(repoUrl?: string): string {\n  if (!repoUrl) {\n    return '[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new)';\n  }\n\n  // Extract owner/repo from URL\n  const match = repoUrl.match(/github\\.com\\/([^/]+\\/[^/]+)/);\n  if (!match) {\n    return '[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new)';\n  }\n\n  const repo = match[1].replace(/\\.git$/, '');\n  return `[![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/${repo})`;\n}\n"],"mappings":"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","names":["chalk","chalk","existsSync","readFileSync","join","existsSync","join","chalk","join","existsSync","readFileSync","writeFileSync","mkdirSync","existsSync","join","join","existsSync","mkdirSync","writeFileSync","chalk"]}