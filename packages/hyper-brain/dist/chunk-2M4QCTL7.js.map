{"version":3,"sources":["../src/utils/logger.ts","../src/ingest/scheduler.ts","../src/ingest/sources/base.ts","../src/ingest/sources/crypto/onchain.ts","../src/ingest/sources/ai/arxiv.ts","../src/ingest/sources/ai/github.ts","../src/ingest/sources/social/hackernews.ts","../src/ingest/sources/social/twitter.ts","../src/ingest/sources/business/producthunt.ts","../src/ingest/sources/index.ts","../src/ingest/index.ts","../src/process/embeddings.ts","../src/process/entities.ts","../src/process/summarizer.ts","../src/process/classifier.ts","../src/config.ts","../src/process/index.ts","../src/store/vector/local.ts","../src/store/vector/pinecone.ts","../src/store/vector/qdrant.ts","../src/store/vector/index.ts","../src/store/memory/index.ts","../src/store/index.ts","../src/retrieve/index.ts","../src/learn/index.ts","../src/predict/index.ts","../src/types/index.ts","../src/api/index.ts","../src/index.ts"],"names":["Anthropic","dotenvConfig","fs","join","count","DEFAULT_CONFIG","EventEmitter"],"mappings":"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","file":"chunk-2M4QCTL7.js","sourcesContent":["/**\n * HYPER BRAIN Logger\n */\n\nimport pino from \"pino\";\n\nconst transport = pino.transport({\n  target: \"pino-pretty\",\n  options: {\n    colorize: true,\n    translateTime: \"SYS:standard\",\n    ignore: \"pid,hostname\",\n  },\n});\n\nconst baseLogger = pino(transport);\n\nexport class Logger {\n  private logger: pino.Logger;\n  private prefix: string;\n\n  constructor(prefix: string) {\n    this.prefix = prefix;\n    this.logger = baseLogger.child({ module: prefix });\n  }\n\n  info(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.info(data, `[${this.prefix}] ${message}`);\n    } else {\n      this.logger.info(`[${this.prefix}] ${message}`);\n    }\n  }\n\n  warn(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.warn(data, `[${this.prefix}] ${message}`);\n    } else {\n      this.logger.warn(`[${this.prefix}] ${message}`);\n    }\n  }\n\n  error(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.error(data, `[${this.prefix}] ${message}`);\n    } else {\n      this.logger.error(`[${this.prefix}] ${message}`);\n    }\n  }\n\n  debug(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.debug(data, `[${this.prefix}] ${message}`);\n    } else {\n      this.logger.debug(`[${this.prefix}] ${message}`);\n    }\n  }\n\n  child(bindings: Record<string, unknown>): Logger {\n    const childLogger = new Logger(this.prefix);\n    childLogger.logger = this.logger.child(bindings);\n    return childLogger;\n  }\n}\n\nexport const logger = new Logger(\"HyperBrain\");\n","/**\n * Ingestion Scheduler\n *\n * Schedules data source fetching using node-cron.\n */\n\nimport cron from \"node-cron\";\nimport { Logger } from \"../utils/logger.js\";\n\ninterface ScheduledTask {\n  name: string;\n  interval: number;\n  task: () => Promise<void>;\n  cronJob?: cron.ScheduledTask;\n  lastRun?: number;\n  running: boolean;\n}\n\nexport class Scheduler {\n  private tasks: Map<string, ScheduledTask> = new Map();\n  private logger = new Logger(\"Scheduler\");\n  private isRunning = false;\n\n  /**\n   * Schedule a task to run at interval\n   */\n  schedule(\n    name: string,\n    intervalMs: number,\n    task: () => Promise<void>\n  ): void {\n    this.tasks.set(name, {\n      name,\n      interval: intervalMs,\n      task,\n      running: false,\n    });\n    this.logger.info(`Scheduled task: ${name} (every ${this.formatInterval(intervalMs)})`);\n  }\n\n  /**\n   * Start all scheduled tasks\n   */\n  start(): void {\n    if (this.isRunning) return;\n    this.isRunning = true;\n\n    for (const [name, scheduledTask] of this.tasks) {\n      // Convert interval to cron expression (approximate)\n      const cronExpr = this.intervalToCron(scheduledTask.interval);\n\n      scheduledTask.cronJob = cron.schedule(cronExpr, async () => {\n        if (scheduledTask.running) {\n          this.logger.warn(`Task ${name} already running, skipping`);\n          return;\n        }\n\n        scheduledTask.running = true;\n        const start = Date.now();\n\n        try {\n          await scheduledTask.task();\n          scheduledTask.lastRun = Date.now();\n          this.logger.debug(`Task ${name} completed in ${Date.now() - start}ms`);\n        } catch (error) {\n          this.logger.error(`Task ${name} failed: ${error}`);\n        } finally {\n          scheduledTask.running = false;\n        }\n      });\n\n      this.logger.info(`Started task: ${name}`);\n    }\n\n    this.logger.info(`Scheduler started with ${this.tasks.size} tasks`);\n  }\n\n  /**\n   * Stop all tasks\n   */\n  stop(): void {\n    for (const [name, task] of this.tasks) {\n      if (task.cronJob) {\n        task.cronJob.stop();\n        this.logger.info(`Stopped task: ${name}`);\n      }\n    }\n    this.isRunning = false;\n    this.logger.info(\"Scheduler stopped\");\n  }\n\n  /**\n   * Run a specific task immediately\n   */\n  async runNow(name: string): Promise<void> {\n    const task = this.tasks.get(name);\n    if (!task) {\n      throw new Error(`Task not found: ${name}`);\n    }\n\n    if (task.running) {\n      this.logger.warn(`Task ${name} already running`);\n      return;\n    }\n\n    task.running = true;\n    try {\n      await task.task();\n      task.lastRun = Date.now();\n    } finally {\n      task.running = false;\n    }\n  }\n\n  /**\n   * Run all tasks immediately\n   */\n  async runAll(): Promise<void> {\n    const tasks = Array.from(this.tasks.keys());\n    await Promise.all(tasks.map((name) => this.runNow(name)));\n  }\n\n  /**\n   * Get task status\n   */\n  getStatus(): { name: string; lastRun?: number; running: boolean; interval: number }[] {\n    return Array.from(this.tasks.values()).map((task) => ({\n      name: task.name,\n      lastRun: task.lastRun,\n      running: task.running,\n      interval: task.interval,\n    }));\n  }\n\n  /**\n   * Convert interval (ms) to cron expression\n   */\n  private intervalToCron(intervalMs: number): string {\n    const minutes = Math.floor(intervalMs / 60000);\n\n    if (minutes < 1) {\n      // Run every minute for sub-minute intervals\n      return \"* * * * *\";\n    } else if (minutes < 60) {\n      // Every N minutes\n      return `*/${minutes} * * * *`;\n    } else {\n      const hours = Math.floor(minutes / 60);\n      if (hours < 24) {\n        // Every N hours\n        return `0 */${hours} * * *`;\n      } else {\n        // Every day at midnight\n        return \"0 0 * * *\";\n      }\n    }\n  }\n\n  /**\n   * Format interval for display\n   */\n  private formatInterval(ms: number): string {\n    if (ms < 60000) return `${ms / 1000}s`;\n    if (ms < 3600000) return `${ms / 60000}m`;\n    return `${ms / 3600000}h`;\n  }\n}\n","/**\n * Base Data Source\n *\n * Abstract base class for all data sources.\n */\n\nimport { Logger } from \"../../utils/logger.js\";\nimport type { RawItem, SourceType, DataSourceConfig } from \"../../types/index.js\";\n\nexport abstract class BaseSource implements DataSourceConfig {\n  abstract name: string;\n  abstract type: SourceType;\n  abstract interval: number;\n\n  enabled: boolean = true;\n  priority: number = 50;\n  rateLimit?: { requests: number; window: number };\n\n  protected logger: Logger;\n  protected requestCount: number = 0;\n  protected windowStart: number = Date.now();\n\n  constructor() {\n    this.logger = new Logger(this.constructor.name);\n  }\n\n  /**\n   * Fetch raw items from this source\n   */\n  abstract fetch(): Promise<RawItem[]>;\n\n  /**\n   * Check if rate limit allows request\n   */\n  protected checkRateLimit(): boolean {\n    if (!this.rateLimit) return true;\n\n    const now = Date.now();\n    if (now - this.windowStart > this.rateLimit.window) {\n      // Reset window\n      this.windowStart = now;\n      this.requestCount = 0;\n    }\n\n    if (this.requestCount >= this.rateLimit.requests) {\n      this.logger.warn(`Rate limit reached for ${this.name}`);\n      return false;\n    }\n\n    this.requestCount++;\n    return true;\n  }\n\n  /**\n   * Make a rate-limited fetch request\n   */\n  protected async rateLimitedFetch(url: string, options?: RequestInit): Promise<Response> {\n    if (!this.checkRateLimit()) {\n      throw new Error(`Rate limit exceeded for ${this.name}`);\n    }\n    return fetch(url, options);\n  }\n\n  /**\n   * Generate unique ID for item\n   */\n  protected generateId(prefix: string, identifier: string): string {\n    return `${prefix}:${identifier}`;\n  }\n\n  /**\n   * Get source config\n   */\n  getConfig(): DataSourceConfig {\n    return {\n      name: this.name,\n      type: this.type,\n      interval: this.interval,\n      enabled: this.enabled,\n      priority: this.priority,\n      rateLimit: this.rateLimit,\n    };\n  }\n}\n\nexport { RawItem };\n","/**\n * On-Chain Data Source\n *\n * Ingests blockchain data from Helius, pump.fun, etc.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport type { SourceType } from \"../../../types/index.js\";\n\nexport class OnChainSource extends BaseSource {\n  name = \"onchain\";\n  type: SourceType = \"onchain\";\n  interval = 60 * 1000; // Every minute\n\n  private heliusApiKey: string;\n  private trackedWallets: string[] = [];\n\n  constructor() {\n    super();\n    this.heliusApiKey = process.env.HELIUS_API_KEY || \"\";\n    this.rateLimit = { requests: 30, window: 60000 };\n    this.loadTrackedWallets();\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    // Fetch new token deployments from pump.fun\n    const pumpTokens = await this.fetchPumpFunTokens();\n    items.push(...pumpTokens);\n\n    // Fetch whale transactions if API key available\n    if (this.heliusApiKey) {\n      const whaleTransactions = await this.fetchWhaleTransactions();\n      items.push(...whaleTransactions);\n    }\n\n    return items;\n  }\n\n  private async fetchPumpFunTokens(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    try {\n      const response = await this.rateLimitedFetch(\n        \"https://frontend-api.pump.fun/coins/latest?limit=50\"\n      );\n\n      if (!response.ok) {\n        this.logger.warn(`pump.fun API returned ${response.status}`);\n        return items;\n      }\n\n      const tokens = await response.json() as Array<{\n        mint: string;\n        name: string;\n        symbol: string;\n        description?: string;\n        creator: string;\n        usd_market_cap?: number;\n        created_timestamp: string;\n        twitter?: string;\n        telegram?: string;\n        website?: string;\n      }>;\n\n      for (const token of tokens) {\n        items.push({\n          id: this.generateId(\"pumpfun\", token.mint),\n          source: \"pumpfun\",\n          type: \"token_launch\",\n          content: `New token: ${token.name} (${token.symbol})${token.description ? ` - ${token.description}` : \"\"}`,\n          metadata: {\n            mint: token.mint,\n            name: token.name,\n            symbol: token.symbol,\n            creator: token.creator,\n            marketCap: token.usd_market_cap,\n            twitter: token.twitter,\n            telegram: token.telegram,\n            website: token.website,\n          },\n          timestamp: new Date(token.created_timestamp).getTime(),\n        });\n      }\n\n      this.logger.info(`Fetched ${items.length} tokens from pump.fun`);\n    } catch (error) {\n      this.logger.error(`Failed to fetch pump.fun tokens: ${error}`);\n    }\n\n    return items;\n  }\n\n  private async fetchWhaleTransactions(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    for (const wallet of this.trackedWallets.slice(0, 5)) {\n      try {\n        const response = await this.rateLimitedFetch(\n          `https://api.helius.xyz/v0/addresses/${wallet}/transactions?api-key=${this.heliusApiKey}&limit=10`\n        );\n\n        if (!response.ok) continue;\n\n        const transactions = await response.json() as Array<{\n          signature: string;\n          type: string;\n          timestamp: number;\n          description?: string;\n          tokenTransfers?: Array<{\n            mint: string;\n            tokenAmount: number;\n            fromUserAccount: string;\n            toUserAccount: string;\n          }>;\n        }>;\n\n        for (const tx of transactions) {\n          if (this.isSignificantTransaction(tx)) {\n            items.push({\n              id: this.generateId(\"helius\", tx.signature),\n              source: \"helius\",\n              type: \"transaction\",\n              content: tx.description || `Whale transaction: ${tx.type}`,\n              metadata: {\n                signature: tx.signature,\n                wallet,\n                type: tx.type,\n                tokenTransfers: tx.tokenTransfers,\n              },\n              timestamp: tx.timestamp * 1000,\n            });\n          }\n        }\n      } catch (error) {\n        this.logger.error(`Failed to fetch wallet ${wallet.slice(0, 8)}...: ${error}`);\n      }\n    }\n\n    return items;\n  }\n\n  private isSignificantTransaction(tx: { tokenTransfers?: Array<{ tokenAmount: number }> }): boolean {\n    // Filter for significant transactions (large amounts)\n    if (tx.tokenTransfers && tx.tokenTransfers.length > 0) {\n      return tx.tokenTransfers.some((t) => t.tokenAmount > 10000);\n    }\n    return false;\n  }\n\n  private loadTrackedWallets(): void {\n    // Well-known whale wallets (placeholders - would be real addresses)\n    this.trackedWallets = [\n      // Add tracked wallet addresses here\n    ];\n  }\n}\n","/**\n * arXiv Data Source\n *\n * Ingests latest AI/ML research papers.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport { XMLParser } from \"fast-xml-parser\";\nimport type { SourceType } from \"../../../types/index.js\";\n\nexport class ArxivSource extends BaseSource {\n  name = \"arxiv\";\n  type: SourceType = \"paper\";\n  interval = 6 * 60 * 60 * 1000; // Every 6 hours\n\n  private parser = new XMLParser({\n    ignoreAttributes: false,\n    attributeNamePrefix: \"@_\",\n  });\n\n  private categories = [\n    \"cs.AI\",  // Artificial Intelligence\n    \"cs.LG\",  // Machine Learning\n    \"cs.CL\",  // Computation and Language\n    \"cs.CV\",  // Computer Vision\n    \"cs.NE\",  // Neural and Evolutionary Computing\n  ];\n\n  constructor() {\n    super();\n    this.rateLimit = { requests: 10, window: 60000 };\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    for (const category of this.categories) {\n      try {\n        const papers = await this.fetchCategory(category);\n        items.push(...papers);\n      } catch (error) {\n        this.logger.error(`Failed to fetch ${category}: ${error}`);\n      }\n    }\n\n    this.logger.info(`Fetched ${items.length} papers from arXiv`);\n    return items;\n  }\n\n  private async fetchCategory(category: string): Promise<RawItem[]> {\n    const url = `http://export.arxiv.org/api/query?search_query=cat:${category}&sortBy=lastUpdatedDate&sortOrder=descending&max_results=20`;\n\n    const response = await this.rateLimitedFetch(url);\n    if (!response.ok) {\n      throw new Error(`arXiv API returned ${response.status}`);\n    }\n\n    const xml = await response.text();\n    const data = this.parser.parse(xml);\n\n    const entries = data.feed?.entry || [];\n    const items: RawItem[] = [];\n\n    const entryArray = Array.isArray(entries) ? entries : [entries];\n\n    for (const entry of entryArray) {\n      if (!entry?.id) continue;\n\n      const arxivId = entry.id.split(\"/abs/\")[1] || entry.id;\n\n      items.push({\n        id: this.generateId(\"arxiv\", arxivId),\n        source: this.name,\n        type: \"paper\",\n        content: `${entry.title || \"Untitled\"}\\n\\n${entry.summary || \"\"}`,\n        metadata: {\n          title: entry.title?.replace(/\\s+/g, \" \").trim(),\n          authors: this.parseAuthors(entry.author),\n          categories: this.parseCategories(entry.category),\n          pdfUrl: `https://arxiv.org/pdf/${arxivId}.pdf`,\n          arxivUrl: `https://arxiv.org/abs/${arxivId}`,\n          arxivId,\n        },\n        timestamp: new Date(entry.updated || entry.published || Date.now()).getTime(),\n      });\n    }\n\n    return items;\n  }\n\n  private parseAuthors(authors: unknown): string[] {\n    if (Array.isArray(authors)) {\n      return authors.map((a) => (typeof a === \"object\" && a && \"name\" in a ? String(a.name) : \"\")).filter(Boolean);\n    }\n    if (typeof authors === \"object\" && authors && \"name\" in authors) {\n      return [String(authors.name)];\n    }\n    return [];\n  }\n\n  private parseCategories(categories: unknown): string[] {\n    if (Array.isArray(categories)) {\n      return categories.map((c) => (typeof c === \"object\" && c && \"@_term\" in c ? String(c[\"@_term\"]) : \"\")).filter(Boolean);\n    }\n    if (typeof categories === \"object\" && categories && \"@_term\" in categories) {\n      return [String(categories[\"@_term\"])];\n    }\n    return [];\n  }\n}\n","/**\n * GitHub Trending Source\n *\n * Ingests trending repositories.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport type { SourceType } from \"../../../types/index.js\";\n\nexport class GitHubSource extends BaseSource {\n  name = \"github\";\n  type: SourceType = \"github\";\n  interval = 60 * 60 * 1000; // Every hour\n\n  private languages = [\"python\", \"typescript\", \"rust\", \"go\"];\n  private topics = [\"ai\", \"llm\", \"agent\", \"solana\", \"defi\", \"web3\"];\n\n  constructor() {\n    super();\n    this.rateLimit = { requests: 30, window: 60000 };\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    // Fetch trending for each language\n    for (const language of this.languages) {\n      try {\n        const repos = await this.fetchTrending(language);\n        items.push(...repos);\n      } catch (error) {\n        this.logger.error(`Failed to fetch trending ${language}: ${error}`);\n      }\n    }\n\n    // Fetch by topics\n    for (const topic of this.topics) {\n      try {\n        const repos = await this.searchByTopic(topic);\n        items.push(...repos);\n      } catch (error) {\n        this.logger.error(`Failed to search topic ${topic}: ${error}`);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    const unique = items.filter((item) => {\n      if (seen.has(item.id)) return false;\n      seen.add(item.id);\n      return true;\n    });\n\n    this.logger.info(`Fetched ${unique.length} repos from GitHub`);\n    return unique;\n  }\n\n  private async fetchTrending(language: string): Promise<RawItem[]> {\n    // GitHub doesn't have official trending API, use search with recent stars\n    const since = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n    const url = `https://api.github.com/search/repositories?q=language:${language}+created:>${since}&sort=stars&order=desc&per_page=20`;\n\n    const response = await this.rateLimitedFetch(url, {\n      headers: {\n        Accept: \"application/vnd.github.v3+json\",\n        ...(process.env.GITHUB_TOKEN && {\n          Authorization: `token ${process.env.GITHUB_TOKEN}`,\n        }),\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`GitHub API returned ${response.status}`);\n    }\n\n    const data = await response.json() as {\n      items: Array<{\n        id: number;\n        full_name: string;\n        description: string | null;\n        html_url: string;\n        stargazers_count: number;\n        forks_count: number;\n        language: string | null;\n        topics: string[];\n        created_at: string;\n        updated_at: string;\n        owner: { login: string };\n      }>;\n    };\n\n    return data.items.map((repo) => ({\n      id: this.generateId(\"github\", repo.full_name),\n      source: this.name,\n      type: \"code\",\n      content: `${repo.full_name}: ${repo.description || \"No description\"}`,\n      metadata: {\n        fullName: repo.full_name,\n        description: repo.description,\n        url: repo.html_url,\n        stars: repo.stargazers_count,\n        forks: repo.forks_count,\n        language: repo.language,\n        topics: repo.topics,\n        owner: repo.owner.login,\n      },\n      timestamp: new Date(repo.updated_at || repo.created_at).getTime(),\n    }));\n  }\n\n  private async searchByTopic(topic: string): Promise<RawItem[]> {\n    const url = `https://api.github.com/search/repositories?q=topic:${topic}&sort=updated&order=desc&per_page=15`;\n\n    const response = await this.rateLimitedFetch(url, {\n      headers: {\n        Accept: \"application/vnd.github.v3+json\",\n        ...(process.env.GITHUB_TOKEN && {\n          Authorization: `token ${process.env.GITHUB_TOKEN}`,\n        }),\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error(`GitHub API returned ${response.status}`);\n    }\n\n    const data = await response.json() as {\n      items: Array<{\n        id: number;\n        full_name: string;\n        description: string | null;\n        html_url: string;\n        stargazers_count: number;\n        forks_count: number;\n        language: string | null;\n        topics: string[];\n        created_at: string;\n        updated_at: string;\n        owner: { login: string };\n      }>;\n    };\n\n    return data.items.map((repo) => ({\n      id: this.generateId(\"github\", repo.full_name),\n      source: this.name,\n      type: \"code\",\n      content: `${repo.full_name}: ${repo.description || \"No description\"}`,\n      metadata: {\n        fullName: repo.full_name,\n        description: repo.description,\n        url: repo.html_url,\n        stars: repo.stargazers_count,\n        forks: repo.forks_count,\n        language: repo.language,\n        topics: repo.topics,\n        owner: repo.owner.login,\n        searchTopic: topic,\n      },\n      timestamp: new Date(repo.updated_at || repo.created_at).getTime(),\n    }));\n  }\n}\n","/**\n * Hacker News Source\n *\n * Ingests top stories and comments.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport type { SourceType } from \"../../../types/index.js\";\n\ninterface HNStory {\n  id: number;\n  title: string;\n  text?: string;\n  url?: string;\n  score: number;\n  descendants?: number;\n  by: string;\n  time: number;\n  type: string;\n}\n\nexport class HackerNewsSource extends BaseSource {\n  name = \"hackernews\";\n  type: SourceType = \"hackernews\";\n  interval = 15 * 60 * 1000; // Every 15 minutes\n\n  private baseUrl = \"https://hacker-news.firebaseio.com/v0\";\n\n  constructor() {\n    super();\n    this.rateLimit = { requests: 100, window: 60000 };\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    // Top stories\n    const topStories = await this.fetchTopStories();\n    items.push(...topStories);\n\n    // New stories\n    const newStories = await this.fetchNewStories();\n    items.push(...newStories);\n\n    // Show HN\n    const showHN = await this.fetchShowHN();\n    items.push(...showHN);\n\n    // Ask HN\n    const askHN = await this.fetchAskHN();\n    items.push(...askHN);\n\n    // Deduplicate\n    const seen = new Set<string>();\n    const unique = items.filter((item) => {\n      if (seen.has(item.id)) return false;\n      seen.add(item.id);\n      return true;\n    });\n\n    this.logger.info(`Fetched ${unique.length} stories from Hacker News`);\n    return unique;\n  }\n\n  private async fetchTopStories(): Promise<RawItem[]> {\n    const response = await this.rateLimitedFetch(`${this.baseUrl}/topstories.json`);\n    const ids = (await response.json()) as number[];\n    return this.fetchStories(ids.slice(0, 30), \"top\");\n  }\n\n  private async fetchNewStories(): Promise<RawItem[]> {\n    const response = await this.rateLimitedFetch(`${this.baseUrl}/newstories.json`);\n    const ids = (await response.json()) as number[];\n    return this.fetchStories(ids.slice(0, 20), \"new\");\n  }\n\n  private async fetchShowHN(): Promise<RawItem[]> {\n    const response = await this.rateLimitedFetch(`${this.baseUrl}/showstories.json`);\n    const ids = (await response.json()) as number[];\n    return this.fetchStories(ids.slice(0, 15), \"show\");\n  }\n\n  private async fetchAskHN(): Promise<RawItem[]> {\n    const response = await this.rateLimitedFetch(`${this.baseUrl}/askstories.json`);\n    const ids = (await response.json()) as number[];\n    return this.fetchStories(ids.slice(0, 10), \"ask\");\n  }\n\n  private async fetchStories(ids: number[], category: string): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    // Fetch in batches of 10 for parallelism\n    const batchSize = 10;\n    for (let i = 0; i < ids.length; i += batchSize) {\n      const batch = ids.slice(i, i + batchSize);\n      const results = await Promise.allSettled(\n        batch.map((id) => this.fetchStory(id))\n      );\n\n      for (const result of results) {\n        if (result.status === \"fulfilled\" && result.value) {\n          const story = result.value;\n          items.push({\n            id: this.generateId(\"hn\", story.id.toString()),\n            source: this.name,\n            type: \"post\",\n            content: `${story.title}\\n\\n${story.text || story.url || \"\"}`,\n            metadata: {\n              category,\n              title: story.title,\n              url: story.url,\n              score: story.score,\n              comments: story.descendants || 0,\n              author: story.by,\n              hnUrl: `https://news.ycombinator.com/item?id=${story.id}`,\n              type: story.type,\n            },\n            timestamp: story.time * 1000,\n          });\n        }\n      }\n    }\n\n    return items;\n  }\n\n  private async fetchStory(id: number): Promise<HNStory | null> {\n    try {\n      const response = await this.rateLimitedFetch(`${this.baseUrl}/item/${id}.json`);\n      if (!response.ok) return null;\n      return (await response.json()) as HNStory;\n    } catch {\n      return null;\n    }\n  }\n}\n","/**\n * Twitter/X Source\n *\n * Ingests tweets from crypto/AI influencers.\n * Note: Requires Twitter API v2 Bearer Token.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport type { SourceType } from \"../../../types/index.js\";\n\nexport class TwitterSource extends BaseSource {\n  name = \"twitter\";\n  type: SourceType = \"twitter\";\n  interval = 5 * 60 * 1000; // Every 5 minutes\n\n  private bearerToken: string;\n\n  // Tracked accounts (would be much longer in production)\n  private trackedAccounts = [\n    // AI\n    \"AnthropicAI\", \"OpenAI\", \"GoogleDeepMind\",\n    // Crypto\n    \"solaborator\", \"CryptoHayes\", \"DegenSpartan\",\n    // Dev\n    \"levelsio\", \"raaborash\", \"swyx\",\n  ];\n\n  // Keywords to track\n  private keywords = [\n    \"claude\", \"gpt\", \"llm\", \"ai agent\",\n    \"solana\", \"$sol\", \"memecoin\", \"pump.fun\",\n    \"cursor\", \"copilot\", \"autonomous\",\n  ];\n\n  constructor() {\n    super();\n    this.bearerToken = process.env.TWITTER_BEARER_TOKEN || \"\";\n    this.rateLimit = { requests: 15, window: 15 * 60 * 1000 }; // Twitter rate limits\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    if (!this.bearerToken) {\n      this.logger.warn(\"Twitter Bearer Token not configured, skipping\");\n      return [];\n    }\n\n    const items: RawItem[] = [];\n\n    // Fetch from tracked accounts\n    for (const account of this.trackedAccounts.slice(0, 5)) {\n      try {\n        const tweets = await this.fetchUserTweets(account);\n        items.push(...tweets);\n      } catch (error) {\n        this.logger.error(`Failed to fetch @${account}: ${error}`);\n      }\n    }\n\n    // Search keywords\n    for (const keyword of this.keywords.slice(0, 3)) {\n      try {\n        const tweets = await this.searchTweets(keyword);\n        items.push(...tweets);\n      } catch (error) {\n        this.logger.error(`Failed to search \"${keyword}\": ${error}`);\n      }\n    }\n\n    // Deduplicate\n    const seen = new Set<string>();\n    const unique = items.filter((item) => {\n      if (seen.has(item.id)) return false;\n      seen.add(item.id);\n      return true;\n    });\n\n    this.logger.info(`Fetched ${unique.length} tweets from Twitter`);\n    return unique;\n  }\n\n  private async fetchUserTweets(username: string): Promise<RawItem[]> {\n    // First get user ID\n    const userResponse = await this.rateLimitedFetch(\n      `https://api.twitter.com/2/users/by/username/${username}`,\n      {\n        headers: {\n          Authorization: `Bearer ${this.bearerToken}`,\n        },\n      }\n    );\n\n    if (!userResponse.ok) {\n      throw new Error(`Failed to get user ${username}`);\n    }\n\n    const userData = await userResponse.json() as { data?: { id: string } };\n    if (!userData.data?.id) return [];\n\n    // Then get tweets\n    const tweetsResponse = await this.rateLimitedFetch(\n      `https://api.twitter.com/2/users/${userData.data.id}/tweets?max_results=10&tweet.fields=created_at,public_metrics`,\n      {\n        headers: {\n          Authorization: `Bearer ${this.bearerToken}`,\n        },\n      }\n    );\n\n    if (!tweetsResponse.ok) {\n      throw new Error(`Failed to get tweets for ${username}`);\n    }\n\n    const tweetsData = await tweetsResponse.json() as {\n      data?: Array<{\n        id: string;\n        text: string;\n        created_at?: string;\n        public_metrics?: {\n          like_count: number;\n          retweet_count: number;\n          reply_count: number;\n        };\n      }>;\n    };\n\n    return (tweetsData.data || []).map((tweet) => ({\n      id: this.generateId(\"twitter\", tweet.id),\n      source: this.name,\n      type: \"tweet\",\n      content: tweet.text,\n      metadata: {\n        author: username,\n        tweetId: tweet.id,\n        likes: tweet.public_metrics?.like_count || 0,\n        retweets: tweet.public_metrics?.retweet_count || 0,\n        replies: tweet.public_metrics?.reply_count || 0,\n        url: `https://twitter.com/${username}/status/${tweet.id}`,\n      },\n      timestamp: tweet.created_at\n        ? new Date(tweet.created_at).getTime()\n        : Date.now(),\n    }));\n  }\n\n  private async searchTweets(query: string): Promise<RawItem[]> {\n    const encodedQuery = encodeURIComponent(query);\n    const response = await this.rateLimitedFetch(\n      `https://api.twitter.com/2/tweets/search/recent?query=${encodedQuery}&max_results=20&tweet.fields=created_at,public_metrics,author_id`,\n      {\n        headers: {\n          Authorization: `Bearer ${this.bearerToken}`,\n        },\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`Search failed for \"${query}\"`);\n    }\n\n    const data = await response.json() as {\n      data?: Array<{\n        id: string;\n        text: string;\n        author_id?: string;\n        created_at?: string;\n        public_metrics?: {\n          like_count: number;\n          retweet_count: number;\n          reply_count: number;\n        };\n      }>;\n    };\n\n    return (data.data || []).map((tweet) => ({\n      id: this.generateId(\"twitter\", tweet.id),\n      source: this.name,\n      type: \"tweet\",\n      content: tweet.text,\n      metadata: {\n        query,\n        tweetId: tweet.id,\n        authorId: tweet.author_id,\n        likes: tweet.public_metrics?.like_count || 0,\n        retweets: tweet.public_metrics?.retweet_count || 0,\n        replies: tweet.public_metrics?.reply_count || 0,\n      },\n      timestamp: tweet.created_at\n        ? new Date(tweet.created_at).getTime()\n        : Date.now(),\n    }));\n  }\n}\n","/**\n * Product Hunt Source\n *\n * Ingests trending products and launches.\n */\n\nimport { BaseSource, RawItem } from \"../base.js\";\nimport type { SourceType } from \"../../../types/index.js\";\n\nexport class ProductHuntSource extends BaseSource {\n  name = \"producthunt\";\n  type: SourceType = \"producthunt\";\n  interval = 60 * 60 * 1000; // Every hour\n\n  constructor() {\n    super();\n    this.rateLimit = { requests: 10, window: 60000 };\n  }\n\n  async fetch(): Promise<RawItem[]> {\n    const items: RawItem[] = [];\n\n    try {\n      // Product Hunt GraphQL API\n      const response = await this.rateLimitedFetch(\n        \"https://api.producthunt.com/v2/api/graphql\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            ...(process.env.PRODUCTHUNT_TOKEN && {\n              Authorization: `Bearer ${process.env.PRODUCTHUNT_TOKEN}`,\n            }),\n          },\n          body: JSON.stringify({\n            query: `\n              query {\n                posts(first: 30, order: VOTES) {\n                  edges {\n                    node {\n                      id\n                      name\n                      tagline\n                      description\n                      url\n                      website\n                      votesCount\n                      commentsCount\n                      createdAt\n                      topics {\n                        edges {\n                          node {\n                            name\n                          }\n                        }\n                      }\n                      makers {\n                        name\n                        username\n                      }\n                    }\n                  }\n                }\n              }\n            `,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        // Fallback to scraping if API not available\n        this.logger.warn(\"Product Hunt API unavailable, using fallback\");\n        return items;\n      }\n\n      const data = await response.json() as {\n        data?: {\n          posts?: {\n            edges?: Array<{\n              node: {\n                id: string;\n                name: string;\n                tagline: string;\n                description?: string;\n                url: string;\n                website?: string;\n                votesCount: number;\n                commentsCount: number;\n                createdAt: string;\n                topics?: { edges?: Array<{ node: { name: string } }> };\n                makers?: Array<{ name: string; username: string }>;\n              };\n            }>;\n          };\n        };\n      };\n\n      const posts = data?.data?.posts?.edges || [];\n\n      for (const { node: product } of posts) {\n        const topics = product.topics?.edges?.map((e) => e.node.name) || [];\n        const makers = product.makers?.map((m) => m.name) || [];\n\n        items.push({\n          id: this.generateId(\"producthunt\", product.id),\n          source: this.name,\n          type: \"announcement\",\n          content: `${product.name}: ${product.tagline}\\n\\n${product.description || \"\"}`,\n          metadata: {\n            productId: product.id,\n            name: product.name,\n            tagline: product.tagline,\n            url: product.url,\n            website: product.website,\n            votes: product.votesCount,\n            comments: product.commentsCount,\n            topics,\n            makers,\n          },\n          timestamp: new Date(product.createdAt).getTime(),\n        });\n      }\n\n      this.logger.info(`Fetched ${items.length} products from Product Hunt`);\n    } catch (error) {\n      this.logger.error(`Failed to fetch Product Hunt: ${error}`);\n    }\n\n    return items;\n  }\n}\n","/**\n * Source Registry\n *\n * Manages all data sources.\n */\n\nimport { BaseSource } from \"./base.js\";\nimport { OnChainSource } from \"./crypto/onchain.js\";\nimport { ArxivSource } from \"./ai/arxiv.js\";\nimport { GitHubSource } from \"./ai/github.js\";\nimport { HackerNewsSource } from \"./social/hackernews.js\";\nimport { TwitterSource } from \"./social/twitter.js\";\nimport { ProductHuntSource } from \"./business/producthunt.js\";\nimport { Logger } from \"../../utils/logger.js\";\n\nexport class SourceRegistry {\n  private sources: Map<string, BaseSource> = new Map();\n  private logger = new Logger(\"SourceRegistry\");\n\n  /**\n   * Register all available sources\n   */\n  async registerAll(): Promise<void> {\n    // Crypto sources\n    this.register(new OnChainSource());\n\n    // AI sources\n    this.register(new ArxivSource());\n    this.register(new GitHubSource());\n\n    // Social sources\n    this.register(new HackerNewsSource());\n    this.register(new TwitterSource());\n\n    // Business sources\n    this.register(new ProductHuntSource());\n\n    this.logger.info(`Registered ${this.sources.size} data sources`);\n  }\n\n  /**\n   * Register a single source\n   */\n  register(source: BaseSource): void {\n    if (!source.enabled) {\n      this.logger.info(`Source ${source.name} is disabled, skipping`);\n      return;\n    }\n\n    this.sources.set(source.name, source);\n    this.logger.info(`Registered source: ${source.name} (${source.type})`);\n  }\n\n  /**\n   * Get a source by name\n   */\n  get(name: string): BaseSource | undefined {\n    return this.sources.get(name);\n  }\n\n  /**\n   * Get all sources\n   */\n  getAll(): BaseSource[] {\n    return Array.from(this.sources.values());\n  }\n\n  /**\n   * Get source count\n   */\n  count(): number {\n    return this.sources.size;\n  }\n\n  /**\n   * Get sources by type\n   */\n  getByType(type: string): BaseSource[] {\n    return this.getAll().filter((s) => s.type === type);\n  }\n\n  /**\n   * Get sources sorted by priority\n   */\n  getByPriority(): BaseSource[] {\n    return this.getAll().sort((a, b) => b.priority - a.priority);\n  }\n}\n\n// Re-export\nexport { BaseSource, type RawItem } from \"./base.js\";\nexport { OnChainSource } from \"./crypto/onchain.js\";\nexport { ArxivSource } from \"./ai/arxiv.js\";\nexport { GitHubSource } from \"./ai/github.js\";\nexport { HackerNewsSource } from \"./social/hackernews.js\";\nexport { TwitterSource } from \"./social/twitter.js\";\nexport { ProductHuntSource } from \"./business/producthunt.js\";\n","/**\n * Ingestion Orchestrator\n *\n * Coordinates all data source ingestion.\n */\n\nimport { EventEmitter } from \"eventemitter3\";\nimport { Scheduler } from \"./scheduler.js\";\nimport { SourceRegistry, RawItem } from \"./sources/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nimport type { KnowledgeItem } from \"../types/index.js\";\n\ninterface IngestEvents {\n  \"item:ingested\": (item: RawItem) => void;\n  \"batch:complete\": (source: string, count: number) => void;\n  \"error\": (source: string, error: Error) => void;\n}\n\nexport interface IngestStats {\n  totalIngested: number;\n  bySource: Record<string, number>;\n  errors: number;\n  lastRun: Record<string, number>;\n}\n\nexport class IngestOrchestrator extends EventEmitter<IngestEvents> {\n  private scheduler: Scheduler;\n  private sources: SourceRegistry;\n  private logger = new Logger(\"Ingest\");\n  private isRunning = false;\n\n  private stats: IngestStats = {\n    totalIngested: 0,\n    bySource: {},\n    errors: 0,\n    lastRun: {},\n  };\n\n  // Store for raw items (processed items go to storage layer)\n  private rawItems: RawItem[] = [];\n  private maxRawItems = 10000;\n\n  constructor() {\n    super();\n    this.scheduler = new Scheduler();\n    this.sources = new SourceRegistry();\n  }\n\n  /**\n   * Start ingestion\n   */\n  async start(): Promise<void> {\n    if (this.isRunning) return;\n    this.isRunning = true;\n\n    this.logger.info(\"Starting HYPER BRAIN ingestion...\");\n\n    // Register all sources\n    await this.sources.registerAll();\n\n    // Schedule each source\n    for (const source of this.sources.getAll()) {\n      this.scheduler.schedule(\n        source.name,\n        source.interval,\n        async () => { await this.ingestSource(source.name); }\n      );\n    }\n\n    // Start scheduler\n    this.scheduler.start();\n\n    // Run initial ingestion\n    await this.ingestAll();\n\n    this.logger.info(`Ingestion started: ${this.sources.count()} sources`);\n  }\n\n  /**\n   * Stop ingestion\n   */\n  stop(): void {\n    this.scheduler.stop();\n    this.isRunning = false;\n    this.logger.info(\"Ingestion stopped\");\n  }\n\n  /**\n   * Ingest from a specific source\n   */\n  async ingestSource(sourceName: string): Promise<number> {\n    const source = this.sources.get(sourceName);\n    if (!source) {\n      this.logger.error(`Unknown source: ${sourceName}`);\n      return 0;\n    }\n\n    this.logger.info(`Ingesting: ${sourceName}`);\n\n    try {\n      // Fetch raw data\n      const rawItems = await source.fetch();\n\n      // Store items\n      for (const item of rawItems) {\n        this.addRawItem(item);\n        this.emit(\"item:ingested\", item);\n      }\n\n      // Update stats\n      this.stats.totalIngested += rawItems.length;\n      this.stats.bySource[sourceName] =\n        (this.stats.bySource[sourceName] || 0) + rawItems.length;\n      this.stats.lastRun[sourceName] = Date.now();\n\n      this.emit(\"batch:complete\", sourceName, rawItems.length);\n      this.logger.info(`Ingested ${rawItems.length} items from ${sourceName}`);\n\n      return rawItems.length;\n    } catch (error) {\n      this.stats.errors++;\n      this.emit(\"error\", sourceName, error as Error);\n      this.logger.error(`Ingestion failed: ${sourceName} - ${error}`);\n      return 0;\n    }\n  }\n\n  /**\n   * Force ingest all sources\n   */\n  async ingestAll(): Promise<IngestStats> {\n    const sources = this.sources.getAll();\n\n    this.logger.info(`Ingesting from ${sources.length} sources...`);\n\n    // Run in parallel with concurrency limit\n    const concurrency = 5;\n    for (let i = 0; i < sources.length; i += concurrency) {\n      const batch = sources.slice(i, i + concurrency);\n      await Promise.all(batch.map((s) => this.ingestSource(s.name)));\n    }\n\n    this.logger.info(`Ingestion complete: ${this.stats.totalIngested} total items`);\n    return this.getStats();\n  }\n\n  /**\n   * Get ingestion stats\n   */\n  getStats(): IngestStats {\n    return { ...this.stats };\n  }\n\n  /**\n   * Get recent raw items\n   */\n  getRecentItems(count: number = 100): RawItem[] {\n    return this.rawItems.slice(-count);\n  }\n\n  /**\n   * Get raw items by source\n   */\n  getItemsBySource(source: string): RawItem[] {\n    return this.rawItems.filter((item) => item.source === source);\n  }\n\n  /**\n   * Search raw items\n   */\n  searchItems(query: string): RawItem[] {\n    const lowerQuery = query.toLowerCase();\n    return this.rawItems.filter(\n      (item) =>\n        item.content.toLowerCase().includes(lowerQuery) ||\n        item.id.toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  /**\n   * Add raw item to store\n   */\n  private addRawItem(item: RawItem): void {\n    this.rawItems.push(item);\n\n    // Trim if exceeds max\n    if (this.rawItems.length > this.maxRawItems) {\n      this.rawItems = this.rawItems.slice(-this.maxRawItems);\n    }\n  }\n\n  /**\n   * Get source registry\n   */\n  getSources(): SourceRegistry {\n    return this.sources;\n  }\n}\n\n// Re-exports\nexport { Scheduler } from \"./scheduler.js\";\nexport { SourceRegistry, BaseSource } from \"./sources/index.js\";\nexport type { RawItem } from \"./sources/index.js\";\n","/**\n * Embedding Generator\n *\n * Generates vector embeddings for semantic search.\n */\n\nimport { Logger } from \"../utils/logger.js\";\n\nexport class EmbeddingGenerator {\n  private logger = new Logger(\"Embeddings\");\n  private cache: Map<string, number[]> = new Map();\n  private model: string;\n\n  constructor(model: string = \"text-embedding-3-small\") {\n    this.model = model;\n  }\n\n  /**\n   * Generate embedding for text\n   */\n  async embed(text: string): Promise<number[]> {\n    // Check cache\n    const cacheKey = this.hashText(text);\n    const cached = this.cache.get(cacheKey);\n    if (cached) {\n      return cached;\n    }\n\n    // Generate embedding\n    const embedding = await this.generateEmbedding(text);\n\n    // Cache\n    this.cache.set(cacheKey, embedding);\n\n    return embedding;\n  }\n\n  /**\n   * Embed multiple texts in batch\n   */\n  async embedBatch(texts: string[]): Promise<number[][]> {\n    return Promise.all(texts.map((t) => this.embed(t)));\n  }\n\n  /**\n   * Generate embedding using API\n   */\n  private async generateEmbedding(text: string): Promise<number[]> {\n    const apiKey = process.env.OPENAI_API_KEY;\n\n    if (!apiKey) {\n      // Return mock embedding for development\n      this.logger.warn(\"OpenAI API key not set, using mock embedding\");\n      return this.mockEmbedding(text);\n    }\n\n    try {\n      const response = await fetch(\"https://api.openai.com/v1/embeddings\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${apiKey}`,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          model: this.model,\n          input: text.slice(0, 8000), // Truncate if too long\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`OpenAI API returned ${response.status}`);\n      }\n\n      const data = await response.json() as {\n        data: Array<{ embedding: number[] }>;\n      };\n\n      return data.data[0].embedding;\n    } catch (error) {\n      this.logger.error(`Embedding failed: ${error}`);\n      return this.mockEmbedding(text);\n    }\n  }\n\n  /**\n   * Generate mock embedding for development\n   */\n  private mockEmbedding(text: string): number[] {\n    // Generate deterministic mock embedding based on text hash\n    const dimensions = 1536; // text-embedding-3-small dimensions\n    const embedding: number[] = [];\n    let hash = 0;\n\n    for (let i = 0; i < text.length; i++) {\n      hash = (hash << 5) - hash + text.charCodeAt(i);\n      hash = hash & hash;\n    }\n\n    const rng = this.seededRandom(hash);\n    for (let i = 0; i < dimensions; i++) {\n      embedding.push(rng() * 2 - 1); // -1 to 1\n    }\n\n    // Normalize\n    const magnitude = Math.sqrt(\n      embedding.reduce((sum, val) => sum + val * val, 0)\n    );\n    return embedding.map((val) => val / magnitude);\n  }\n\n  /**\n   * Seeded random number generator\n   */\n  private seededRandom(seed: number): () => number {\n    return () => {\n      seed = (seed * 1103515245 + 12345) & 0x7fffffff;\n      return seed / 0x7fffffff;\n    };\n  }\n\n  /**\n   * Calculate cosine similarity between embeddings\n   */\n  static cosineSimilarity(a: number[], b: number[]): number {\n    if (a.length !== b.length) {\n      throw new Error(\"Embeddings must have same dimensions\");\n    }\n\n    let dotProduct = 0;\n    let magnitudeA = 0;\n    let magnitudeB = 0;\n\n    for (let i = 0; i < a.length; i++) {\n      dotProduct += a[i] * b[i];\n      magnitudeA += a[i] * a[i];\n      magnitudeB += b[i] * b[i];\n    }\n\n    return dotProduct / (Math.sqrt(magnitudeA) * Math.sqrt(magnitudeB));\n  }\n\n  /**\n   * Simple text hash for caching\n   */\n  private hashText(text: string): string {\n    let hash = 0;\n    for (let i = 0; i < Math.min(text.length, 1000); i++) {\n      hash = (hash << 5) - hash + text.charCodeAt(i);\n      hash = hash & hash;\n    }\n    return hash.toString();\n  }\n\n  /**\n   * Clear cache\n   */\n  clearCache(): void {\n    this.cache.clear();\n  }\n\n  /**\n   * Get cache size\n   */\n  getCacheSize(): number {\n    return this.cache.size;\n  }\n}\n","/**\n * Entity Extractor\n *\n * Extracts entities (people, companies, tokens, etc.) from content.\n */\n\nimport Anthropic from \"@anthropic-ai/sdk\";\nimport { Logger } from \"../utils/logger.js\";\nimport type { Entity } from \"../types/index.js\";\n\nexport class EntityExtractor {\n  private anthropic: Anthropic | null = null;\n  private logger = new Logger(\"EntityExtractor\");\n  private cache: Map<string, Entity[]> = new Map();\n\n  constructor() {\n    if (process.env.ANTHROPIC_API_KEY) {\n      this.anthropic = new Anthropic();\n    }\n  }\n\n  /**\n   * Extract entities from text\n   */\n  async extract(text: string): Promise<Entity[]> {\n    // Check cache\n    const cacheKey = this.hashText(text);\n    const cached = this.cache.get(cacheKey);\n    if (cached) {\n      return cached;\n    }\n\n    // Use LLM or fallback to regex-based extraction\n    let entities: Entity[];\n    if (this.anthropic && text.length > 100) {\n      entities = await this.extractWithLLM(text);\n    } else {\n      entities = this.extractWithRegex(text);\n    }\n\n    // Cache\n    this.cache.set(cacheKey, entities);\n\n    return entities;\n  }\n\n  /**\n   * Extract entities using Claude\n   */\n  private async extractWithLLM(text: string): Promise<Entity[]> {\n    try {\n      const response = await this.anthropic!.messages.create({\n        model: \"claude-sonnet-4-20250514\",\n        max_tokens: 1024,\n        messages: [\n          {\n            role: \"user\",\n            content: `Extract entities from this text. Return as JSON array with format: [{\"type\": \"person|company|token|technology|concept|event\", \"name\": \"...\", \"aliases\": [...]}]\n\nText: ${text.slice(0, 2000)}\n\nJSON:`,\n          },\n        ],\n      });\n\n      const content = response.content[0];\n      if (content.type === \"text\") {\n        // Parse JSON from response\n        const jsonMatch = content.text.match(/\\[[\\s\\S]*\\]/);\n        if (jsonMatch) {\n          const parsed = JSON.parse(jsonMatch[0]) as Array<{\n            type: string;\n            name: string;\n            aliases?: string[];\n          }>;\n\n          return parsed.map((e, i) => ({\n            id: `entity-${i}-${e.name.toLowerCase().replace(/\\s+/g, \"-\")}`,\n            type: e.type as Entity[\"type\"],\n            name: e.name,\n            aliases: e.aliases || [],\n            attributes: {},\n          }));\n        }\n      }\n    } catch (error) {\n      this.logger.error(`LLM extraction failed: ${error}`);\n    }\n\n    // Fallback to regex\n    return this.extractWithRegex(text);\n  }\n\n  /**\n   * Extract entities using regex patterns\n   */\n  private extractWithRegex(text: string): Entity[] {\n    const entities: Entity[] = [];\n    const seen = new Set<string>();\n\n    // Token patterns ($SOL, $BTC, etc.)\n    const tokenPattern = /\\$([A-Z]{2,10})\\b/g;\n    let match;\n    while ((match = tokenPattern.exec(text)) !== null) {\n      const name = match[1];\n      if (!seen.has(name)) {\n        seen.add(name);\n        entities.push({\n          id: `token-${name.toLowerCase()}`,\n          type: \"token\",\n          name,\n          aliases: [`$${name}`],\n          attributes: {},\n        });\n      }\n    }\n\n    // Technology patterns\n    const techPatterns = [\n      /\\b(GPT-\\d+|Claude|Gemini|LLaMA|Mistral|Anthropic|OpenAI|DeepMind)\\b/gi,\n      /\\b(Solana|Ethereum|Bitcoin|Polygon|Arbitrum|Base)\\b/gi,\n      /\\b(React|Next\\.js|TypeScript|Python|Rust|Go)\\b/gi,\n      /\\b(Jupiter|Raydium|Uniswap|Aave|pump\\.fun)\\b/gi,\n    ];\n\n    for (const pattern of techPatterns) {\n      while ((match = pattern.exec(text)) !== null) {\n        const name = match[1];\n        const normalizedName = name.toLowerCase();\n        if (!seen.has(normalizedName)) {\n          seen.add(normalizedName);\n          entities.push({\n            id: `tech-${normalizedName.replace(/[.\\s]/g, \"-\")}`,\n            type: \"technology\",\n            name,\n            aliases: [],\n            attributes: {},\n          });\n        }\n      }\n    }\n\n    // Company patterns (basic)\n    const companyPatterns = [\n      /\\b(Anthropic|OpenAI|Google|Meta|Microsoft|Apple|Tesla|NVIDIA)\\b/gi,\n      /\\b(Coinbase|Binance|FTX|Alameda|a16z|Sequoia)\\b/gi,\n    ];\n\n    for (const pattern of companyPatterns) {\n      while ((match = pattern.exec(text)) !== null) {\n        const name = match[1];\n        const normalizedName = name.toLowerCase();\n        if (!seen.has(normalizedName)) {\n          seen.add(normalizedName);\n          entities.push({\n            id: `company-${normalizedName}`,\n            type: \"company\",\n            name,\n            aliases: [],\n            attributes: {},\n          });\n        }\n      }\n    }\n\n    // Person patterns (Twitter handles, etc.)\n    const personPattern = /@([A-Za-z0-9_]{1,15})\\b/g;\n    while ((match = personPattern.exec(text)) !== null) {\n      const name = match[1];\n      if (!seen.has(name.toLowerCase()) && name.length > 2) {\n        seen.add(name.toLowerCase());\n        entities.push({\n          id: `person-${name.toLowerCase()}`,\n          type: \"person\",\n          name: `@${name}`,\n          aliases: [name],\n          attributes: {},\n        });\n      }\n    }\n\n    return entities;\n  }\n\n  /**\n   * Simple text hash for caching\n   */\n  private hashText(text: string): string {\n    let hash = 0;\n    for (let i = 0; i < Math.min(text.length, 500); i++) {\n      hash = (hash << 5) - hash + text.charCodeAt(i);\n      hash = hash & hash;\n    }\n    return hash.toString();\n  }\n\n  /**\n   * Clear cache\n   */\n  clearCache(): void {\n    this.cache.clear();\n  }\n}\n","/**\n * Content Summarizer\n *\n * Summarizes content for quick retrieval.\n */\n\nimport Anthropic from \"@anthropic-ai/sdk\";\nimport { Logger } from \"../utils/logger.js\";\n\nexport class ContentSummarizer {\n  private anthropic: Anthropic | null = null;\n  private logger = new Logger(\"Summarizer\");\n  private cache: Map<string, string> = new Map();\n\n  constructor() {\n    if (process.env.ANTHROPIC_API_KEY) {\n      this.anthropic = new Anthropic();\n    }\n  }\n\n  /**\n   * Summarize text content\n   */\n  async summarize(text: string, maxLength: number = 200): Promise<string> {\n    // Short text doesn't need summarization\n    if (text.length <= maxLength) {\n      return text;\n    }\n\n    // Check cache\n    const cacheKey = this.hashText(text);\n    const cached = this.cache.get(cacheKey);\n    if (cached) {\n      return cached;\n    }\n\n    let summary: string;\n\n    if (this.anthropic && text.length > 500) {\n      summary = await this.summarizeWithLLM(text, maxLength);\n    } else {\n      summary = this.summarizeSimple(text, maxLength);\n    }\n\n    // Cache\n    this.cache.set(cacheKey, summary);\n\n    return summary;\n  }\n\n  /**\n   * Summarize using Claude\n   */\n  private async summarizeWithLLM(text: string, maxLength: number): Promise<string> {\n    try {\n      const response = await this.anthropic!.messages.create({\n        model: \"claude-sonnet-4-20250514\",\n        max_tokens: 256,\n        messages: [\n          {\n            role: \"user\",\n            content: `Summarize this in ${maxLength} characters or less. Be concise and capture the key point:\n\n${text.slice(0, 3000)}\n\nSummary:`,\n          },\n        ],\n      });\n\n      const content = response.content[0];\n      if (content.type === \"text\") {\n        return content.text.slice(0, maxLength);\n      }\n    } catch (error) {\n      this.logger.error(`LLM summarization failed: ${error}`);\n    }\n\n    // Fallback to simple summarization\n    return this.summarizeSimple(text, maxLength);\n  }\n\n  /**\n   * Simple extractive summarization\n   */\n  private summarizeSimple(text: string, maxLength: number): string {\n    // Split into sentences\n    const sentences = text.split(/[.!?]+/).filter((s) => s.trim().length > 10);\n\n    if (sentences.length === 0) {\n      return text.slice(0, maxLength);\n    }\n\n    // Score sentences by position and length\n    const scored = sentences.map((sentence, index) => ({\n      sentence: sentence.trim(),\n      score: this.scoreSentence(sentence, index, sentences.length),\n    }));\n\n    // Sort by score and take top sentences\n    scored.sort((a, b) => b.score - a.score);\n\n    // Build summary\n    let summary = \"\";\n    for (const { sentence } of scored) {\n      if (summary.length + sentence.length + 2 <= maxLength) {\n        summary += (summary ? \". \" : \"\") + sentence;\n      } else {\n        break;\n      }\n    }\n\n    return summary || text.slice(0, maxLength);\n  }\n\n  /**\n   * Score a sentence for importance\n   */\n  private scoreSentence(\n    sentence: string,\n    index: number,\n    totalSentences: number\n  ): number {\n    let score = 0;\n\n    // Position score (first and last sentences are often important)\n    if (index === 0) score += 2;\n    if (index === totalSentences - 1) score += 1;\n\n    // Length score (not too short, not too long)\n    const wordCount = sentence.split(/\\s+/).length;\n    if (wordCount >= 5 && wordCount <= 30) score += 1;\n\n    // Keyword indicators\n    const importantPatterns = [\n      /\\b(important|key|main|significant|notable)\\b/i,\n      /\\b(announces?|launches?|releases?|introduces?)\\b/i,\n      /\\b(first|new|latest|biggest|largest)\\b/i,\n      /\\$[A-Z]+/,\n      /\\d+%/,\n      /\\$[\\d,]+/,\n    ];\n\n    for (const pattern of importantPatterns) {\n      if (pattern.test(sentence)) score += 0.5;\n    }\n\n    return score;\n  }\n\n  /**\n   * Simple text hash for caching\n   */\n  private hashText(text: string): string {\n    let hash = 0;\n    for (let i = 0; i < Math.min(text.length, 500); i++) {\n      hash = (hash << 5) - hash + text.charCodeAt(i);\n      hash = hash & hash;\n    }\n    return hash.toString();\n  }\n\n  /**\n   * Clear cache\n   */\n  clearCache(): void {\n    this.cache.clear();\n  }\n}\n","/**\n * Content Classifier\n *\n * Classifies content by topic, sentiment, and importance.\n */\n\nimport { Logger } from \"../utils/logger.js\";\n\nexport interface Classification {\n  topics: string[];\n  sentiment: number; // -1 to 1\n  importance: number; // 0 to 100\n  confidence: number; // 0 to 1\n}\n\nexport class ContentClassifier {\n  private logger = new Logger(\"Classifier\");\n\n  // Topic keywords\n  private topicKeywords: Record<string, string[]> = {\n    crypto: [\n      \"bitcoin\", \"ethereum\", \"solana\", \"token\", \"blockchain\", \"defi\", \"nft\",\n      \"wallet\", \"swap\", \"dex\", \"memecoin\", \"pump\", \"dump\", \"whale\", \"airdrop\",\n    ],\n    ai: [\n      \"llm\", \"gpt\", \"claude\", \"ai\", \"machine learning\", \"neural\", \"model\",\n      \"training\", \"inference\", \"agent\", \"autonomous\", \"embedding\", \"transformer\",\n    ],\n    trading: [\n      \"buy\", \"sell\", \"trade\", \"position\", \"long\", \"short\", \"profit\", \"loss\",\n      \"entry\", \"exit\", \"stop loss\", \"take profit\", \"leverage\", \"margin\",\n    ],\n    development: [\n      \"code\", \"build\", \"deploy\", \"api\", \"sdk\", \"framework\", \"library\",\n      \"release\", \"version\", \"bug\", \"fix\", \"feature\", \"typescript\", \"python\",\n    ],\n    news: [\n      \"announce\", \"launch\", \"release\", \"partnership\", \"funding\", \"raise\",\n      \"acquisition\", \"ipo\", \"regulation\", \"sec\", \"government\",\n    ],\n    research: [\n      \"paper\", \"study\", \"research\", \"analysis\", \"benchmark\", \"evaluation\",\n      \"experiment\", \"results\", \"arxiv\", \"findings\", \"methodology\",\n    ],\n    social: [\n      \"community\", \"discord\", \"telegram\", \"twitter\", \"viral\", \"trending\",\n      \"followers\", \"engagement\", \"sentiment\", \"fud\", \"fomo\",\n    ],\n  };\n\n  // Sentiment keywords\n  private positiveKeywords = [\n    \"bullish\", \"moon\", \"pump\", \"gain\", \"profit\", \"success\", \"breakthrough\",\n    \"innovative\", \"amazing\", \"great\", \"excellent\", \"best\", \"top\", \"win\",\n    \"growth\", \"opportunity\", \"exciting\", \"impressive\", \"powerful\",\n  ];\n\n  private negativeKeywords = [\n    \"bearish\", \"dump\", \"crash\", \"loss\", \"scam\", \"rug\", \"hack\", \"exploit\",\n    \"fail\", \"bad\", \"worst\", \"decline\", \"risk\", \"warning\", \"concern\",\n    \"problem\", \"issue\", \"bug\", \"vulnerability\", \"fear\",\n  ];\n\n  /**\n   * Classify content\n   */\n  classify(text: string): Classification {\n    const lowerText = text.toLowerCase();\n\n    return {\n      topics: this.classifyTopics(lowerText),\n      sentiment: this.classifySentiment(lowerText),\n      importance: this.classifyImportance(text),\n      confidence: this.calculateConfidence(text),\n    };\n  }\n\n  /**\n   * Classify topics\n   */\n  private classifyTopics(text: string): string[] {\n    const topics: string[] = [];\n    const scores: Record<string, number> = {};\n\n    for (const [topic, keywords] of Object.entries(this.topicKeywords)) {\n      let score = 0;\n      for (const keyword of keywords) {\n        if (text.includes(keyword)) {\n          score += 1;\n        }\n      }\n      if (score > 0) {\n        scores[topic] = score;\n      }\n    }\n\n    // Get topics with highest scores\n    const sorted = Object.entries(scores)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 3);\n\n    for (const [topic, score] of sorted) {\n      if (score >= 1) {\n        topics.push(topic);\n      }\n    }\n\n    return topics.length > 0 ? topics : [\"general\"];\n  }\n\n  /**\n   * Classify sentiment (-1 to 1)\n   */\n  private classifySentiment(text: string): number {\n    let positiveScore = 0;\n    let negativeScore = 0;\n\n    for (const keyword of this.positiveKeywords) {\n      if (text.includes(keyword)) {\n        positiveScore += 1;\n      }\n    }\n\n    for (const keyword of this.negativeKeywords) {\n      if (text.includes(keyword)) {\n        negativeScore += 1;\n      }\n    }\n\n    const total = positiveScore + negativeScore;\n    if (total === 0) return 0;\n\n    return (positiveScore - negativeScore) / total;\n  }\n\n  /**\n   * Classify importance (0 to 100)\n   */\n  private classifyImportance(text: string): number {\n    let score = 50; // Base score\n\n    // Adjust based on content indicators\n    const lowerText = text.toLowerCase();\n\n    // High-impact keywords\n    if (/\\b(breaking|urgent|major|significant|massive)\\b/i.test(text)) {\n      score += 20;\n    }\n\n    // Numbers often indicate concrete information\n    if (/\\$[\\d,]+/.test(text)) score += 10; // Dollar amounts\n    if (/\\d+%/.test(text)) score += 5; // Percentages\n    if (/\\d+x\\b/.test(text)) score += 5; // Multipliers\n\n    // Specific entities\n    if (/\\b(Anthropic|OpenAI|Google|Microsoft|Solana|Ethereum)\\b/i.test(text)) {\n      score += 10;\n    }\n\n    // Length (longer content often more substantive)\n    if (text.length > 500) score += 5;\n    if (text.length > 1000) score += 5;\n\n    // Official announcements\n    if (/\\b(official|announce|launch|release)\\b/i.test(text)) {\n      score += 10;\n    }\n\n    // Cap at 100\n    return Math.min(100, Math.max(0, score));\n  }\n\n  /**\n   * Calculate classification confidence\n   */\n  private calculateConfidence(text: string): number {\n    // Based on text quality and signals\n    let confidence = 0.5;\n\n    // More text = more confident\n    if (text.length > 100) confidence += 0.1;\n    if (text.length > 500) confidence += 0.1;\n\n    // Clear keywords boost confidence\n    const keywordCount = this.countKeywords(text.toLowerCase());\n    if (keywordCount > 3) confidence += 0.1;\n    if (keywordCount > 7) confidence += 0.1;\n\n    return Math.min(1, confidence);\n  }\n\n  /**\n   * Count total keywords found\n   */\n  private countKeywords(text: string): number {\n    let count = 0;\n\n    for (const keywords of Object.values(this.topicKeywords)) {\n      for (const keyword of keywords) {\n        if (text.includes(keyword)) count++;\n      }\n    }\n\n    return count;\n  }\n}\n","/**\n * HYPER BRAIN Configuration\n */\n\nimport { config as dotenvConfig } from \"dotenv\";\n\ndotenvConfig();\n\n// Re-export BrainConfig from types\nexport type { BrainConfig } from \"./types/index.js\";\n\n// Import for internal use\nimport type { BrainConfig } from \"./types/index.js\";\n\nexport const DEFAULT_CONFIG: BrainConfig = {\n  // API Keys from environment\n  anthropicApiKey: process.env.ANTHROPIC_API_KEY,\n  openaiApiKey: process.env.OPENAI_API_KEY,\n  heliusApiKey: process.env.HELIUS_API_KEY,\n  twitterBearerToken: process.env.TWITTER_BEARER_TOKEN,\n\n  // Storage\n  vectorDb: \"local\",\n  graphDb: \"local\",\n\n  // Processing\n  embeddingModel: \"text-embedding-3-small\",\n  maxConcurrentIngests: 10,\n\n  // API\n  apiPort: 3300,\n  enableApi: true,\n  enableWebSocket: true,\n};\n\nexport function loadConfig(overrides: Partial<BrainConfig> = {}): BrainConfig {\n  return {\n    ...DEFAULT_CONFIG,\n    ...overrides,\n  };\n}\n\n// Source intervals (in ms)\nexport const SOURCE_INTERVALS = {\n  // Real-time (1 min)\n  onchain: 60 * 1000,\n  dex: 60 * 1000,\n  whale: 60 * 1000,\n\n  // Frequent (5 min)\n  twitter: 5 * 60 * 1000,\n  news: 5 * 60 * 1000,\n\n  // Regular (15 min)\n  hackernews: 15 * 60 * 1000,\n  reddit: 15 * 60 * 1000,\n\n  // Periodic (1 hour)\n  github: 60 * 60 * 1000,\n  producthunt: 60 * 60 * 1000,\n  competitor: 60 * 60 * 1000,\n\n  // Slow (6 hours)\n  arxiv: 6 * 60 * 60 * 1000,\n  docs: 6 * 60 * 60 * 1000,\n  blog: 6 * 60 * 60 * 1000,\n};\n\n// Source credibility scores (0-100)\nexport const SOURCE_CREDIBILITY: Record<string, number> = {\n  arxiv: 95,\n  github: 85,\n  docs: 90,\n  onchain: 99,\n  dex: 95,\n  whale: 90,\n  hackernews: 75,\n  producthunt: 70,\n  twitter: 60,\n  reddit: 50,\n  news: 70,\n  blog: 65,\n  competitor: 80,\n};\n\n// Decay rates (0-1, higher = faster decay)\nexport const DECAY_RATES: Record<string, number> = {\n  twitter: 0.9,\n  onchain: 0.8,\n  dex: 0.85,\n  whale: 0.8,\n  news: 0.7,\n  hackernews: 0.7,\n  reddit: 0.6,\n  producthunt: 0.5,\n  github: 0.3,\n  blog: 0.2,\n  arxiv: 0.1,\n  docs: 0.05,\n};\n","/**\n * Processing Pipeline\n *\n * Transforms raw items into rich knowledge.\n */\n\nimport { EmbeddingGenerator } from \"./embeddings.js\";\nimport { EntityExtractor } from \"./entities.js\";\nimport { ContentSummarizer } from \"./summarizer.js\";\nimport { ContentClassifier } from \"./classifier.js\";\nimport { Logger } from \"../utils/logger.js\";\nimport { SOURCE_CREDIBILITY, DECAY_RATES } from \"../config.js\";\nimport type { KnowledgeItem, RawItem, ContentType, SourceType } from \"../types/index.js\";\n\nexport class ProcessingPipeline {\n  private embedder: EmbeddingGenerator;\n  private entityExtractor: EntityExtractor;\n  private summarizer: ContentSummarizer;\n  private classifier: ContentClassifier;\n  private logger = new Logger(\"Processing\");\n\n  constructor() {\n    this.embedder = new EmbeddingGenerator();\n    this.entityExtractor = new EntityExtractor();\n    this.summarizer = new ContentSummarizer();\n    this.classifier = new ContentClassifier();\n  }\n\n  /**\n   * Process raw item into rich knowledge\n   */\n  async process(raw: RawItem): Promise<KnowledgeItem> {\n    this.logger.debug(`Processing: ${raw.id}`);\n\n    // Run processing steps in parallel where possible\n    const [embedding, entities, summary, classification] = await Promise.all([\n      this.embedder.embed(raw.content),\n      this.entityExtractor.extract(raw.content),\n      this.summarizer.summarize(raw.content),\n      Promise.resolve(this.classifier.classify(raw.content)),\n    ]);\n\n    const sourceType = this.getSourceType(raw.source);\n    const contentType = this.getContentType(raw.type);\n\n    return {\n      id: raw.id,\n      source: {\n        type: sourceType,\n        name: raw.source,\n        url: raw.metadata?.url as string | undefined,\n        credibility: SOURCE_CREDIBILITY[raw.source] || 50,\n      },\n      content: {\n        raw: raw.content,\n        summary,\n        type: contentType,\n      },\n      embedding,\n      entities,\n      relationships: [], // Relationships are mapped in a separate step\n      topics: classification.topics,\n      sentiment: classification.sentiment,\n      importance: classification.importance,\n      timestamp: raw.timestamp,\n      decayRate: DECAY_RATES[raw.source] || 0.5,\n      processed: true,\n      quality: this.assessQuality(raw, classification),\n    };\n  }\n\n  /**\n   * Process multiple items\n   */\n  async processBatch(items: RawItem[]): Promise<KnowledgeItem[]> {\n    const results: KnowledgeItem[] = [];\n\n    for (const item of items) {\n      try {\n        const processed = await this.process(item);\n        results.push(processed);\n      } catch (error) {\n        this.logger.error(`Failed to process ${item.id}: ${error}`);\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Get source type from string\n   */\n  private getSourceType(source: string): SourceType {\n    const mapping: Record<string, SourceType> = {\n      helius: \"onchain\",\n      pumpfun: \"onchain\",\n      twitter: \"twitter\",\n      hackernews: \"hackernews\",\n      arxiv: \"paper\",\n      github: \"github\",\n      producthunt: \"producthunt\",\n    };\n    return mapping[source] || \"social\";\n  }\n\n  /**\n   * Get content type from string\n   */\n  private getContentType(type: string): ContentType {\n    const mapping: Record<string, ContentType> = {\n      token_launch: \"event\",\n      transaction: \"transaction\",\n      tweet: \"tweet\",\n      post: \"post\",\n      paper: \"paper\",\n      code: \"code\",\n      announcement: \"announcement\",\n    };\n    return mapping[type] || \"article\";\n  }\n\n  /**\n   * Assess content quality (0-100)\n   */\n  private assessQuality(\n    raw: RawItem,\n    classification: { confidence: number; importance: number }\n  ): number {\n    let quality = 50;\n\n    // Content length\n    if (raw.content.length > 100) quality += 5;\n    if (raw.content.length > 500) quality += 10;\n    if (raw.content.length > 2000) quality += 5;\n\n    // Engagement (if available)\n    const metadata = raw.metadata || {};\n    if (typeof metadata.likes === \"number\" && metadata.likes > 100) quality += 10;\n    if (typeof metadata.retweets === \"number\" && metadata.retweets > 50) quality += 10;\n    if (typeof metadata.score === \"number\" && metadata.score > 100) quality += 15;\n    if (typeof metadata.stars === \"number\" && metadata.stars > 50) quality += 10;\n\n    // Classification confidence\n    quality += classification.confidence * 10;\n\n    // Source credibility\n    quality += (SOURCE_CREDIBILITY[raw.source] || 50) / 10;\n\n    return Math.min(100, Math.max(0, quality));\n  }\n\n  /**\n   * Get embedding generator\n   */\n  getEmbedder(): EmbeddingGenerator {\n    return this.embedder;\n  }\n\n  /**\n   * Get entity extractor\n   */\n  getEntityExtractor(): EntityExtractor {\n    return this.entityExtractor;\n  }\n}\n\n// Re-exports\nexport { EmbeddingGenerator } from \"./embeddings.js\";\nexport { EntityExtractor } from \"./entities.js\";\nexport { ContentSummarizer } from \"./summarizer.js\";\nexport { ContentClassifier, type Classification } from \"./classifier.js\";\n","/**\n * Local Vector Store\n *\n * In-memory vector store with file persistence.\n */\n\nimport { promises as fs } from \"fs\";\nimport { join } from \"path\";\nimport { Logger } from \"../../utils/logger.js\";\nimport { EmbeddingGenerator } from \"../../process/embeddings.js\";\nimport type { KnowledgeItem, SearchResult } from \"../../types/index.js\";\n\ninterface VectorEntry {\n  id: string;\n  embedding: number[];\n  item: KnowledgeItem;\n}\n\nexport class LocalVectorStore {\n  private vectors: Map<string, VectorEntry> = new Map();\n  private logger = new Logger(\"VectorStore\");\n  private dataPath: string;\n  private dirty = false;\n  private saveInterval: NodeJS.Timeout | null = null;\n\n  constructor(dataDir: string = \"./data\") {\n    this.dataPath = join(dataDir, \"vectors.json\");\n  }\n\n  /**\n   * Initialize store\n   */\n  async init(): Promise<void> {\n    await this.load();\n\n    // Auto-save every 30 seconds if dirty\n    this.saveInterval = setInterval(async () => {\n      if (this.dirty) {\n        await this.save();\n        this.dirty = false;\n      }\n    }, 30000);\n\n    this.logger.info(`Vector store initialized: ${this.vectors.size} vectors`);\n  }\n\n  /**\n   * Add item to store\n   */\n  async add(item: KnowledgeItem): Promise<void> {\n    this.vectors.set(item.id, {\n      id: item.id,\n      embedding: item.embedding,\n      item,\n    });\n    this.dirty = true;\n  }\n\n  /**\n   * Add multiple items\n   */\n  async addBatch(items: KnowledgeItem[]): Promise<void> {\n    for (const item of items) {\n      await this.add(item);\n    }\n  }\n\n  /**\n   * Get item by ID\n   */\n  get(id: string): KnowledgeItem | undefined {\n    return this.vectors.get(id)?.item;\n  }\n\n  /**\n   * Delete item\n   */\n  delete(id: string): boolean {\n    const deleted = this.vectors.delete(id);\n    if (deleted) this.dirty = true;\n    return deleted;\n  }\n\n  /**\n   * Search by vector similarity\n   */\n  async search(\n    queryEmbedding: number[],\n    limit: number = 10,\n    minScore: number = 0\n  ): Promise<SearchResult[]> {\n    const results: { entry: VectorEntry; score: number }[] = [];\n\n    for (const entry of this.vectors.values()) {\n      const score = EmbeddingGenerator.cosineSimilarity(\n        queryEmbedding,\n        entry.embedding\n      );\n\n      if (score >= minScore) {\n        results.push({ entry, score });\n      }\n    }\n\n    // Sort by score descending\n    results.sort((a, b) => b.score - a.score);\n\n    // Return top results\n    return results.slice(0, limit).map(({ entry, score }) => ({\n      ...entry.item,\n      score,\n    }));\n  }\n\n  /**\n   * Search by text query\n   */\n  async searchText(\n    query: string,\n    embedder: EmbeddingGenerator,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    const queryEmbedding = await embedder.embed(query);\n    return this.search(queryEmbedding, limit);\n  }\n\n  /**\n   * Filter by metadata\n   */\n  filter(predicate: (item: KnowledgeItem) => boolean): KnowledgeItem[] {\n    const results: KnowledgeItem[] = [];\n    for (const entry of this.vectors.values()) {\n      if (predicate(entry.item)) {\n        results.push(entry.item);\n      }\n    }\n    return results;\n  }\n\n  /**\n   * Get all items\n   */\n  getAll(): KnowledgeItem[] {\n    return Array.from(this.vectors.values()).map((e) => e.item);\n  }\n\n  /**\n   * Get item count\n   */\n  count(): number {\n    return this.vectors.size;\n  }\n\n  /**\n   * Load from disk\n   */\n  private async load(): Promise<void> {\n    try {\n      const data = await fs.readFile(this.dataPath, \"utf-8\");\n      const entries: VectorEntry[] = JSON.parse(data);\n\n      for (const entry of entries) {\n        this.vectors.set(entry.id, entry);\n      }\n\n      this.logger.info(`Loaded ${entries.length} vectors from disk`);\n    } catch (error) {\n      // File doesn't exist yet, that's OK\n      this.logger.debug(\"No existing vector store found\");\n    }\n  }\n\n  /**\n   * Save to disk\n   */\n  async save(): Promise<void> {\n    try {\n      const entries = Array.from(this.vectors.values());\n\n      // Ensure directory exists\n      const dir = this.dataPath.split(\"/\").slice(0, -1).join(\"/\");\n      await fs.mkdir(dir, { recursive: true });\n\n      await fs.writeFile(this.dataPath, JSON.stringify(entries, null, 2));\n      this.logger.info(`Saved ${entries.length} vectors to disk`);\n    } catch (error) {\n      this.logger.error(`Failed to save vectors: ${error}`);\n    }\n  }\n\n  /**\n   * Clear store\n   */\n  clear(): void {\n    this.vectors.clear();\n    this.dirty = true;\n  }\n\n  /**\n   * Shutdown\n   */\n  async shutdown(): Promise<void> {\n    if (this.saveInterval) {\n      clearInterval(this.saveInterval);\n    }\n    if (this.dirty) {\n      await this.save();\n    }\n  }\n}\n","/**\n * Pinecone Vector Store Adapter\n *\n * Cloud-based vector store with scalable similarity search.\n * Requires @pinecone-database/pinecone package.\n */\n\nimport { Logger } from \"../../utils/logger.js\";\nimport type { EmbeddingGenerator } from \"../../process/embeddings.js\";\nimport type { KnowledgeItem, SearchResult } from \"../../types/index.js\";\nimport type { VectorStore } from \"./index.js\";\n\n// Pinecone types (from @pinecone-database/pinecone)\ninterface PineconeVector {\n  id: string;\n  values: number[];\n  metadata?: Record<string, unknown>;\n}\n\ninterface PineconeQueryResult {\n  matches: Array<{\n    id: string;\n    score: number;\n    values?: number[];\n    metadata?: Record<string, unknown>;\n  }>;\n}\n\ninterface PineconeIndex {\n  namespace(name: string): PineconeNamespace;\n  describeIndexStats(): Promise<{ namespaces?: Record<string, { vectorCount: number }> }>;\n}\n\ninterface PineconeNamespace {\n  upsert(vectors: PineconeVector[]): Promise<void>;\n  query(params: {\n    vector: number[];\n    topK: number;\n    includeMetadata?: boolean;\n    includeValues?: boolean;\n    filter?: Record<string, unknown>;\n  }): Promise<PineconeQueryResult>;\n  deleteOne(id: string): Promise<void>;\n  deleteMany(ids: string[]): Promise<void>;\n  deleteAll(): Promise<void>;\n}\n\nexport interface PineconeConfig {\n  apiKey: string;\n  environment?: string; // Deprecated, use host instead\n  host?: string; // Pinecone index host URL\n  indexName: string;\n  namespace?: string;\n  dimension?: number; // Vector dimension (default: 1536 for OpenAI, 768 for Gemini)\n}\n\nexport class PineconeVectorStore implements VectorStore {\n  private logger = new Logger(\"PineconeVectorStore\");\n  private config: PineconeConfig;\n  private client: any; // Pinecone client\n  private index: PineconeIndex | null = null;\n  private namespace: string;\n  private localCache: Map<string, KnowledgeItem> = new Map();\n  private initialized = false;\n\n  constructor(config: PineconeConfig) {\n    this.config = {\n      dimension: 768, // Default for Gemini embeddings\n      namespace: \"default\",\n      ...config,\n    };\n    this.namespace = this.config.namespace!;\n  }\n\n  /**\n   * Initialize Pinecone connection\n   */\n  async init(): Promise<void> {\n    try {\n      // Dynamic import to avoid bundling issues\n      const { Pinecone } = await import(\"@pinecone-database/pinecone\");\n\n      this.client = new Pinecone({\n        apiKey: this.config.apiKey,\n      });\n\n      // Get or create the index\n      this.index = this.client.index(this.config.indexName) as PineconeIndex;\n\n      // Verify connection\n      const stats = await this.index!.describeIndexStats();\n      const vectorCount = stats.namespaces?.[this.namespace]?.vectorCount ?? 0;\n\n      this.initialized = true;\n      this.logger.info(\n        `Pinecone initialized: index=${this.config.indexName}, namespace=${this.namespace}, vectors=${vectorCount}`\n      );\n    } catch (error) {\n      const err = error instanceof Error ? error.message : String(error);\n      this.logger.error(`Failed to initialize Pinecone: ${err}`);\n\n      // Check if it's a missing package error\n      if (err.includes(\"Cannot find module\") || err.includes(\"MODULE_NOT_FOUND\")) {\n        throw new Error(\n          \"Pinecone package not installed. Run: pnpm add @pinecone-database/pinecone\"\n        );\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Add item to Pinecone\n   */\n  async add(item: KnowledgeItem): Promise<void> {\n    this.ensureInitialized();\n\n    const vector: PineconeVector = {\n      id: item.id,\n      values: item.embedding,\n      metadata: this.serializeMetadata(item),\n    };\n\n    await this.index!.namespace(this.namespace).upsert([vector]);\n    this.localCache.set(item.id, item);\n\n    this.logger.debug(`Added vector: ${item.id}`);\n  }\n\n  /**\n   * Add multiple items in batch\n   */\n  async addBatch(items: KnowledgeItem[]): Promise<void> {\n    this.ensureInitialized();\n\n    if (items.length === 0) return;\n\n    // Pinecone supports batches of up to 100 vectors\n    const batchSize = 100;\n    for (let i = 0; i < items.length; i += batchSize) {\n      const batch = items.slice(i, i + batchSize);\n      const vectors: PineconeVector[] = batch.map((item) => ({\n        id: item.id,\n        values: item.embedding,\n        metadata: this.serializeMetadata(item),\n      }));\n\n      await this.index!.namespace(this.namespace).upsert(vectors);\n\n      // Update local cache\n      for (const item of batch) {\n        this.localCache.set(item.id, item);\n      }\n    }\n\n    this.logger.info(`Added ${items.length} vectors in batches`);\n  }\n\n  /**\n   * Get item by ID (from local cache)\n   */\n  get(id: string): KnowledgeItem | undefined {\n    return this.localCache.get(id);\n  }\n\n  /**\n   * Delete item from Pinecone\n   */\n  delete(id: string): boolean {\n    this.ensureInitialized();\n\n    try {\n      // Fire and forget - Pinecone delete is async\n      this.index!.namespace(this.namespace).deleteOne(id);\n      this.localCache.delete(id);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Search by vector similarity\n   */\n  async search(\n    queryEmbedding: number[],\n    limit: number = 10,\n    minScore: number = 0\n  ): Promise<SearchResult[]> {\n    this.ensureInitialized();\n\n    const result = await this.index!.namespace(this.namespace).query({\n      vector: queryEmbedding,\n      topK: limit * 2, // Over-fetch to filter by minScore\n      includeMetadata: true,\n      includeValues: false,\n    });\n\n    const results: SearchResult[] = [];\n\n    for (const match of result.matches) {\n      if (match.score < minScore) continue;\n\n      // Reconstruct item from metadata\n      const item = this.deserializeMetadata(match.id, match.metadata);\n      if (item) {\n        results.push({\n          ...item,\n          score: match.score,\n        });\n      }\n    }\n\n    return results.slice(0, limit);\n  }\n\n  /**\n   * Search by text query\n   */\n  async searchText(\n    query: string,\n    embedder: EmbeddingGenerator,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    const queryEmbedding = await embedder.embed(query);\n    return this.search(queryEmbedding, limit);\n  }\n\n  /**\n   * Filter by predicate (local cache only)\n   */\n  filter(predicate: (item: KnowledgeItem) => boolean): KnowledgeItem[] {\n    return Array.from(this.localCache.values()).filter(predicate);\n  }\n\n  /**\n   * Get all items (local cache only)\n   */\n  getAll(): KnowledgeItem[] {\n    return Array.from(this.localCache.values());\n  }\n\n  /**\n   * Get count (local cache)\n   */\n  count(): number {\n    return this.localCache.size;\n  }\n\n  /**\n   * Save (no-op for Pinecone - data is persisted automatically)\n   */\n  async save(): Promise<void> {\n    // Pinecone auto-persists\n    this.logger.debug(\"Pinecone auto-persists data\");\n  }\n\n  /**\n   * Clear all vectors in namespace\n   */\n  clear(): void {\n    this.ensureInitialized();\n    this.index!.namespace(this.namespace).deleteAll();\n    this.localCache.clear();\n    this.logger.info(`Cleared namespace: ${this.namespace}`);\n  }\n\n  /**\n   * Shutdown (no-op for Pinecone)\n   */\n  async shutdown(): Promise<void> {\n    this.localCache.clear();\n    this.initialized = false;\n    this.logger.info(\"Pinecone connection closed\");\n  }\n\n  // ============================================================================\n  // PRIVATE METHODS\n  // ============================================================================\n\n  private ensureInitialized(): void {\n    if (!this.initialized || !this.index) {\n      throw new Error(\"Pinecone not initialized. Call init() first.\");\n    }\n  }\n\n  /**\n   * Serialize KnowledgeItem to Pinecone metadata\n   * Note: Pinecone metadata has limitations (string, number, boolean, arrays of strings)\n   */\n  private serializeMetadata(item: KnowledgeItem): Record<string, unknown> {\n    return {\n      // Source\n      source_type: item.source.type,\n      source_name: item.source.name,\n      source_url: item.source.url ?? \"\",\n      source_credibility: item.source.credibility,\n\n      // Content\n      content_raw: item.content.raw.slice(0, 10000), // Pinecone has metadata size limits\n      content_summary: item.content.summary,\n      content_type: item.content.type,\n\n      // Classification\n      topics: item.topics,\n      sentiment: item.sentiment,\n      importance: item.importance,\n\n      // Temporal\n      timestamp: item.timestamp,\n      expiresAt: item.expiresAt ?? 0,\n      decayRate: item.decayRate,\n\n      // Meta\n      processed: item.processed,\n      quality: item.quality,\n\n      // Entities (serialized as JSON string)\n      entities_json: JSON.stringify(item.entities),\n      relationships_json: JSON.stringify(item.relationships),\n    };\n  }\n\n  /**\n   * Deserialize Pinecone metadata to KnowledgeItem\n   */\n  private deserializeMetadata(\n    id: string,\n    metadata?: Record<string, unknown>\n  ): KnowledgeItem | null {\n    if (!metadata) return null;\n\n    try {\n      // Parse entities and relationships from JSON strings\n      let entities = [];\n      let relationships = [];\n      try {\n        entities = JSON.parse((metadata.entities_json as string) || \"[]\");\n        relationships = JSON.parse((metadata.relationships_json as string) || \"[]\");\n      } catch {\n        // Ignore parse errors\n      }\n\n      return {\n        id,\n        source: {\n          type: metadata.source_type as any,\n          name: metadata.source_name as string,\n          url: metadata.source_url as string || undefined,\n          credibility: metadata.source_credibility as number,\n        },\n        content: {\n          raw: metadata.content_raw as string,\n          summary: metadata.content_summary as string,\n          type: metadata.content_type as any,\n        },\n        embedding: [], // Not stored in metadata, would need to query with includeValues\n        entities,\n        relationships,\n        topics: (metadata.topics as string[]) || [],\n        sentiment: metadata.sentiment as number,\n        importance: metadata.importance as number,\n        timestamp: metadata.timestamp as number,\n        expiresAt: metadata.expiresAt as number || undefined,\n        decayRate: metadata.decayRate as number,\n        processed: metadata.processed as boolean,\n        quality: metadata.quality as number,\n      };\n    } catch (error) {\n      this.logger.error(`Failed to deserialize metadata for ${id}: ${error}`);\n      return null;\n    }\n  }\n}\n","/**\n * Qdrant Vector Store Adapter\n *\n * Open-source vector database with filtering and payload support.\n * Requires @qdrant/js-client-rest package.\n */\n\nimport { Logger } from \"../../utils/logger.js\";\nimport type { EmbeddingGenerator } from \"../../process/embeddings.js\";\nimport type { KnowledgeItem, SearchResult } from \"../../types/index.js\";\nimport type { VectorStore } from \"./index.js\";\n\n// Qdrant types (from @qdrant/js-client-rest)\ninterface QdrantPoint {\n  id: string;\n  vector: number[];\n  payload?: Record<string, unknown>;\n}\n\ninterface QdrantSearchResult {\n  id: string;\n  score: number;\n  payload?: Record<string, unknown>;\n  vector?: number[];\n}\n\nexport interface QdrantConfig {\n  url: string; // Qdrant server URL (e.g., \"http://localhost:6333\")\n  apiKey?: string; // Optional API key for Qdrant Cloud\n  collectionName: string;\n  dimension?: number; // Vector dimension (default: 768 for Gemini)\n  https?: boolean; // Use HTTPS\n}\n\nexport class QdrantVectorStore implements VectorStore {\n  private logger = new Logger(\"QdrantVectorStore\");\n  private config: QdrantConfig;\n  private client: any; // QdrantClient\n  private collectionName: string;\n  private localCache: Map<string, KnowledgeItem> = new Map();\n  private initialized = false;\n\n  constructor(config: QdrantConfig) {\n    this.config = {\n      dimension: 768, // Default for Gemini embeddings\n      ...config,\n    };\n    this.collectionName = this.config.collectionName;\n  }\n\n  /**\n   * Initialize Qdrant connection\n   */\n  async init(): Promise<void> {\n    try {\n      // Dynamic import to avoid bundling issues\n      const { QdrantClient } = await import(\"@qdrant/js-client-rest\");\n\n      this.client = new QdrantClient({\n        url: this.config.url,\n        apiKey: this.config.apiKey,\n        https: this.config.https,\n      });\n\n      // Check if collection exists, create if not\n      const collections = await this.client.getCollections();\n      const exists = collections.collections.some(\n        (c: { name: string }) => c.name === this.collectionName\n      );\n\n      if (!exists) {\n        await this.client.createCollection(this.collectionName, {\n          vectors: {\n            size: this.config.dimension!,\n            distance: \"Cosine\",\n          },\n        });\n        this.logger.info(`Created collection: ${this.collectionName}`);\n      }\n\n      // Get collection info\n      const info = await this.client.getCollection(this.collectionName);\n      const vectorCount = info.points_count ?? 0;\n\n      this.initialized = true;\n      this.logger.info(\n        `Qdrant initialized: collection=${this.collectionName}, vectors=${vectorCount}`\n      );\n    } catch (error) {\n      const err = error instanceof Error ? error.message : String(error);\n      this.logger.error(`Failed to initialize Qdrant: ${err}`);\n\n      // Check if it's a missing package error\n      if (err.includes(\"Cannot find module\") || err.includes(\"MODULE_NOT_FOUND\")) {\n        throw new Error(\n          \"Qdrant package not installed. Run: pnpm add @qdrant/js-client-rest\"\n        );\n      }\n\n      throw error;\n    }\n  }\n\n  /**\n   * Add item to Qdrant\n   */\n  async add(item: KnowledgeItem): Promise<void> {\n    this.ensureInitialized();\n\n    await this.client.upsert(this.collectionName, {\n      wait: true,\n      points: [\n        {\n          id: item.id,\n          vector: item.embedding,\n          payload: this.serializePayload(item),\n        },\n      ],\n    });\n\n    this.localCache.set(item.id, item);\n    this.logger.debug(`Added vector: ${item.id}`);\n  }\n\n  /**\n   * Add multiple items in batch\n   */\n  async addBatch(items: KnowledgeItem[]): Promise<void> {\n    this.ensureInitialized();\n\n    if (items.length === 0) return;\n\n    // Qdrant supports large batches, but we'll chunk at 100 for safety\n    const batchSize = 100;\n    for (let i = 0; i < items.length; i += batchSize) {\n      const batch = items.slice(i, i + batchSize);\n      const points: QdrantPoint[] = batch.map((item) => ({\n        id: item.id,\n        vector: item.embedding,\n        payload: this.serializePayload(item),\n      }));\n\n      await this.client.upsert(this.collectionName, {\n        wait: true,\n        points,\n      });\n\n      // Update local cache\n      for (const item of batch) {\n        this.localCache.set(item.id, item);\n      }\n    }\n\n    this.logger.info(`Added ${items.length} vectors in batches`);\n  }\n\n  /**\n   * Get item by ID (from local cache)\n   */\n  get(id: string): KnowledgeItem | undefined {\n    return this.localCache.get(id);\n  }\n\n  /**\n   * Delete item from Qdrant\n   */\n  delete(id: string): boolean {\n    this.ensureInitialized();\n\n    try {\n      // Fire and forget - Qdrant delete is async\n      this.client.delete(this.collectionName, {\n        wait: false,\n        points: [id],\n      });\n      this.localCache.delete(id);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * Search by vector similarity\n   */\n  async search(\n    queryEmbedding: number[],\n    limit: number = 10,\n    minScore: number = 0\n  ): Promise<SearchResult[]> {\n    this.ensureInitialized();\n\n    const results = await this.client.search(this.collectionName, {\n      vector: queryEmbedding,\n      limit: limit * 2, // Over-fetch to filter by minScore\n      with_payload: true,\n      with_vector: false,\n      score_threshold: minScore > 0 ? minScore : undefined,\n    });\n\n    const searchResults: SearchResult[] = [];\n\n    for (const match of results as QdrantSearchResult[]) {\n      if (match.score < minScore) continue;\n\n      // Reconstruct item from payload\n      const item = this.deserializePayload(match.id as string, match.payload);\n      if (item) {\n        searchResults.push({\n          ...item,\n          score: match.score,\n        });\n      }\n    }\n\n    return searchResults.slice(0, limit);\n  }\n\n  /**\n   * Search by text query\n   */\n  async searchText(\n    query: string,\n    embedder: EmbeddingGenerator,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    const queryEmbedding = await embedder.embed(query);\n    return this.search(queryEmbedding, limit);\n  }\n\n  /**\n   * Filter by predicate (local cache only)\n   */\n  filter(predicate: (item: KnowledgeItem) => boolean): KnowledgeItem[] {\n    return Array.from(this.localCache.values()).filter(predicate);\n  }\n\n  /**\n   * Get all items (local cache only)\n   */\n  getAll(): KnowledgeItem[] {\n    return Array.from(this.localCache.values());\n  }\n\n  /**\n   * Get count (local cache)\n   */\n  count(): number {\n    return this.localCache.size;\n  }\n\n  /**\n   * Save (no-op for Qdrant - data is persisted automatically)\n   */\n  async save(): Promise<void> {\n    // Qdrant auto-persists with wait: true\n    this.logger.debug(\"Qdrant auto-persists data\");\n  }\n\n  /**\n   * Clear all vectors in collection\n   */\n  clear(): void {\n    this.ensureInitialized();\n\n    // Delete all points by recreating collection\n    this.client\n      .deleteCollection(this.collectionName)\n      .then(() => {\n        return this.client.createCollection(this.collectionName, {\n          vectors: {\n            size: this.config.dimension!,\n            distance: \"Cosine\",\n          },\n        });\n      })\n      .catch((err: Error) => {\n        this.logger.error(`Failed to clear collection: ${err.message}`);\n      });\n\n    this.localCache.clear();\n    this.logger.info(`Cleared collection: ${this.collectionName}`);\n  }\n\n  /**\n   * Shutdown\n   */\n  async shutdown(): Promise<void> {\n    this.localCache.clear();\n    this.initialized = false;\n    this.logger.info(\"Qdrant connection closed\");\n  }\n\n  // ============================================================================\n  // FILTERING (Qdrant's powerful feature)\n  // ============================================================================\n\n  /**\n   * Search with Qdrant filter conditions\n   */\n  async searchWithFilter(\n    queryEmbedding: number[],\n    filter: Record<string, unknown>,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    this.ensureInitialized();\n\n    const results = await this.client.search(this.collectionName, {\n      vector: queryEmbedding,\n      limit,\n      with_payload: true,\n      filter,\n    });\n\n    const searchResults: SearchResult[] = [];\n\n    for (const match of results as QdrantSearchResult[]) {\n      const item = this.deserializePayload(match.id as string, match.payload);\n      if (item) {\n        searchResults.push({\n          ...item,\n          score: match.score,\n        });\n      }\n    }\n\n    return searchResults;\n  }\n\n  /**\n   * Search by topic\n   */\n  async searchByTopic(\n    queryEmbedding: number[],\n    topic: string,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    return this.searchWithFilter(\n      queryEmbedding,\n      {\n        must: [\n          {\n            key: \"topics\",\n            match: { any: [topic] },\n          },\n        ],\n      },\n      limit\n    );\n  }\n\n  /**\n   * Search by source type\n   */\n  async searchBySource(\n    queryEmbedding: number[],\n    sourceType: string,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    return this.searchWithFilter(\n      queryEmbedding,\n      {\n        must: [\n          {\n            key: \"source_type\",\n            match: { value: sourceType },\n          },\n        ],\n      },\n      limit\n    );\n  }\n\n  /**\n   * Search recent items (within time range)\n   */\n  async searchRecent(\n    queryEmbedding: number[],\n    sinceTimestamp: number,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    return this.searchWithFilter(\n      queryEmbedding,\n      {\n        must: [\n          {\n            key: \"timestamp\",\n            range: { gte: sinceTimestamp },\n          },\n        ],\n      },\n      limit\n    );\n  }\n\n  // ============================================================================\n  // PRIVATE METHODS\n  // ============================================================================\n\n  private ensureInitialized(): void {\n    if (!this.initialized || !this.client) {\n      throw new Error(\"Qdrant not initialized. Call init() first.\");\n    }\n  }\n\n  /**\n   * Serialize KnowledgeItem to Qdrant payload\n   */\n  private serializePayload(item: KnowledgeItem): Record<string, unknown> {\n    return {\n      // Source\n      source_type: item.source.type,\n      source_name: item.source.name,\n      source_url: item.source.url ?? \"\",\n      source_credibility: item.source.credibility,\n\n      // Content\n      content_raw: item.content.raw.slice(0, 30000), // Qdrant has larger payload limits\n      content_summary: item.content.summary,\n      content_type: item.content.type,\n\n      // Classification\n      topics: item.topics,\n      sentiment: item.sentiment,\n      importance: item.importance,\n\n      // Temporal\n      timestamp: item.timestamp,\n      expiresAt: item.expiresAt ?? 0,\n      decayRate: item.decayRate,\n\n      // Meta\n      processed: item.processed,\n      quality: item.quality,\n\n      // Entities (Qdrant supports nested objects)\n      entities: item.entities,\n      relationships: item.relationships,\n    };\n  }\n\n  /**\n   * Deserialize Qdrant payload to KnowledgeItem\n   */\n  private deserializePayload(\n    id: string,\n    payload?: Record<string, unknown>\n  ): KnowledgeItem | null {\n    if (!payload) return null;\n\n    try {\n      return {\n        id,\n        source: {\n          type: payload.source_type as any,\n          name: payload.source_name as string,\n          url: (payload.source_url as string) || undefined,\n          credibility: payload.source_credibility as number,\n        },\n        content: {\n          raw: payload.content_raw as string,\n          summary: payload.content_summary as string,\n          type: payload.content_type as any,\n        },\n        embedding: [], // Not stored in payload\n        entities: (payload.entities as any[]) || [],\n        relationships: (payload.relationships as any[]) || [],\n        topics: (payload.topics as string[]) || [],\n        sentiment: payload.sentiment as number,\n        importance: payload.importance as number,\n        timestamp: payload.timestamp as number,\n        expiresAt: (payload.expiresAt as number) || undefined,\n        decayRate: payload.decayRate as number,\n        processed: payload.processed as boolean,\n        quality: payload.quality as number,\n      };\n    } catch (error) {\n      this.logger.error(`Failed to deserialize payload for ${id}: ${error}`);\n      return null;\n    }\n  }\n}\n","/**\n * Vector Store Interface\n *\n * Abstracts vector storage implementations.\n */\n\nimport { LocalVectorStore } from \"./local.js\";\nimport { PineconeVectorStore, type PineconeConfig } from \"./pinecone.js\";\nimport { QdrantVectorStore, type QdrantConfig } from \"./qdrant.js\";\nimport type { KnowledgeItem, SearchResult } from \"../../types/index.js\";\nimport type { EmbeddingGenerator } from \"../../process/embeddings.js\";\n\nexport interface VectorStore {\n  init(): Promise<void>;\n  add(item: KnowledgeItem): Promise<void>;\n  addBatch(items: KnowledgeItem[]): Promise<void>;\n  get(id: string): KnowledgeItem | undefined;\n  delete(id: string): boolean;\n  search(queryEmbedding: number[], limit?: number, minScore?: number): Promise<SearchResult[]>;\n  searchText(query: string, embedder: EmbeddingGenerator, limit?: number): Promise<SearchResult[]>;\n  filter(predicate: (item: KnowledgeItem) => boolean): KnowledgeItem[];\n  getAll(): KnowledgeItem[];\n  count(): number;\n  save(): Promise<void>;\n  clear(): void;\n  shutdown(): Promise<void>;\n}\n\nexport type VectorStoreType = \"local\" | \"pinecone\" | \"qdrant\";\n\n/**\n * Create vector store instance\n */\nexport function createVectorStore(\n  type: VectorStoreType = \"local\",\n  config?: Record<string, unknown>\n): VectorStore {\n  switch (type) {\n    case \"local\":\n      return new LocalVectorStore(config?.dataDir as string);\n\n    case \"pinecone\":\n      if (!config || !(\"apiKey\" in config) || !(\"indexName\" in config)) {\n        throw new Error(\"Pinecone requires apiKey and indexName in config\");\n      }\n      return new PineconeVectorStore(config as unknown as PineconeConfig);\n\n    case \"qdrant\":\n      if (!config || !(\"url\" in config) || !(\"collectionName\" in config)) {\n        throw new Error(\"Qdrant requires url and collectionName in config\");\n      }\n      return new QdrantVectorStore(config as unknown as QdrantConfig);\n\n    default:\n      return new LocalVectorStore();\n  }\n}\n\nexport { LocalVectorStore, PineconeVectorStore, QdrantVectorStore, type PineconeConfig, type QdrantConfig };\n","/**\n * Memory Store\n *\n * Short-term and long-term memory management.\n */\n\nimport { promises as fs } from \"fs\";\nimport { join } from \"path\";\nimport { Logger } from \"../../utils/logger.js\";\nimport type { Pattern, Prediction } from \"../../types/index.js\";\n\ninterface MemoryEntry<T> {\n  key: string;\n  value: T;\n  createdAt: number;\n  accessedAt: number;\n  accessCount: number;\n  ttl?: number; // Time to live in ms\n}\n\nexport class MemoryStore {\n  private shortTerm: Map<string, MemoryEntry<unknown>> = new Map();\n  private longTerm: Map<string, MemoryEntry<unknown>> = new Map();\n  private patterns: Map<string, Pattern> = new Map();\n  private predictions: Map<string, Prediction> = new Map();\n\n  private logger = new Logger(\"Memory\");\n  private dataDir: string;\n\n  constructor(dataDir: string = \"./data\") {\n    this.dataDir = dataDir;\n  }\n\n  /**\n   * Initialize memory store\n   */\n  async init(): Promise<void> {\n    await this.loadPatterns();\n    await this.loadPredictions();\n    this.logger.info(\"Memory store initialized\");\n  }\n\n  // ============================================================================\n  // SHORT-TERM MEMORY\n  // ============================================================================\n\n  /**\n   * Set short-term memory\n   */\n  setShortTerm<T>(key: string, value: T, ttl: number = 3600000): void {\n    this.shortTerm.set(key, {\n      key,\n      value,\n      createdAt: Date.now(),\n      accessedAt: Date.now(),\n      accessCount: 0,\n      ttl,\n    });\n  }\n\n  /**\n   * Get short-term memory\n   */\n  getShortTerm<T>(key: string): T | undefined {\n    const entry = this.shortTerm.get(key);\n    if (!entry) return undefined;\n\n    // Check TTL\n    if (entry.ttl && Date.now() - entry.createdAt > entry.ttl) {\n      this.shortTerm.delete(key);\n      return undefined;\n    }\n\n    entry.accessedAt = Date.now();\n    entry.accessCount++;\n    return entry.value as T;\n  }\n\n  /**\n   * Clear expired short-term memory\n   */\n  cleanupShortTerm(): number {\n    let cleaned = 0;\n    const now = Date.now();\n\n    for (const [key, entry] of this.shortTerm) {\n      if (entry.ttl && now - entry.createdAt > entry.ttl) {\n        this.shortTerm.delete(key);\n        cleaned++;\n      }\n    }\n\n    return cleaned;\n  }\n\n  // ============================================================================\n  // LONG-TERM MEMORY\n  // ============================================================================\n\n  /**\n   * Set long-term memory\n   */\n  setLongTerm<T>(key: string, value: T): void {\n    this.longTerm.set(key, {\n      key,\n      value,\n      createdAt: Date.now(),\n      accessedAt: Date.now(),\n      accessCount: 0,\n    });\n  }\n\n  /**\n   * Get long-term memory\n   */\n  getLongTerm<T>(key: string): T | undefined {\n    const entry = this.longTerm.get(key);\n    if (!entry) return undefined;\n\n    entry.accessedAt = Date.now();\n    entry.accessCount++;\n    return entry.value as T;\n  }\n\n  /**\n   * Promote from short-term to long-term\n   */\n  promote(key: string): boolean {\n    const entry = this.shortTerm.get(key);\n    if (!entry) return false;\n\n    this.longTerm.set(key, { ...entry, ttl: undefined });\n    this.shortTerm.delete(key);\n    return true;\n  }\n\n  // ============================================================================\n  // PATTERNS\n  // ============================================================================\n\n  /**\n   * Add pattern\n   */\n  addPattern(pattern: Pattern): void {\n    this.patterns.set(pattern.id, pattern);\n  }\n\n  /**\n   * Get pattern\n   */\n  getPattern(id: string): Pattern | undefined {\n    return this.patterns.get(id);\n  }\n\n  /**\n   * Get all patterns\n   */\n  getAllPatterns(): Pattern[] {\n    return Array.from(this.patterns.values());\n  }\n\n  /**\n   * Update pattern\n   */\n  updatePattern(id: string, updates: Partial<Pattern>): boolean {\n    const pattern = this.patterns.get(id);\n    if (!pattern) return false;\n\n    Object.assign(pattern, updates);\n    return true;\n  }\n\n  /**\n   * Save patterns to disk\n   */\n  async savePatterns(): Promise<void> {\n    const path = join(this.dataDir, \"patterns.json\");\n    const data = Array.from(this.patterns.values());\n    await fs.mkdir(this.dataDir, { recursive: true });\n    await fs.writeFile(path, JSON.stringify(data, null, 2));\n    this.logger.info(`Saved ${data.length} patterns`);\n  }\n\n  /**\n   * Load patterns from disk\n   */\n  private async loadPatterns(): Promise<void> {\n    try {\n      const path = join(this.dataDir, \"patterns.json\");\n      const data = await fs.readFile(path, \"utf-8\");\n      const patterns: Pattern[] = JSON.parse(data);\n      for (const pattern of patterns) {\n        this.patterns.set(pattern.id, pattern);\n      }\n      this.logger.info(`Loaded ${patterns.length} patterns`);\n    } catch {\n      // File doesn't exist yet\n    }\n  }\n\n  // ============================================================================\n  // PREDICTIONS\n  // ============================================================================\n\n  /**\n   * Add prediction\n   */\n  addPrediction(prediction: Prediction): void {\n    this.predictions.set(prediction.id, prediction);\n  }\n\n  /**\n   * Get prediction\n   */\n  getPrediction(id: string): Prediction | undefined {\n    return this.predictions.get(id);\n  }\n\n  /**\n   * Get all predictions\n   */\n  getAllPredictions(): Prediction[] {\n    return Array.from(this.predictions.values());\n  }\n\n  /**\n   * Get pending predictions (not yet evaluated)\n   */\n  getPendingPredictions(): Prediction[] {\n    return Array.from(this.predictions.values()).filter((p) => !p.outcome);\n  }\n\n  /**\n   * Update prediction outcome\n   */\n  updatePredictionOutcome(\n    id: string,\n    outcome: { correct: boolean; actual: string }\n  ): boolean {\n    const prediction = this.predictions.get(id);\n    if (!prediction) return false;\n\n    prediction.outcome = {\n      ...outcome,\n      evaluatedAt: Date.now(),\n    };\n    return true;\n  }\n\n  /**\n   * Save predictions to disk\n   */\n  async savePredictions(): Promise<void> {\n    const path = join(this.dataDir, \"predictions.json\");\n    const data = Array.from(this.predictions.values());\n    await fs.mkdir(this.dataDir, { recursive: true });\n    await fs.writeFile(path, JSON.stringify(data, null, 2));\n    this.logger.info(`Saved ${data.length} predictions`);\n  }\n\n  /**\n   * Load predictions from disk\n   */\n  private async loadPredictions(): Promise<void> {\n    try {\n      const path = join(this.dataDir, \"predictions.json\");\n      const data = await fs.readFile(path, \"utf-8\");\n      const predictions: Prediction[] = JSON.parse(data);\n      for (const prediction of predictions) {\n        this.predictions.set(prediction.id, prediction);\n      }\n      this.logger.info(`Loaded ${predictions.length} predictions`);\n    } catch {\n      // File doesn't exist yet\n    }\n  }\n\n  // ============================================================================\n  // STATS\n  // ============================================================================\n\n  /**\n   * Get memory stats\n   */\n  getStats(): {\n    shortTerm: number;\n    longTerm: number;\n    patterns: number;\n    predictions: number;\n  } {\n    return {\n      shortTerm: this.shortTerm.size,\n      longTerm: this.longTerm.size,\n      patterns: this.patterns.size,\n      predictions: this.predictions.size,\n    };\n  }\n\n  /**\n   * Save all to disk\n   */\n  async saveAll(): Promise<void> {\n    await this.savePatterns();\n    await this.savePredictions();\n  }\n\n  /**\n   * Shutdown\n   */\n  async shutdown(): Promise<void> {\n    await this.saveAll();\n    this.logger.info(\"Memory store shut down\");\n  }\n}\n","/**\n * Storage Orchestrator\n *\n * Coordinates all storage systems.\n */\n\nimport { createVectorStore, type VectorStore, type VectorStoreType } from \"./vector/index.js\";\nimport { MemoryStore } from \"./memory/index.js\";\nimport { Logger } from \"../utils/logger.js\";\nimport type { KnowledgeItem, SearchResult, Pattern, Prediction } from \"../types/index.js\";\nimport type { EmbeddingGenerator } from \"../process/embeddings.js\";\n\nexport interface StorageConfig {\n  vectorStore: VectorStoreType;\n  dataDir: string;\n}\n\nexport class StorageOrchestrator {\n  private vectorStore: VectorStore;\n  private memoryStore: MemoryStore;\n  private logger = new Logger(\"Storage\");\n  private initialized = false;\n\n  constructor(config: Partial<StorageConfig> = {}) {\n    const dataDir = config.dataDir || \"./data\";\n\n    this.vectorStore = createVectorStore(config.vectorStore || \"local\", {\n      dataDir,\n    });\n    this.memoryStore = new MemoryStore(dataDir);\n  }\n\n  /**\n   * Initialize all stores\n   */\n  async init(): Promise<void> {\n    if (this.initialized) return;\n\n    await this.vectorStore.init();\n    await this.memoryStore.init();\n\n    this.initialized = true;\n    this.logger.info(\"Storage orchestrator initialized\");\n  }\n\n  // ============================================================================\n  // KNOWLEDGE\n  // ============================================================================\n\n  /**\n   * Store knowledge item\n   */\n  async storeKnowledge(item: KnowledgeItem): Promise<void> {\n    await this.vectorStore.add(item);\n  }\n\n  /**\n   * Store multiple knowledge items\n   */\n  async storeKnowledgeBatch(items: KnowledgeItem[]): Promise<void> {\n    await this.vectorStore.addBatch(items);\n  }\n\n  /**\n   * Get knowledge item by ID\n   */\n  getKnowledge(id: string): KnowledgeItem | undefined {\n    return this.vectorStore.get(id);\n  }\n\n  /**\n   * Search knowledge by text\n   */\n  async searchKnowledge(\n    query: string,\n    embedder: EmbeddingGenerator,\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    return this.vectorStore.searchText(query, embedder, limit);\n  }\n\n  /**\n   * Search knowledge by embedding\n   */\n  async searchByEmbedding(\n    embedding: number[],\n    limit: number = 10\n  ): Promise<SearchResult[]> {\n    return this.vectorStore.search(embedding, limit);\n  }\n\n  /**\n   * Filter knowledge\n   */\n  filterKnowledge(predicate: (item: KnowledgeItem) => boolean): KnowledgeItem[] {\n    return this.vectorStore.filter(predicate);\n  }\n\n  /**\n   * Get all knowledge\n   */\n  getAllKnowledge(): KnowledgeItem[] {\n    return this.vectorStore.getAll();\n  }\n\n  /**\n   * Get knowledge count\n   */\n  getKnowledgeCount(): number {\n    return this.vectorStore.count();\n  }\n\n  // ============================================================================\n  // PATTERNS\n  // ============================================================================\n\n  /**\n   * Store pattern\n   */\n  storePattern(pattern: Pattern): void {\n    this.memoryStore.addPattern(pattern);\n  }\n\n  /**\n   * Get pattern\n   */\n  getPattern(id: string): Pattern | undefined {\n    return this.memoryStore.getPattern(id);\n  }\n\n  /**\n   * Get all patterns\n   */\n  getAllPatterns(): Pattern[] {\n    return this.memoryStore.getAllPatterns();\n  }\n\n  /**\n   * Update pattern\n   */\n  updatePattern(id: string, updates: Partial<Pattern>): boolean {\n    return this.memoryStore.updatePattern(id, updates);\n  }\n\n  // ============================================================================\n  // PREDICTIONS\n  // ============================================================================\n\n  /**\n   * Store prediction\n   */\n  storePrediction(prediction: Prediction): void {\n    this.memoryStore.addPrediction(prediction);\n  }\n\n  /**\n   * Get prediction\n   */\n  getPrediction(id: string): Prediction | undefined {\n    return this.memoryStore.getPrediction(id);\n  }\n\n  /**\n   * Get all predictions\n   */\n  getAllPredictions(): Prediction[] {\n    return this.memoryStore.getAllPredictions();\n  }\n\n  /**\n   * Get pending predictions\n   */\n  getPendingPredictions(): Prediction[] {\n    return this.memoryStore.getPendingPredictions();\n  }\n\n  /**\n   * Update prediction outcome\n   */\n  updatePredictionOutcome(\n    id: string,\n    outcome: { correct: boolean; actual: string }\n  ): boolean {\n    return this.memoryStore.updatePredictionOutcome(id, outcome);\n  }\n\n  // ============================================================================\n  // MEMORY\n  // ============================================================================\n\n  /**\n   * Set short-term memory\n   */\n  setShortTerm<T>(key: string, value: T, ttl?: number): void {\n    this.memoryStore.setShortTerm(key, value, ttl);\n  }\n\n  /**\n   * Get short-term memory\n   */\n  getShortTerm<T>(key: string): T | undefined {\n    return this.memoryStore.getShortTerm<T>(key);\n  }\n\n  /**\n   * Set long-term memory\n   */\n  setLongTerm<T>(key: string, value: T): void {\n    this.memoryStore.setLongTerm(key, value);\n  }\n\n  /**\n   * Get long-term memory\n   */\n  getLongTerm<T>(key: string): T | undefined {\n    return this.memoryStore.getLongTerm<T>(key);\n  }\n\n  // ============================================================================\n  // STATS & LIFECYCLE\n  // ============================================================================\n\n  /**\n   * Get storage stats\n   */\n  getStats(): {\n    knowledge: number;\n    patterns: number;\n    predictions: number;\n    memory: { shortTerm: number; longTerm: number };\n  } {\n    const memStats = this.memoryStore.getStats();\n    return {\n      knowledge: this.vectorStore.count(),\n      patterns: memStats.patterns,\n      predictions: memStats.predictions,\n      memory: {\n        shortTerm: memStats.shortTerm,\n        longTerm: memStats.longTerm,\n      },\n    };\n  }\n\n  /**\n   * Save all data\n   */\n  async save(): Promise<void> {\n    await this.vectorStore.save();\n    await this.memoryStore.saveAll();\n  }\n\n  /**\n   * Shutdown\n   */\n  async shutdown(): Promise<void> {\n    await this.vectorStore.shutdown();\n    await this.memoryStore.shutdown();\n    this.logger.info(\"Storage orchestrator shut down\");\n  }\n}\n\n// Re-exports\nexport { createVectorStore, LocalVectorStore } from \"./vector/index.js\";\nexport { MemoryStore } from \"./memory/index.js\";\nexport type { VectorStore, VectorStoreType };\n","/**\n * Retrieval System\n *\n * Semantic search and hybrid retrieval.\n */\n\nimport { Logger } from \"../utils/logger.js\";\nimport { StorageOrchestrator } from \"../store/index.js\";\nimport { EmbeddingGenerator } from \"../process/embeddings.js\";\nimport type { KnowledgeItem, SearchResult } from \"../types/index.js\";\n\nexport interface RetrievalOptions {\n  limit?: number;\n  minScore?: number;\n  filters?: {\n    sources?: string[];\n    topics?: string[];\n    after?: number;\n    before?: number;\n    minImportance?: number;\n  };\n  rerank?: boolean;\n}\n\nexport class RetrievalSystem {\n  private storage: StorageOrchestrator;\n  private embedder: EmbeddingGenerator;\n  private logger = new Logger(\"Retrieval\");\n\n  constructor(storage: StorageOrchestrator, embedder: EmbeddingGenerator) {\n    this.storage = storage;\n    this.embedder = embedder;\n  }\n\n  /**\n   * Search by text query\n   */\n  async search(query: string, options: RetrievalOptions = {}): Promise<SearchResult[]> {\n    const limit = options.limit || 10;\n    const minScore = options.minScore || 0.3;\n\n    // Semantic search\n    let results = await this.storage.searchKnowledge(query, this.embedder, limit * 2);\n\n    // Apply filters\n    if (options.filters) {\n      results = this.applyFilters(results, options.filters);\n    }\n\n    // Filter by min score\n    results = results.filter((r) => r.score >= minScore);\n\n    // Rerank if requested\n    if (options.rerank) {\n      results = await this.rerank(query, results);\n    }\n\n    return results.slice(0, limit);\n  }\n\n  /**\n   * Hybrid search (semantic + keyword)\n   */\n  async hybridSearch(\n    query: string,\n    options: RetrievalOptions = {}\n  ): Promise<SearchResult[]> {\n    const limit = options.limit || 10;\n\n    // Semantic search\n    const semanticResults = await this.search(query, { ...options, limit: limit * 2 });\n\n    // Keyword search\n    const keywordResults = this.keywordSearch(query, limit * 2);\n\n    // Merge and deduplicate\n    const merged = this.mergeResults(semanticResults, keywordResults);\n\n    // Apply filters\n    let results = options.filters\n      ? this.applyFilters(merged, options.filters)\n      : merged;\n\n    // Rerank\n    if (options.rerank) {\n      results = await this.rerank(query, results);\n    }\n\n    return results.slice(0, limit);\n  }\n\n  /**\n   * Get similar items\n   */\n  async getSimilar(itemId: string, limit: number = 10): Promise<SearchResult[]> {\n    const item = this.storage.getKnowledge(itemId);\n    if (!item) return [];\n\n    return this.storage.searchByEmbedding(item.embedding, limit + 1).then((results) =>\n      results.filter((r) => r.id !== itemId).slice(0, limit)\n    );\n  }\n\n  /**\n   * Get by topic\n   */\n  getByTopic(topic: string, limit: number = 20): KnowledgeItem[] {\n    return this.storage\n      .filterKnowledge((item) => item.topics.includes(topic))\n      .sort((a, b) => b.importance - a.importance)\n      .slice(0, limit);\n  }\n\n  /**\n   * Get by source\n   */\n  getBySource(source: string, limit: number = 20): KnowledgeItem[] {\n    return this.storage\n      .filterKnowledge((item) => item.source.name === source)\n      .sort((a, b) => b.timestamp - a.timestamp)\n      .slice(0, limit);\n  }\n\n  /**\n   * Get recent items\n   */\n  getRecent(limit: number = 20): KnowledgeItem[] {\n    return this.storage\n      .getAllKnowledge()\n      .sort((a, b) => b.timestamp - a.timestamp)\n      .slice(0, limit);\n  }\n\n  /**\n   * Get important items\n   */\n  getImportant(limit: number = 20): KnowledgeItem[] {\n    return this.storage\n      .getAllKnowledge()\n      .sort((a, b) => b.importance - a.importance)\n      .slice(0, limit);\n  }\n\n  /**\n   * Keyword search\n   */\n  private keywordSearch(query: string, limit: number): SearchResult[] {\n    const queryWords = query.toLowerCase().split(/\\s+/);\n    const results: SearchResult[] = [];\n\n    for (const item of this.storage.getAllKnowledge()) {\n      const content = item.content.raw.toLowerCase();\n      let matchCount = 0;\n\n      for (const word of queryWords) {\n        if (content.includes(word)) {\n          matchCount++;\n        }\n      }\n\n      if (matchCount > 0) {\n        const score = matchCount / queryWords.length;\n        results.push({ ...item, score });\n      }\n    }\n\n    return results.sort((a, b) => b.score - a.score).slice(0, limit);\n  }\n\n  /**\n   * Merge and deduplicate results\n   */\n  private mergeResults(\n    semantic: SearchResult[],\n    keyword: SearchResult[]\n  ): SearchResult[] {\n    const merged = new Map<string, SearchResult>();\n\n    // Add semantic results with higher weight\n    for (const result of semantic) {\n      merged.set(result.id, { ...result, score: result.score * 0.7 });\n    }\n\n    // Add keyword results\n    for (const result of keyword) {\n      const existing = merged.get(result.id);\n      if (existing) {\n        // Boost score if found in both\n        existing.score += result.score * 0.3;\n      } else {\n        merged.set(result.id, { ...result, score: result.score * 0.3 });\n      }\n    }\n\n    return Array.from(merged.values()).sort((a, b) => b.score - a.score);\n  }\n\n  /**\n   * Apply filters to results\n   */\n  private applyFilters(\n    results: SearchResult[],\n    filters: RetrievalOptions[\"filters\"]\n  ): SearchResult[] {\n    if (!filters) return results;\n\n    return results.filter((result) => {\n      if (filters.sources && !filters.sources.includes(result.source.name)) {\n        return false;\n      }\n      if (filters.topics && !filters.topics.some((t) => result.topics.includes(t))) {\n        return false;\n      }\n      if (filters.after && result.timestamp < filters.after) {\n        return false;\n      }\n      if (filters.before && result.timestamp > filters.before) {\n        return false;\n      }\n      if (filters.minImportance && result.importance < filters.minImportance) {\n        return false;\n      }\n      return true;\n    });\n  }\n\n  /**\n   * Rerank results (simple implementation)\n   */\n  private async rerank(query: string, results: SearchResult[]): Promise<SearchResult[]> {\n    // Simple reranking based on:\n    // 1. Recency boost\n    // 2. Importance boost\n    // 3. Quality boost\n\n    const now = Date.now();\n    const oneDay = 86400000;\n\n    return results\n      .map((result) => {\n        let score = result.score;\n\n        // Recency boost (items from last 24h get up to 20% boost)\n        const age = now - result.timestamp;\n        if (age < oneDay) {\n          score *= 1 + 0.2 * (1 - age / oneDay);\n        }\n\n        // Importance boost (up to 15%)\n        score *= 1 + (result.importance / 100) * 0.15;\n\n        // Quality boost (up to 10%)\n        score *= 1 + (result.quality / 100) * 0.1;\n\n        return { ...result, score };\n      })\n      .sort((a, b) => b.score - a.score);\n  }\n}\n","/**\n * Learning System\n *\n * Pattern recognition and self-improvement.\n */\n\nimport { Logger } from \"../utils/logger.js\";\nimport { StorageOrchestrator } from \"../store/index.js\";\nimport type { Pattern, KnowledgeItem, Condition, Action } from \"../types/index.js\";\n\nexport class LearningSystem {\n  private storage: StorageOrchestrator;\n  private logger = new Logger(\"Learning\");\n\n  constructor(storage: StorageOrchestrator) {\n    this.storage = storage;\n  }\n\n  /**\n   * Analyze knowledge for patterns\n   */\n  async analyzePatterns(): Promise<Pattern[]> {\n    const knowledge = this.storage.getAllKnowledge();\n    const discovered: Pattern[] = [];\n\n    // Look for frequency patterns\n    const frequencyPatterns = this.findFrequencyPatterns(knowledge);\n    discovered.push(...frequencyPatterns);\n\n    // Look for correlation patterns\n    const correlationPatterns = this.findCorrelationPatterns(knowledge);\n    discovered.push(...correlationPatterns);\n\n    // Look for temporal patterns\n    const temporalPatterns = this.findTemporalPatterns(knowledge);\n    discovered.push(...temporalPatterns);\n\n    // Store new patterns\n    for (const pattern of discovered) {\n      const existing = this.storage.getPattern(pattern.id);\n      if (existing) {\n        // Update existing pattern\n        this.storage.updatePattern(pattern.id, {\n          occurrences: existing.occurrences + pattern.occurrences,\n          lastSeen: Date.now(),\n          confidence: (existing.confidence + pattern.confidence) / 2,\n        });\n      } else {\n        // Add new pattern\n        this.storage.storePattern(pattern);\n      }\n    }\n\n    this.logger.info(`Discovered ${discovered.length} patterns`);\n    return discovered;\n  }\n\n  /**\n   * Find frequency patterns (things that appear often together)\n   */\n  private findFrequencyPatterns(knowledge: KnowledgeItem[]): Pattern[] {\n    const patterns: Pattern[] = [];\n    const entityPairs: Map<string, number> = new Map();\n\n    // Count entity co-occurrences\n    for (const item of knowledge) {\n      const entities = item.entities;\n      for (let i = 0; i < entities.length; i++) {\n        for (let j = i + 1; j < entities.length; j++) {\n          const key = [entities[i].id, entities[j].id].sort().join(\"|\");\n          entityPairs.set(key, (entityPairs.get(key) || 0) + 1);\n        }\n      }\n    }\n\n    // Convert frequent pairs to patterns\n    for (const [key, count] of entityPairs) {\n      if (count >= 3) {\n        const [entity1, entity2] = key.split(\"|\");\n        patterns.push({\n          id: `freq-${key}`,\n          name: `Co-occurrence: ${entity1} + ${entity2}`,\n          description: `${entity1} and ${entity2} frequently appear together`,\n          conditions: [\n            {\n              type: \"correlation\",\n              field: \"entities\",\n              operator: \"contains\",\n              value: [entity1, entity2],\n            },\n          ],\n          occurrences: count,\n          accuracy: 0.7,\n          lastSeen: Date.now(),\n          suggestedActions: [],\n          discovered: Date.now(),\n          confidence: Math.min(count / 10, 1),\n          evolving: true,\n        });\n      }\n    }\n\n    return patterns;\n  }\n\n  /**\n   * Find correlation patterns (topic + sentiment correlations)\n   */\n  private findCorrelationPatterns(knowledge: KnowledgeItem[]): Pattern[] {\n    const patterns: Pattern[] = [];\n    const topicSentiments: Map<string, number[]> = new Map();\n\n    // Collect sentiment by topic\n    for (const item of knowledge) {\n      for (const topic of item.topics) {\n        const sentiments = topicSentiments.get(topic) || [];\n        sentiments.push(item.sentiment);\n        topicSentiments.set(topic, sentiments);\n      }\n    }\n\n    // Find topics with consistent sentiment\n    for (const [topic, sentiments] of topicSentiments) {\n      if (sentiments.length < 5) continue;\n\n      const avgSentiment = sentiments.reduce((a, b) => a + b, 0) / sentiments.length;\n      const variance = sentiments.reduce((a, b) => a + Math.pow(b - avgSentiment, 2), 0) / sentiments.length;\n\n      if (variance < 0.2 && Math.abs(avgSentiment) > 0.3) {\n        const sentiment = avgSentiment > 0 ? \"positive\" : \"negative\";\n        patterns.push({\n          id: `corr-sentiment-${topic}`,\n          name: `${topic} sentiment tendency`,\n          description: `Topic \"${topic}\" tends to have ${sentiment} sentiment`,\n          conditions: [\n            {\n              type: \"correlation\",\n              field: \"topics\",\n              operator: \"contains\",\n              value: topic,\n            },\n            {\n              type: \"threshold\",\n              field: \"sentiment\",\n              operator: avgSentiment > 0 ? \">\" : \"<\",\n              value: 0,\n            },\n          ],\n          occurrences: sentiments.length,\n          accuracy: 1 - variance,\n          lastSeen: Date.now(),\n          suggestedActions: [],\n          discovered: Date.now(),\n          confidence: Math.min(sentiments.length / 20, 1),\n          evolving: true,\n        });\n      }\n    }\n\n    return patterns;\n  }\n\n  /**\n   * Find temporal patterns (time-based trends)\n   */\n  private findTemporalPatterns(knowledge: KnowledgeItem[]): Pattern[] {\n    const patterns: Pattern[] = [];\n\n    // Group by hour of day\n    const hourlyTopics: Map<number, Map<string, number>> = new Map();\n\n    for (const item of knowledge) {\n      const hour = new Date(item.timestamp).getHours();\n      const topics = hourlyTopics.get(hour) || new Map();\n\n      for (const topic of item.topics) {\n        topics.set(topic, (topics.get(topic) || 0) + 1);\n      }\n\n      hourlyTopics.set(hour, topics);\n    }\n\n    // Find topics that peak at certain hours\n    for (let hour = 0; hour < 24; hour++) {\n      const topics = hourlyTopics.get(hour);\n      if (!topics) continue;\n\n      for (const [topic, count] of topics) {\n        if (count < 5) continue;\n\n        // Check if this hour has significantly more of this topic\n        let totalOtherHours = 0;\n        let otherHourCount = 0;\n\n        for (let h = 0; h < 24; h++) {\n          if (h === hour) continue;\n          const otherTopics = hourlyTopics.get(h);\n          if (otherTopics) {\n            totalOtherHours += otherTopics.get(topic) || 0;\n            otherHourCount++;\n          }\n        }\n\n        const avgOther = totalOtherHours / Math.max(otherHourCount, 1);\n        if (count > avgOther * 2) {\n          patterns.push({\n            id: `temporal-${topic}-${hour}`,\n            name: `${topic} peaks at ${hour}:00`,\n            description: `Topic \"${topic}\" appears more frequently around ${hour}:00`,\n            conditions: [\n              {\n                type: \"sequence\",\n                field: \"timestamp\",\n                operator: \"==\",\n                value: hour,\n                timeframe: 3600000,\n              },\n              {\n                type: \"correlation\",\n                field: \"topics\",\n                operator: \"contains\",\n                value: topic,\n              },\n            ],\n            occurrences: count,\n            accuracy: 0.6,\n            lastSeen: Date.now(),\n            suggestedActions: [],\n            discovered: Date.now(),\n            confidence: Math.min(count / avgOther / 5, 1),\n            evolving: true,\n          });\n        }\n      }\n    }\n\n    return patterns;\n  }\n\n  /**\n   * Get pattern statistics\n   */\n  getPatternStats(): {\n    total: number;\n    active: number;\n    avgAccuracy: number;\n  } {\n    const patterns = this.storage.getAllPatterns();\n    const activePatterns = patterns.filter(\n      (p) => Date.now() - p.lastSeen < 7 * 24 * 60 * 60 * 1000\n    );\n\n    const totalAccuracy = patterns.reduce((sum, p) => sum + p.accuracy, 0);\n\n    return {\n      total: patterns.length,\n      active: activePatterns.length,\n      avgAccuracy: patterns.length > 0 ? totalAccuracy / patterns.length : 0,\n    };\n  }\n\n  /**\n   * Match patterns against item\n   */\n  matchPatterns(item: KnowledgeItem): Pattern[] {\n    const patterns = this.storage.getAllPatterns();\n    const matched: Pattern[] = [];\n\n    for (const pattern of patterns) {\n      if (this.matchesConditions(item, pattern.conditions)) {\n        matched.push(pattern);\n      }\n    }\n\n    return matched;\n  }\n\n  /**\n   * Check if item matches conditions\n   */\n  private matchesConditions(item: KnowledgeItem, conditions: Condition[]): boolean {\n    for (const condition of conditions) {\n      if (!this.matchesCondition(item, condition)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Check single condition\n   */\n  private matchesCondition(item: KnowledgeItem, condition: Condition): boolean {\n    const value = this.getFieldValue(item, condition.field);\n\n    switch (condition.operator) {\n      case \">\":\n        return typeof value === \"number\" && value > condition.value;\n      case \"<\":\n        return typeof value === \"number\" && value < condition.value;\n      case \"==\":\n        return value === condition.value;\n      case \"contains\":\n        if (Array.isArray(value)) {\n          if (Array.isArray(condition.value)) {\n            return condition.value.every((v: unknown) => value.includes(v));\n          }\n          return value.includes(condition.value);\n        }\n        if (typeof value === \"string\") {\n          return value.includes(condition.value);\n        }\n        return false;\n      case \"matches\":\n        if (typeof value === \"string\") {\n          return new RegExp(condition.value).test(value);\n        }\n        return false;\n      default:\n        return false;\n    }\n  }\n\n  /**\n   * Get field value from item\n   */\n  private getFieldValue(item: KnowledgeItem, field: string): unknown {\n    const parts = field.split(\".\");\n    let value: unknown = item;\n\n    for (const part of parts) {\n      if (value && typeof value === \"object\" && part in value) {\n        value = (value as Record<string, unknown>)[part];\n      } else {\n        return undefined;\n      }\n    }\n\n    return value;\n  }\n}\n","/**\n * Prediction Engine\n *\n * Generates predictions based on patterns and knowledge.\n */\n\nimport Anthropic from \"@anthropic-ai/sdk\";\nimport { Logger } from \"../utils/logger.js\";\nimport { StorageOrchestrator } from \"../store/index.js\";\nimport { RetrievalSystem } from \"../retrieve/index.js\";\nimport { LearningSystem } from \"../learn/index.js\";\nimport type { Prediction, Pattern, KnowledgeItem, PredictionType } from \"../types/index.js\";\n\nexport class PredictionEngine {\n  private storage: StorageOrchestrator;\n  private retrieval: RetrievalSystem;\n  private learning: LearningSystem;\n  private anthropic: Anthropic | null = null;\n  private logger = new Logger(\"Prediction\");\n\n  constructor(\n    storage: StorageOrchestrator,\n    retrieval: RetrievalSystem,\n    learning: LearningSystem\n  ) {\n    this.storage = storage;\n    this.retrieval = retrieval;\n    this.learning = learning;\n\n    if (process.env.ANTHROPIC_API_KEY) {\n      this.anthropic = new Anthropic();\n    }\n  }\n\n  /**\n   * Generate predictions for a type\n   */\n  async predict(type: PredictionType, count: number = 5): Promise<Prediction[]> {\n    const predictions: Prediction[] = [];\n\n    switch (type) {\n      case \"market\":\n        predictions.push(...(await this.predictMarket(count)));\n        break;\n      case \"content\":\n        predictions.push(...(await this.predictContent(count)));\n        break;\n      case \"product\":\n        predictions.push(...(await this.predictProduct(count)));\n        break;\n      case \"agent\":\n        predictions.push(...(await this.predictAgent(count)));\n        break;\n    }\n\n    // Store predictions\n    for (const prediction of predictions) {\n      this.storage.storePrediction(prediction);\n    }\n\n    return predictions;\n  }\n\n  /**\n   * Generate market predictions\n   */\n  private async predictMarket(count: number): Promise<Prediction[]> {\n    const predictions: Prediction[] = [];\n\n    // Get recent crypto knowledge\n    const cryptoKnowledge = this.retrieval.getByTopic(\"crypto\", 50);\n    const patterns = this.storage.getAllPatterns().filter((p) =>\n      p.name.toLowerCase().includes(\"crypto\") || p.name.toLowerCase().includes(\"token\")\n    );\n\n    if (this.anthropic && cryptoKnowledge.length > 0) {\n      const prediction = await this.generateLLMPrediction(\n        \"market\",\n        cryptoKnowledge,\n        patterns,\n        \"Analyze the crypto market data and patterns. Predict price movements, trending tokens, or market sentiment shifts.\"\n      );\n      if (prediction) predictions.push(prediction);\n    } else {\n      // Simple rule-based prediction\n      const sentiment = this.calculateAverageSentiment(cryptoKnowledge);\n      predictions.push(this.createSimplePrediction(\n        \"market\",\n        sentiment > 0.2 ? \"Market sentiment is bullish, expect upward momentum\" :\n        sentiment < -0.2 ? \"Market sentiment is bearish, expect downward pressure\" :\n        \"Market sentiment is neutral, expect sideways movement\",\n        Math.abs(sentiment),\n        patterns.map((p) => p.id),\n        cryptoKnowledge.slice(0, 5).map((k) => k.id)\n      ));\n    }\n\n    return predictions.slice(0, count);\n  }\n\n  /**\n   * Generate content predictions\n   */\n  private async predictContent(count: number): Promise<Prediction[]> {\n    const predictions: Prediction[] = [];\n\n    // Get recent knowledge\n    const knowledge = this.retrieval.getRecent(50);\n    const patterns = this.storage.getAllPatterns();\n\n    // Find trending topics\n    const topicCounts: Map<string, number> = new Map();\n    for (const item of knowledge) {\n      for (const topic of item.topics) {\n        topicCounts.set(topic, (topicCounts.get(topic) || 0) + 1);\n      }\n    }\n\n    const sortedTopics = Array.from(topicCounts.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 5);\n\n    for (const [topic, count] of sortedTopics) {\n      predictions.push(this.createSimplePrediction(\n        \"content\",\n        `\"${topic}\" content will continue to trend`,\n        Math.min(count / 20, 0.9),\n        patterns.filter((p) => p.name.includes(topic)).map((p) => p.id),\n        []\n      ));\n    }\n\n    return predictions.slice(0, count);\n  }\n\n  /**\n   * Generate product predictions\n   */\n  private async predictProduct(count: number): Promise<Prediction[]> {\n    const predictions: Prediction[] = [];\n\n    // Get product-related knowledge\n    const productKnowledge = this.retrieval.getByTopic(\"development\", 30);\n    const aiKnowledge = this.retrieval.getByTopic(\"ai\", 30);\n    const combined = [...productKnowledge, ...aiKnowledge];\n\n    // Analyze trends\n    const techMentions: Map<string, number> = new Map();\n    for (const item of combined) {\n      for (const entity of item.entities) {\n        if (entity.type === \"technology\") {\n          techMentions.set(entity.name, (techMentions.get(entity.name) || 0) + 1);\n        }\n      }\n    }\n\n    const trendingTech = Array.from(techMentions.entries())\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 3);\n\n    for (const [tech, mentions] of trendingTech) {\n      predictions.push(this.createSimplePrediction(\n        \"product\",\n        `${tech} adoption will increase in developer tools`,\n        Math.min(mentions / 15, 0.85),\n        [],\n        combined.filter((k) => k.entities.some((e) => e.name === tech)).slice(0, 3).map((k) => k.id)\n      ));\n    }\n\n    return predictions.slice(0, count);\n  }\n\n  /**\n   * Generate agent predictions\n   */\n  private async predictAgent(count: number): Promise<Prediction[]> {\n    // Predict agent performance based on patterns\n    const patternStats = this.learning.getPatternStats();\n    const predictions: Prediction[] = [];\n\n    if (patternStats.avgAccuracy > 0.7) {\n      predictions.push(this.createSimplePrediction(\n        \"agent\",\n        \"Agent prediction accuracy will remain high (>70%)\",\n        0.75,\n        [],\n        []\n      ));\n    }\n\n    if (patternStats.active > 10) {\n      predictions.push(this.createSimplePrediction(\n        \"agent\",\n        \"Pattern discovery rate will accelerate with more data\",\n        0.6,\n        [],\n        []\n      ));\n    }\n\n    return predictions.slice(0, count);\n  }\n\n  /**\n   * Generate prediction using LLM\n   */\n  private async generateLLMPrediction(\n    type: PredictionType,\n    knowledge: KnowledgeItem[],\n    patterns: Pattern[],\n    prompt: string\n  ): Promise<Prediction | null> {\n    if (!this.anthropic) return null;\n\n    try {\n      const context = knowledge\n        .slice(0, 10)\n        .map((k) => `- ${k.content.summary} (${k.source.name}, sentiment: ${k.sentiment.toFixed(2)})`)\n        .join(\"\\n\");\n\n      const patternContext = patterns\n        .slice(0, 5)\n        .map((p) => `- ${p.name}: ${p.description} (accuracy: ${(p.accuracy * 100).toFixed(0)}%)`)\n        .join(\"\\n\");\n\n      const response = await this.anthropic.messages.create({\n        model: \"claude-sonnet-4-20250514\",\n        max_tokens: 512,\n        messages: [\n          {\n            role: \"user\",\n            content: `${prompt}\n\nRecent Knowledge:\n${context}\n\nDiscovered Patterns:\n${patternContext}\n\nProvide a prediction in JSON format:\n{\n  \"outcome\": \"brief prediction statement\",\n  \"probability\": 0.0-1.0,\n  \"confidence\": 0-100,\n  \"reasoning\": \"brief explanation\"\n}`,\n          },\n        ],\n      });\n\n      const content = response.content[0];\n      if (content.type === \"text\") {\n        const jsonMatch = content.text.match(/\\{[\\s\\S]*\\}/);\n        if (jsonMatch) {\n          const parsed = JSON.parse(jsonMatch[0]) as {\n            outcome: string;\n            probability: number;\n            confidence: number;\n            reasoning: string;\n          };\n\n          return {\n            id: `pred-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n            type,\n            prediction: {\n              outcome: parsed.outcome,\n              probability: parsed.probability,\n              confidence: parsed.confidence,\n              timeframe: Date.now() + 24 * 60 * 60 * 1000, // 24h\n            },\n            basis: {\n              patterns: patterns.slice(0, 3).map((p) => p.id),\n              knowledge: knowledge.slice(0, 5).map((k) => k.id),\n              reasoning: parsed.reasoning,\n            },\n            madeAt: Date.now(),\n            expiresAt: Date.now() + 24 * 60 * 60 * 1000,\n          };\n        }\n      }\n    } catch (error) {\n      this.logger.error(`LLM prediction failed: ${error}`);\n    }\n\n    return null;\n  }\n\n  /**\n   * Create simple rule-based prediction\n   */\n  private createSimplePrediction(\n    type: PredictionType,\n    outcome: string,\n    probability: number,\n    patternIds: string[],\n    knowledgeIds: string[]\n  ): Prediction {\n    return {\n      id: `pred-${Date.now()}-${Math.random().toString(36).slice(2, 8)}`,\n      type,\n      prediction: {\n        outcome,\n        probability,\n        confidence: Math.round(probability * 80), // Simple confidence mapping\n        timeframe: Date.now() + 24 * 60 * 60 * 1000,\n      },\n      basis: {\n        patterns: patternIds,\n        knowledge: knowledgeIds,\n        reasoning: \"Rule-based prediction from pattern analysis\",\n      },\n      madeAt: Date.now(),\n      expiresAt: Date.now() + 24 * 60 * 60 * 1000,\n    };\n  }\n\n  /**\n   * Calculate average sentiment\n   */\n  private calculateAverageSentiment(items: KnowledgeItem[]): number {\n    if (items.length === 0) return 0;\n    return items.reduce((sum, item) => sum + item.sentiment, 0) / items.length;\n  }\n\n  /**\n   * Evaluate pending predictions\n   */\n  async evaluatePredictions(): Promise<{ evaluated: number; correct: number }> {\n    const pending = this.storage.getPendingPredictions();\n    const now = Date.now();\n    let evaluated = 0;\n    let correct = 0;\n\n    for (const prediction of pending) {\n      if (prediction.expiresAt < now) {\n        // Prediction expired, evaluate based on current data\n        const isCorrect = await this.evaluatePrediction(prediction);\n        this.storage.updatePredictionOutcome(prediction.id, {\n          correct: isCorrect,\n          actual: isCorrect ? prediction.prediction.outcome : \"Different outcome observed\",\n        });\n        evaluated++;\n        if (isCorrect) correct++;\n      }\n    }\n\n    return { evaluated, correct };\n  }\n\n  /**\n   * Evaluate a single prediction\n   */\n  private async evaluatePrediction(prediction: Prediction): Promise<boolean> {\n    // Simple evaluation - check if prediction matches current data trends\n    // In production, this would be more sophisticated\n    return Math.random() > 0.3; // Placeholder\n  }\n\n  /**\n   * Get prediction statistics\n   */\n  getStats(): {\n    total: number;\n    correct: number;\n    accuracy: number;\n    pending: number;\n  } {\n    const predictions = this.storage.getAllPredictions();\n    const evaluated = predictions.filter((p) => p.outcome);\n    const correct = evaluated.filter((p) => p.outcome?.correct).length;\n\n    return {\n      total: predictions.length,\n      correct,\n      accuracy: evaluated.length > 0 ? correct / evaluated.length : 0,\n      pending: predictions.length - evaluated.length,\n    };\n  }\n}\n","/**\n * HYPER BRAIN Types\n */\n\nimport { z } from \"zod\";\n\n// ============================================================================\n// SOURCE TYPES\n// ============================================================================\n\nexport const SourceTypeSchema = z.enum([\n  \"onchain\", \"dex\", \"whale\", \"news\", \"social\",\n  \"paper\", \"github\", \"blog\", \"docs\", \"tutorial\",\n  \"twitter\", \"reddit\", \"discord\", \"hackernews\",\n  \"producthunt\", \"competitor\", \"user_feedback\"\n]);\nexport type SourceType = z.infer<typeof SourceTypeSchema>;\n\nexport const ContentTypeSchema = z.enum([\n  \"article\", \"paper\", \"tweet\", \"post\", \"comment\",\n  \"code\", \"documentation\", \"transaction\", \"event\",\n  \"announcement\", \"analysis\", \"tutorial\"\n]);\nexport type ContentType = z.infer<typeof ContentTypeSchema>;\n\n// ============================================================================\n// RAW ITEM (from sources)\n// ============================================================================\n\nexport const RawItemSchema = z.object({\n  id: z.string(),\n  source: z.string(),\n  type: z.string(),\n  content: z.string(),\n  metadata: z.record(z.any()).optional(),\n  timestamp: z.number(),\n});\nexport type RawItem = z.infer<typeof RawItemSchema>;\n\n// ============================================================================\n// ENTITIES & RELATIONSHIPS\n// ============================================================================\n\nexport const EntityTypeSchema = z.enum([\n  \"person\", \"company\", \"token\", \"technology\", \"concept\", \"event\"\n]);\n\nexport const EntitySchema = z.object({\n  id: z.string(),\n  type: EntityTypeSchema,\n  name: z.string(),\n  aliases: z.array(z.string()),\n  attributes: z.record(z.any()),\n});\nexport type Entity = z.infer<typeof EntitySchema>;\n\nexport const RelationshipSchema = z.object({\n  from: z.string(),\n  to: z.string(),\n  type: z.string(),\n  strength: z.number().min(0).max(1),\n  evidence: z.array(z.string()),\n});\nexport type Relationship = z.infer<typeof RelationshipSchema>;\n\n// ============================================================================\n// KNOWLEDGE ITEM (processed)\n// ============================================================================\n\nexport const KnowledgeItemSchema = z.object({\n  id: z.string(),\n\n  // Source\n  source: z.object({\n    type: SourceTypeSchema,\n    name: z.string(),\n    url: z.string().optional(),\n    credibility: z.number().min(0).max(100),\n  }),\n\n  // Content\n  content: z.object({\n    raw: z.string(),\n    summary: z.string(),\n    type: ContentTypeSchema,\n  }),\n\n  // Embeddings\n  embedding: z.array(z.number()),\n\n  // Entities & Relationships\n  entities: z.array(EntitySchema),\n  relationships: z.array(RelationshipSchema),\n\n  // Classification\n  topics: z.array(z.string()),\n  sentiment: z.number().min(-1).max(1),\n  importance: z.number().min(0).max(100),\n\n  // Temporal\n  timestamp: z.number(),\n  expiresAt: z.number().optional(),\n  decayRate: z.number(),\n\n  // Meta\n  processed: z.boolean(),\n  quality: z.number().min(0).max(100),\n});\nexport type KnowledgeItem = z.infer<typeof KnowledgeItemSchema>;\n\n// ============================================================================\n// PATTERNS\n// ============================================================================\n\nexport const ConditionOperatorSchema = z.enum([\">\", \"<\", \"==\", \"contains\", \"matches\"]);\n\nexport const ConditionSchema = z.object({\n  type: z.enum([\"threshold\", \"sequence\", \"correlation\", \"absence\"]),\n  field: z.string(),\n  operator: ConditionOperatorSchema,\n  value: z.any(),\n  timeframe: z.number().optional(),\n});\nexport type Condition = z.infer<typeof ConditionSchema>;\n\nexport const ActionSchema = z.object({\n  type: z.string(),\n  params: z.record(z.any()),\n  priority: z.number().min(0).max(100),\n});\nexport type Action = z.infer<typeof ActionSchema>;\n\nexport const PatternSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string(),\n\n  // Pattern definition\n  conditions: z.array(ConditionSchema),\n\n  // Performance\n  occurrences: z.number(),\n  accuracy: z.number(),\n  lastSeen: z.number(),\n\n  // Actions\n  suggestedActions: z.array(ActionSchema),\n\n  // Learning\n  discovered: z.number(),\n  confidence: z.number(),\n  evolving: z.boolean(),\n});\nexport type Pattern = z.infer<typeof PatternSchema>;\n\n// ============================================================================\n// PREDICTIONS\n// ============================================================================\n\nexport const PredictionTypeSchema = z.enum([\"market\", \"content\", \"product\", \"agent\"]);\nexport type PredictionType = z.infer<typeof PredictionTypeSchema>;\n\nexport const PredictionSchema = z.object({\n  id: z.string(),\n  type: PredictionTypeSchema,\n\n  // Prediction\n  prediction: z.object({\n    outcome: z.string(),\n    probability: z.number().min(0).max(1),\n    confidence: z.number().min(0).max(100),\n    timeframe: z.number(),\n  }),\n\n  // Basis\n  basis: z.object({\n    patterns: z.array(z.string()),\n    knowledge: z.array(z.string()),\n    reasoning: z.string(),\n  }),\n\n  // Tracking\n  madeAt: z.number(),\n  expiresAt: z.number(),\n  outcome: z.object({\n    correct: z.boolean(),\n    actual: z.string(),\n    evaluatedAt: z.number(),\n  }).optional(),\n});\nexport type Prediction = z.infer<typeof PredictionSchema>;\n\n// ============================================================================\n// AGENT EVOLUTION\n// ============================================================================\n\nexport const AgentEvolutionSchema = z.object({\n  agentId: z.string(),\n  currentVersion: z.string(),\n\n  history: z.array(z.object({\n    version: z.string(),\n    successRate: z.number(),\n    avgSpeed: z.number(),\n    userSatisfaction: z.number(),\n    timestamp: z.number(),\n  })),\n\n  variants: z.array(z.object({\n    id: z.string(),\n    changes: z.array(z.string()),\n    performance: z.number(),\n    sampleSize: z.number(),\n  })),\n\n  successfulMutations: z.array(z.object({\n    type: z.string(),\n    description: z.string(),\n    improvement: z.number(),\n    appliedAt: z.number(),\n  })),\n\n  evolutionRate: z.number(),\n  autoEvolve: z.boolean(),\n});\nexport type AgentEvolution = z.infer<typeof AgentEvolutionSchema>;\n\n// ============================================================================\n// DATA SOURCE CONFIG\n// ============================================================================\n\nexport interface DataSourceConfig {\n  name: string;\n  type: SourceType;\n  interval: number; // ms\n  enabled: boolean;\n  priority: number;\n  rateLimit?: {\n    requests: number;\n    window: number; // ms\n  };\n}\n\n// ============================================================================\n// BRAIN CONFIG\n// ============================================================================\n\nexport interface BrainConfig {\n  // API Keys\n  anthropicApiKey?: string;\n  openaiApiKey?: string;\n  heliusApiKey?: string;\n  twitterBearerToken?: string;\n\n  // Storage\n  vectorDb: \"pinecone\" | \"qdrant\" | \"local\";\n  graphDb: \"neo4j\" | \"local\";\n\n  // Processing\n  embeddingModel: string;\n  maxConcurrentIngests: number;\n\n  // API\n  apiPort: number;\n  enableApi: boolean;\n  enableWebSocket: boolean;\n}\n\n// ============================================================================\n// BRAIN STATS\n// ============================================================================\n\nexport interface BrainStats {\n  knowledge: {\n    total: number;\n    bySource: Record<string, number>;\n    byType: Record<string, number>;\n  };\n  patterns: {\n    total: number;\n    active: number;\n    accuracy: number;\n  };\n  predictions: {\n    total: number;\n    correct: number;\n    accuracy: number;\n    pending: number;\n  };\n  wins: {\n    total: number;\n    totalPoints: number;\n    currentStreak: number;\n    longestStreak: number;\n  };\n  ingestion: {\n    totalIngested: number;\n    last24h: number;\n    errors: number;\n    lastRun: Record<string, number>;\n  };\n}\n\n// ============================================================================\n// SEARCH RESULT\n// ============================================================================\n\nexport interface SearchResult extends KnowledgeItem {\n  score: number;\n}\n","/**\n * HYPER BRAIN API Server\n *\n * HTTP + WebSocket API for real-time knowledge queries.\n */\n\nimport Fastify, { FastifyInstance } from \"fastify\";\nimport cors from \"@fastify/cors\";\nimport websocket from \"@fastify/websocket\";\nimport type { HyperBrain } from \"../index.js\";\nimport { Logger } from \"../utils/logger.js\";\n\ninterface ApiConfig {\n  port: number;\n  host: string;\n  enableWebSocket: boolean;\n}\n\nconst DEFAULT_CONFIG: ApiConfig = {\n  port: 3300,\n  host: \"0.0.0.0\",\n  enableWebSocket: true,\n};\n\nexport class BrainApiServer {\n  private app: FastifyInstance;\n  private brain: HyperBrain;\n  private config: ApiConfig;\n  private logger: Logger;\n  private wsClients: Set<WebSocket> = new Set();\n\n  constructor(brain: HyperBrain, config: Partial<ApiConfig> = {}) {\n    this.brain = brain;\n    this.config = { ...DEFAULT_CONFIG, ...config };\n    this.logger = new Logger(\"BrainAPI\");\n\n    this.app = Fastify({ logger: false });\n  }\n\n  async start(): Promise<void> {\n    // Register plugins\n    await this.app.register(cors, { origin: true });\n\n    if (this.config.enableWebSocket) {\n      await this.app.register(websocket);\n    }\n\n    // Setup routes\n    this.setupRoutes();\n\n    // Setup WebSocket\n    if (this.config.enableWebSocket) {\n      this.setupWebSocket();\n    }\n\n    // Setup brain event forwarding\n    this.setupEventForwarding();\n\n    // Start server\n    await this.app.listen({ port: this.config.port, host: this.config.host });\n    this.logger.info(`API server running on http://${this.config.host}:${this.config.port}`);\n  }\n\n  async stop(): Promise<void> {\n    await this.app.close();\n    this.logger.info(\"API server stopped\");\n  }\n\n  private setupRoutes(): void {\n    // Health check\n    this.app.get(\"/health\", async () => ({\n      status: \"ok\",\n      online: this.brain.isOnline(),\n      uptime: this.brain.getUptime(),\n    }));\n\n    // Stats\n    this.app.get(\"/stats\", async () => this.brain.getStats());\n\n    // Search\n    this.app.get<{ Querystring: { q: string; limit?: string } }>(\n      \"/search\",\n      async (request) => {\n        const { q, limit = \"10\" } = request.query;\n        if (!q) {\n          return { error: \"Query parameter 'q' is required\" };\n        }\n        const results = await this.brain.search(q, parseInt(limit));\n        return { query: q, count: results.length, results };\n      }\n    );\n\n    // Advanced search\n    this.app.post<{\n      Body: {\n        query: string;\n        limit?: number;\n        sources?: string[];\n        topics?: string[];\n        minImportance?: number;\n        timeRange?: { from: number; to: number };\n      };\n    }>(\"/search/advanced\", async (request) => {\n      const { query, limit = 10, sources, topics, minImportance, timeRange } = request.body;\n      const results = await this.brain.advancedSearch(query, {\n        limit,\n        filters: {\n          sources,\n          topics,\n          minImportance,\n          after: timeRange?.from,\n          before: timeRange?.to,\n        },\n      });\n      return { query, count: results.length, results };\n    });\n\n    // Get similar items\n    this.app.get<{ Params: { id: string }; Querystring: { limit?: string } }>(\n      \"/similar/:id\",\n      async (request) => {\n        const { id } = request.params;\n        const { limit = \"10\" } = request.query;\n        const results = await this.brain.getSimilar(id, parseInt(limit));\n        return { itemId: id, count: results.length, results };\n      }\n    );\n\n    // Get by topic\n    this.app.get<{ Params: { topic: string }; Querystring: { limit?: string } }>(\n      \"/topic/:topic\",\n      async (request) => {\n        const { topic } = request.params;\n        const { limit = \"20\" } = request.query;\n        const items = this.brain.getByTopic(topic, parseInt(limit));\n        return { topic, count: items.length, items };\n      }\n    );\n\n    // Get recent\n    this.app.get<{ Querystring: { limit?: string } }>(\"/recent\", async (request) => {\n      const { limit = \"20\" } = request.query;\n      const items = this.brain.getRecent(parseInt(limit));\n      return { count: items.length, items };\n    });\n\n    // Patterns\n    this.app.get(\"/patterns\", async () => {\n      const patterns = this.brain.getPatterns();\n      const stats = this.brain.getPatternStats();\n      return { stats, patterns };\n    });\n\n    // Analyze patterns\n    this.app.post(\"/patterns/analyze\", async () => {\n      const newPatterns = await this.brain.analyzePatterns();\n      return { discovered: newPatterns.length, patterns: newPatterns };\n    });\n\n    // Predictions\n    this.app.get(\"/predictions\", async () => {\n      const predictions = this.brain.getPredictions();\n      const stats = this.brain.getPredictionStats();\n      return { stats, predictions };\n    });\n\n    // Generate predictions\n    this.app.post<{ Body: { type: string; count?: number } }>(\n      \"/predictions/generate\",\n      async (request) => {\n        const { type, count = 5 } = request.body;\n        const validTypes = [\"market\", \"content\", \"product\", \"agent\"];\n        if (!validTypes.includes(type)) {\n          return { error: `Invalid type. Use: ${validTypes.join(\", \")}` };\n        }\n        const predictions = await this.brain.predict(type as any, count);\n        return { type, count: predictions.length, predictions };\n      }\n    );\n\n    // Evaluate predictions\n    this.app.post(\"/predictions/evaluate\", async () => {\n      const result = await this.brain.evaluatePredictions();\n      return result;\n    });\n\n    // Ingest\n    this.app.post(\"/ingest\", async () => {\n      const stats = await this.brain.ingestAll();\n      return { success: true, stats };\n    });\n\n    // Ingest specific source\n    this.app.post<{ Params: { source: string } }>(\"/ingest/:source\", async (request) => {\n      const { source } = request.params;\n      const count = await this.brain.ingestSource(source);\n      return { success: true, source, itemsIngested: count };\n    });\n\n    // Ingestion stats\n    this.app.get(\"/ingest/stats\", async () => this.brain.getIngestStats());\n  }\n\n  private setupWebSocket(): void {\n    this.app.get(\"/ws\", { websocket: true }, (socket) => {\n      this.wsClients.add(socket as unknown as WebSocket);\n      this.logger.info(`WebSocket client connected (${this.wsClients.size} total)`);\n\n      socket.on(\"message\", (message: Buffer) => {\n        try {\n          const data = JSON.parse(message.toString());\n          this.handleWsMessage(socket, data);\n        } catch {\n          socket.send(JSON.stringify({ error: \"Invalid JSON\" }));\n        }\n      });\n\n      socket.on(\"close\", () => {\n        this.wsClients.delete(socket as unknown as WebSocket);\n        this.logger.info(`WebSocket client disconnected (${this.wsClients.size} total)`);\n      });\n\n      // Send initial state\n      socket.send(\n        JSON.stringify({\n          type: \"connected\",\n          stats: this.brain.getStats(),\n        })\n      );\n    });\n  }\n\n  private handleWsMessage(socket: any, data: any): void {\n    switch (data.type) {\n      case \"search\":\n        this.brain.search(data.query, data.limit || 10).then((results) => {\n          socket.send(JSON.stringify({ type: \"search_results\", query: data.query, results }));\n        });\n        break;\n\n      case \"subscribe\":\n        // Client wants to subscribe to events\n        socket.send(JSON.stringify({ type: \"subscribed\", events: data.events || [\"all\"] }));\n        break;\n\n      case \"stats\":\n        socket.send(JSON.stringify({ type: \"stats\", stats: this.brain.getStats() }));\n        break;\n\n      case \"ping\":\n        socket.send(JSON.stringify({ type: \"pong\", timestamp: Date.now() }));\n        break;\n\n      default:\n        socket.send(JSON.stringify({ error: `Unknown message type: ${data.type}` }));\n    }\n  }\n\n  private setupEventForwarding(): void {\n    // Forward brain events to WebSocket clients\n    this.brain.on(\"knowledge:added\", (item) => {\n      this.broadcast({\n        type: \"knowledge:added\",\n        item: {\n          id: item.id,\n          source: item.source.name,\n          summary: item.content.summary,\n          topics: item.topics,\n          importance: item.importance,\n          timestamp: item.timestamp,\n        },\n      });\n    });\n\n    this.brain.on(\"pattern:discovered\", (pattern) => {\n      this.broadcast({\n        type: \"pattern:discovered\",\n        pattern: {\n          id: pattern.id,\n          name: pattern.name,\n          description: pattern.description,\n          accuracy: pattern.accuracy,\n          confidence: pattern.confidence,\n        },\n      });\n    });\n\n    this.brain.on(\"prediction:made\", (prediction) => {\n      this.broadcast({\n        type: \"prediction:made\",\n        prediction: {\n          id: prediction.id,\n          type: prediction.type,\n          outcome: prediction.prediction.outcome,\n          probability: prediction.prediction.probability,\n          confidence: prediction.prediction.confidence,\n        },\n      });\n    });\n  }\n\n  private broadcast(message: object): void {\n    const json = JSON.stringify(message);\n    for (const client of this.wsClients) {\n      try {\n        (client as any).send(json);\n      } catch {\n        this.wsClients.delete(client);\n      }\n    }\n  }\n}\n","/**\n * gICM HYPER BRAIN\n *\n * Knowledge ingestion, learning, and prediction system.\n */\n\nimport { EventEmitter } from \"eventemitter3\";\nimport { IngestOrchestrator, type IngestStats } from \"./ingest/index.js\";\nimport { ProcessingPipeline } from \"./process/index.js\";\nimport { StorageOrchestrator } from \"./store/index.js\";\nimport { RetrievalSystem, type RetrievalOptions } from \"./retrieve/index.js\";\nimport { LearningSystem } from \"./learn/index.js\";\nimport { PredictionEngine } from \"./predict/index.js\";\nimport { loadConfig, type BrainConfig } from \"./config.js\";\nimport { Logger } from \"./utils/logger.js\";\nimport type {\n  KnowledgeItem,\n  SearchResult,\n  Pattern,\n  Prediction,\n  BrainStats,\n  PredictionType,\n} from \"./types/index.js\";\n\ninterface BrainEvents {\n  \"started\": () => void;\n  \"stopped\": () => void;\n  \"knowledge:added\": (item: KnowledgeItem) => void;\n  \"pattern:discovered\": (pattern: Pattern) => void;\n  \"prediction:made\": (prediction: Prediction) => void;\n  \"error\": (error: Error) => void;\n}\n\nexport class HyperBrain extends EventEmitter<BrainEvents> {\n  private config: BrainConfig;\n  private logger: Logger;\n\n  private ingest: IngestOrchestrator;\n  private processing: ProcessingPipeline;\n  private storage: StorageOrchestrator;\n  private retrieval: RetrievalSystem;\n  private learning: LearningSystem;\n  private prediction: PredictionEngine;\n\n  private isRunning = false;\n  private startTime = 0;\n\n  constructor(config: Partial<BrainConfig> = {}) {\n    super();\n    this.config = loadConfig(config);\n    this.logger = new Logger(\"HyperBrain\");\n\n    // Initialize components\n    this.ingest = new IngestOrchestrator();\n    this.processing = new ProcessingPipeline();\n    this.storage = new StorageOrchestrator({\n      vectorStore: this.config.vectorDb,\n      dataDir: \"./data\",\n    });\n    this.retrieval = new RetrievalSystem(\n      this.storage,\n      this.processing.getEmbedder()\n    );\n    this.learning = new LearningSystem(this.storage);\n    this.prediction = new PredictionEngine(\n      this.storage,\n      this.retrieval,\n      this.learning\n    );\n\n    // Wire up events\n    this.setupEventHandlers();\n  }\n\n  /**\n   * Start the HYPER BRAIN\n   */\n  async start(): Promise<void> {\n    if (this.isRunning) return;\n\n    this.logger.info(\"Starting HYPER BRAIN...\");\n    this.isRunning = true;\n    this.startTime = Date.now();\n\n    // Initialize storage\n    await this.storage.init();\n\n    // Start ingestion\n    await this.ingest.start();\n\n    this.emit(\"started\");\n    this.logger.info(\"HYPER BRAIN online!\");\n  }\n\n  /**\n   * Stop the HYPER BRAIN\n   */\n  async stop(): Promise<void> {\n    if (!this.isRunning) return;\n\n    this.logger.info(\"Stopping HYPER BRAIN...\");\n\n    this.ingest.stop();\n    await this.storage.shutdown();\n\n    this.isRunning = false;\n    this.emit(\"stopped\");\n    this.logger.info(\"HYPER BRAIN offline\");\n  }\n\n  /**\n   * Setup event handlers\n   */\n  private setupEventHandlers(): void {\n    // Process ingested items\n    this.ingest.on(\"item:ingested\", async (rawItem) => {\n      try {\n        const processed = await this.processing.process(rawItem);\n        await this.storage.storeKnowledge(processed);\n        this.emit(\"knowledge:added\", processed);\n      } catch (error) {\n        this.logger.error(`Failed to process item: ${error}`);\n      }\n    });\n  }\n\n  // ============================================================================\n  // INGESTION\n  // ============================================================================\n\n  /**\n   * Force ingest from all sources\n   */\n  async ingestAll(): Promise<IngestStats> {\n    return this.ingest.ingestAll();\n  }\n\n  /**\n   * Ingest from specific source\n   */\n  async ingestSource(source: string): Promise<number> {\n    return this.ingest.ingestSource(source);\n  }\n\n  /**\n   * Get ingestion stats\n   */\n  getIngestStats(): IngestStats {\n    return this.ingest.getStats();\n  }\n\n  // ============================================================================\n  // SEARCH\n  // ============================================================================\n\n  /**\n   * Search knowledge base\n   */\n  async search(query: string, limit: number = 10): Promise<SearchResult[]> {\n    return this.retrieval.search(query, { limit, rerank: true });\n  }\n\n  /**\n   * Advanced search with options\n   */\n  async advancedSearch(\n    query: string,\n    options: RetrievalOptions\n  ): Promise<SearchResult[]> {\n    return this.retrieval.hybridSearch(query, options);\n  }\n\n  /**\n   * Get similar items\n   */\n  async getSimilar(itemId: string, limit: number = 10): Promise<SearchResult[]> {\n    return this.retrieval.getSimilar(itemId, limit);\n  }\n\n  /**\n   * Get by topic\n   */\n  getByTopic(topic: string, limit: number = 20): KnowledgeItem[] {\n    return this.retrieval.getByTopic(topic, limit);\n  }\n\n  /**\n   * Get recent items\n   */\n  getRecent(limit: number = 20): KnowledgeItem[] {\n    return this.retrieval.getRecent(limit);\n  }\n\n  // ============================================================================\n  // LEARNING\n  // ============================================================================\n\n  /**\n   * Analyze and discover patterns\n   */\n  async analyzePatterns(): Promise<Pattern[]> {\n    const patterns = await this.learning.analyzePatterns();\n    for (const pattern of patterns) {\n      this.emit(\"pattern:discovered\", pattern);\n    }\n    return patterns;\n  }\n\n  /**\n   * Get all patterns\n   */\n  getPatterns(): Pattern[] {\n    return this.storage.getAllPatterns();\n  }\n\n  /**\n   * Get pattern stats\n   */\n  getPatternStats(): { total: number; active: number; avgAccuracy: number } {\n    return this.learning.getPatternStats();\n  }\n\n  // ============================================================================\n  // PREDICTIONS\n  // ============================================================================\n\n  /**\n   * Generate predictions\n   */\n  async predict(type: PredictionType, count: number = 5): Promise<Prediction[]> {\n    const predictions = await this.prediction.predict(type, count);\n    for (const pred of predictions) {\n      this.emit(\"prediction:made\", pred);\n    }\n    return predictions;\n  }\n\n  /**\n   * Get all predictions\n   */\n  getPredictions(): Prediction[] {\n    return this.storage.getAllPredictions();\n  }\n\n  /**\n   * Get prediction stats\n   */\n  getPredictionStats(): {\n    total: number;\n    correct: number;\n    accuracy: number;\n    pending: number;\n  } {\n    return this.prediction.getStats();\n  }\n\n  /**\n   * Evaluate pending predictions\n   */\n  async evaluatePredictions(): Promise<{ evaluated: number; correct: number }> {\n    return this.prediction.evaluatePredictions();\n  }\n\n  // ============================================================================\n  // STATS\n  // ============================================================================\n\n  /**\n   * Get comprehensive brain stats\n   */\n  getStats(): BrainStats {\n    const storageStats = this.storage.getStats();\n    const ingestStats = this.ingest.getStats();\n    const patternStats = this.learning.getPatternStats();\n    const predictionStats = this.prediction.getStats();\n\n    // Calculate knowledge by source and type\n    const knowledge = this.storage.getAllKnowledge();\n    const bySource: Record<string, number> = {};\n    const byType: Record<string, number> = {};\n\n    for (const item of knowledge) {\n      bySource[item.source.name] = (bySource[item.source.name] || 0) + 1;\n      byType[item.content.type] = (byType[item.content.type] || 0) + 1;\n    }\n\n    return {\n      knowledge: {\n        total: storageStats.knowledge,\n        bySource,\n        byType,\n      },\n      patterns: {\n        total: patternStats.total,\n        active: patternStats.active,\n        accuracy: patternStats.avgAccuracy,\n      },\n      predictions: {\n        total: predictionStats.total,\n        correct: predictionStats.correct,\n        accuracy: predictionStats.accuracy,\n        pending: predictionStats.pending,\n      },\n      wins: {\n        total: 0, // Will be filled by wins integration\n        totalPoints: 0,\n        currentStreak: 0,\n        longestStreak: 0,\n      },\n      ingestion: {\n        totalIngested: ingestStats.totalIngested,\n        last24h: 0, // TODO: Calculate\n        errors: ingestStats.errors,\n        lastRun: ingestStats.lastRun,\n      },\n    };\n  }\n\n  /**\n   * Get uptime\n   */\n  getUptime(): number {\n    return this.isRunning ? Date.now() - this.startTime : 0;\n  }\n\n  /**\n   * Check if running\n   */\n  isOnline(): boolean {\n    return this.isRunning;\n  }\n}\n\n// Re-exports\nexport * from \"./types/index.js\";\nexport { loadConfig } from \"./config.js\";\nexport { IngestOrchestrator } from \"./ingest/index.js\";\nexport { ProcessingPipeline } from \"./process/index.js\";\nexport { StorageOrchestrator } from \"./store/index.js\";\nexport { RetrievalSystem } from \"./retrieve/index.js\";\nexport { LearningSystem } from \"./learn/index.js\";\nexport { PredictionEngine } from \"./predict/index.js\";\nexport { BrainApiServer } from \"./api/index.js\";\n"]}