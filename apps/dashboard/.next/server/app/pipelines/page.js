(()=>{var e={};e.id=9744,e.ids=[9744],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},63709:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(43631),s(13263),s(38013);var a=s(66933),r=s(16006),n=s(294),i=s.n(n),l=s(46901),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["pipelines",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43631)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\pipelines\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13263)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,38013,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\pipelines\\page.tsx"],u="/pipelines/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/pipelines/page",pathname:"/pipelines",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},2516:(e,t,s)=>{Promise.resolve().then(s.bind(s,54500))},54500:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>R});var a=s(52723),r=s(3789),n=s(13029);let i={autoRequest:!1,defaultIcon:"/gicm-icon.png",enableSound:!0},l=null;var c=s(99040),o=s(66969),d=s(75308),u=s(74067),p=s(91109),m=s(52640),x=s(72806),h=s(97019),g=s(9666),y=s(56691),b=s(1666),f=s(58450),j=s(88781),N=s(20590),v=s(50527),k=s(81584),w=s(83331);let C=(0,s(82016).Z)("layout-template",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);var Z=s(28532),S=s(81974),M=s(76289);let $="http://localhost:3100",P=[{id:"research-analyze",name:"Research & Analyze",description:"Discover tokens, analyze fundamentals, and generate investment report",category:"Trading",steps:[{id:"hunt",tool:"hunter-agent",name:"Hunt Opportunities",inputs:{source:"twitter"}},{id:"analyze",tool:"defi-agent",name:"Analyze DeFi",inputs:{data:"${results.hunt}"},dependsOn:["hunt"]},{id:"decide",tool:"decision-agent",name:"Decision Matrix",inputs:{analysis:"${results.analyze}"},dependsOn:["analyze"]}],riskLevel:"low"},{id:"content-pipeline",name:"Content Generation",description:"Generate SEO blog post, extract tweets, and schedule publishing",category:"Growth",steps:[{id:"research",tool:"seo-researcher",name:"Keyword Research",inputs:{topic:"crypto"}},{id:"blog",tool:"blog-generator",name:"Generate Blog",inputs:{keywords:"${results.research}"},dependsOn:["research"]},{id:"tweets",tool:"tweet-generator",name:"Extract Tweets",inputs:{content:"${results.blog}"},dependsOn:["blog"]}],riskLevel:"safe"},{id:"security-audit",name:"Security Audit",description:"Audit smart contract for vulnerabilities and generate report",category:"Security",steps:[{id:"scan",tool:"audit-agent",name:"Scan Contract",inputs:{contract:""}},{id:"analyze",tool:"security-analyzer",name:"Analyze Findings",inputs:{scan:"${results.scan}"},dependsOn:["scan"]},{id:"report",tool:"report-generator",name:"Generate Report",inputs:{analysis:"${results.analyze}"},dependsOn:["analyze"]}],riskLevel:"medium"},{id:"dca-trade",name:"DCA Trading",description:"Execute dollar-cost averaging trade with risk management",category:"Trading",steps:[{id:"check",tool:"wallet-agent",name:"Check Balance",inputs:{asset:"SOL"}},{id:"price",tool:"price-oracle",name:"Get Price",inputs:{token:"SOL"},dependsOn:["check"]},{id:"trade",tool:"swap-executor",name:"Execute Trade",inputs:{amount:"${inputs.amount}",price:"${results.price}"},dependsOn:["price"]}],riskLevel:"high"}],O={pending:"text-gray-400",running:"text-blue-400",completed:"text-green-400",failed:"text-red-400",cancelled:"text-yellow-400",skipped:"text-gray-500"},A={pending:"bg-gray-500/20",running:"bg-blue-500/20",completed:"bg-green-500/20",failed:"bg-red-500/20",cancelled:"bg-yellow-500/20",skipped:"bg-gray-500/10"},E={safe:"text-green-400 bg-green-500/20",low:"text-blue-400 bg-blue-500/20",medium:"text-yellow-400 bg-yellow-500/20",high:"text-orange-400 bg-orange-500/20",critical:"text-red-400 bg-red-500/20"};function T({status:e}){switch(e){case"pending":default:return a.jsx(o.Z,{className:"w-4 h-4"});case"running":return a.jsx(d.Z,{className:"w-4 h-4 animate-spin"});case"completed":return a.jsx(u.Z,{className:"w-4 h-4"});case"failed":return a.jsx(p.Z,{className:"w-4 h-4"});case"cancelled":return a.jsx(m.Z,{className:"w-4 h-4"});case"skipped":return a.jsx(x.Z,{className:"w-4 h-4"})}}function z({template:e,onExecute:t,onEdit:s,onDelete:r,isCustom:n=!1}){return(0,a.jsxs)("div",{className:`bg-gicm-card border rounded-xl p-6 hover:border-gicm-primary/30 transition-all ${n?"border-gicm-primary/20":"border-gicm-border"}`,children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${n?"bg-purple-500/10":"bg-gicm-primary/10"}`,children:n?a.jsx(h.Z,{className:"w-5 h-5 text-purple-400"}):a.jsx(g.Z,{className:"w-5 h-5 text-gicm-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.category,n&&a.jsx("span",{className:"ml-2 text-purple-400",children:"(Custom)"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E[e.riskLevel]}`,children:e.riskLevel}),n&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[s&&a.jsx("button",{onClick:e=>{e.stopPropagation(),s()},className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors",title:"Edit pipeline",children:a.jsx(y.Z,{className:"w-3.5 h-3.5 text-gray-400"})}),r&&a.jsx("button",{onClick:e=>{e.stopPropagation(),r()},className:"p-1.5 hover:bg-red-500/20 rounded-lg transition-colors",title:"Delete pipeline",children:a.jsx(b.Z,{className:"w-3.5 h-3.5 text-red-400"})})]})]})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.description}),a.jsx("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:e.steps.map((t,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-xs text-gray-500 bg-gicm-dark px-2 py-1 rounded",children:t.name}),s<e.steps.length-1&&a.jsx(f.Z,{className:"w-3 h-3 text-gray-600 mx-1"})]},t.id))}),(0,a.jsxs)("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 py-2 bg-gicm-primary/20 hover:bg-gicm-primary/30 text-gicm-primary rounded-lg transition-colors",children:[a.jsx(j.Z,{className:"w-4 h-4"}),"Execute Pipeline"]})]})}function q({execution:e,onCancel:t}){return(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${A[e.status]}`,children:a.jsx(T,{status:e.status})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:e.pipelineName}),a.jsx("p",{className:"text-sm text-gray-400",children:"running"===e.status?`Step: ${e.currentStep||"Starting..."}`:e.status})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-400",children:[Math.round(e.duration/1e3),"s"]}),("pending"===e.status||"running"===e.status)&&a.jsx("button",{onClick:t,className:"p-2 hover:bg-red-500/20 rounded-lg transition-colors",children:a.jsx(m.Z,{className:"w-4 h-4 text-red-400"})})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"h-2 bg-gicm-dark rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all duration-500 ${"failed"===e.status?"bg-red-500":"bg-gicm-primary"}`,style:{width:`${e.progress}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between mt-1",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Progress"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[e.progress,"%"]})]})]}),a.jsx("div",{className:"space-y-2",children:e.steps.map(e=>(0,a.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg ${A[e.status]}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(T,{status:e.status}),a.jsx("span",{className:`text-sm ${O[e.status]}`,children:e.name})]}),e.completedAt&&e.startedAt&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round((e.completedAt-e.startedAt)/1e3),"s"]}),e.error&&a.jsx("span",{className:"text-xs text-red-400 truncate max-w-[200px]",children:e.error})]},e.id))}),e.error&&a.jsx("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-400",children:[a.jsx(N.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:e.error})]})})]})}function R(){let[e,t]=(0,r.useState)("templates"),[s,o]=(0,r.useState)([]),[d,u]=(0,r.useState)(null),[p,m]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[f,j]=(0,r.useState)([]),{notifyPipelineComplete:N}=function(e={}){let t={...i,...e},[s,a]=(0,r.useState)("default"),[n,c]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),u=(0,r.useRef)(null),p=(0,r.useCallback)(async()=>{if(!n)return console.warn("Notifications not supported in this browser"),!1;if("granted"===s)return!0;if("denied"===s)return console.warn("Notification permission was denied"),!1;try{let e=await Notification.requestPermission();return a(e),d("granted"===e),"granted"===e}catch(e){return console.error("Failed to request notification permission:",e),!1}},[n,s]),m=(0,r.useCallback)(e=>{if(!n||"granted"!==s)return console.warn("Notifications not available"),null;(e.sound??t.enableSound)&&t.enableSound&&function(){try{l||(l=new(window.AudioContext||window.webkitAudioContext));let e=l.createOscillator(),t=l.createGain();e.connect(t),t.connect(l.destination),e.frequency.value=880,e.type="sine",t.gain.setValueAtTime(.3,l.currentTime),t.gain.exponentialRampToValueAtTime(.01,l.currentTime+.3),e.start(l.currentTime),e.stop(l.currentTime+.3)}catch(e){console.warn("Failed to play notification sound:",e)}}();try{e.tag&&u.current?.tag===e.tag&&u.current.close();let s=new Notification(e.title,{body:e.body,icon:e.icon??t.defaultIcon,tag:e.tag,requireInteraction:e.requireInteraction??!1});return s.onclick=()=>{window.focus(),s.close(),e.onClick?.()},u.current=s,s}catch(e){return console.error("Failed to create notification:",e),null}},[n,s,t.defaultIcon,t.enableSound]),x=(0,r.useCallback)((e,t)=>m({title:{started:"Brain Started",stopped:"Brain Stopped",phase_changed:"Brain Phase Changed"}[e],body:t??`gICM Brain is now ${e.replace("_"," ")}`,tag:"brain-status",icon:"/brain-icon.png"}),[m]),h=(0,r.useCallback)((e,t)=>m({title:t?"Pipeline Completed":"Pipeline Failed",body:`${e} ${t?"finished successfully":"encountered an error"}`,tag:`pipeline-${e}`,icon:t?"/success-icon.png":"/error-icon.png"}),[m]),g=(0,r.useCallback)((e,t)=>m({title:"High Risk Action Detected",body:`${e} - Risk level: ${t}%`,tag:"high-risk",requireInteraction:!0,sound:!0}),[m]),y=(0,r.useCallback)((e,t,s)=>m({title:`Trade ${"buy"===e?"Executed":"Completed"}`,body:`${e.toUpperCase()} ${s} ${t}`,tag:`trade-${Date.now()}`}),[m]),b=(0,r.useCallback)((e,t)=>m({title:"New Discovery",body:`${e} from ${t}`,tag:"discovery"}),[m]);return{supported:n,permission:s,enabled:o,requestPermission:p,notify:m,notifyBrainStatus:x,notifyPipelineComplete:h,notifyHighRisk:g,notifyTrade:y,notifyDiscovery:b,closeAll:(0,r.useCallback)(()=>{u.current&&(u.current.close(),u.current=null)},[])}}(),E=(0,r.useRef)(null);(0,c.s)({onMessage:e=>{if("event"===e.type&&e.payload){let t=e.payload;"pipeline:status"===t.type&&t.data&&(u(t.data),"running"===E.current&&("completed"===t.data.status||"failed"===t.data.status)&&(N(t.data.pipelineName,"completed"===t.data.status),D()),E.current=t.data.status)}}});let R=(0,r.useCallback)(e=>{j(f.filter(t=>t.id!==e))},[f]),D=(0,r.useCallback)(async()=>{try{let e=await fetch(`${$}/api/pipelines/executions?limit=10`);if(e.ok){let t=await e.json();t.ok&&o(t.executions)}}catch(e){console.error("Failed to fetch executions:",e)}},[]),_=(0,r.useCallback)(async e=>{try{let t=await fetch(`${$}/api/pipelines/${e}/status`);if(t.ok){let e=await t.json();e.ok&&(u(e.execution),["completed","failed","cancelled"].includes(e.execution.status)&&(b(!1),D()))}}catch(e){console.error("Failed to fetch execution status:",e)}},[D]),I=async e=>{m(!0);try{let s=await fetch(`${$}/api/pipelines/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pipeline:{id:e.id,name:e.name,description:e.description,steps:e.steps},inputs:{}})});if(s.ok){let e=await s.json();e.ok&&(b(!0),t("executions"),_(e.executionId))}}catch(e){console.error("Failed to execute pipeline:",e)}finally{m(!1)}},L=async e=>{try{(await fetch(`${$}/api/pipelines/${e}/cancel`,{method:"POST"})).ok&&_(e)}catch(e){console.error("Failed to cancel execution:",e)}};return a.jsx("div",{className:"min-h-screen bg-gicm-dark p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[a.jsx(g.Z,{className:"w-7 h-7 text-gicm-primary"}),"PTC Pipelines"]}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Programmatic Tool Calling - Orchestrate multi-step workflows"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:D,className:"p-2 hover:bg-gicm-card rounded-lg transition-colors",title:"Refresh",children:a.jsx(v.Z,{className:"w-5 h-5 text-gray-400"})}),a.jsx(n.default,{href:"/pipelines/analytics",className:"p-2 hover:bg-gicm-card rounded-lg transition-colors",title:"Analytics",children:a.jsx(k.Z,{className:"w-5 h-5 text-gray-400"})}),a.jsx(n.default,{href:"/pipelines/webhooks",className:"p-2 hover:bg-gicm-card rounded-lg transition-colors",title:"Webhooks",children:a.jsx(w.Z,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsxs)(n.default,{href:"/pipelines/templates",className:"flex items-center gap-2 px-3 py-2 border border-gicm-border text-gray-300 rounded-lg hover:bg-gicm-card hover:text-white transition-colors text-sm",children:[a.jsx(C,{className:"w-4 h-4"}),"Templates"]}),(0,a.jsxs)(n.default,{href:"/pipelines/builder",className:"flex items-center gap-2 px-3 py-2 bg-gicm-primary text-black rounded-lg hover:bg-gicm-primary/90 transition-colors font-medium text-sm",children:[a.jsx(Z.Z,{className:"w-4 h-4"}),"New Pipeline"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-gicm-border",children:[a.jsx("button",{onClick:()=>t("templates"),className:`pb-3 px-1 text-sm font-medium transition-colors ${"templates"===e?"text-gicm-primary border-b-2 border-gicm-primary":"text-gray-400 hover:text-white"}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(S.Z,{className:"w-4 h-4"}),"Templates"]})}),a.jsx("button",{onClick:()=>t("executions"),className:`pb-3 px-1 text-sm font-medium transition-colors ${"executions"===e?"text-gicm-primary border-b-2 border-gicm-primary":"text-gray-400 hover:text-white"}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(k.Z,{className:"w-4 h-4"}),"Executions",s.filter(e=>"running"===e.status).length>0&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-blue-500/20 text-blue-400 rounded-full",children:s.filter(e=>"running"===e.status).length})]})})]}),"templates"===e&&(0,a.jsxs)("div",{className:"space-y-8",children:[f.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(h.Z,{className:"w-5 h-5 text-purple-400"}),"Your Custom Pipelines"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(e=>a.jsx(z,{template:e,isCustom:!0,onExecute:()=>I(e),onEdit:()=>window.location.href=`/pipelines/builder?edit=${e.id}`,onDelete:()=>{confirm(`Delete pipeline "${e.name}"?`)&&R(e.id)}},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(S.Z,{className:"w-5 h-5 text-gicm-primary"}),"Pipeline Templates"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:P.map(e=>a.jsx(z,{template:e,onExecute:()=>I(e)},e.id))})]})]}),"executions"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[d&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(k.Z,{className:"w-5 h-5 text-gicm-primary"}),"Live Execution"]}),a.jsx(q,{execution:d,onCancel:()=>L(d.id)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[a.jsx(M.Z,{className:"w-5 h-5 text-gray-400"}),"Recent Executions"]}),0===s.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-400",children:[a.jsx(g.Z,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No pipeline executions yet"}),a.jsx("p",{className:"text-sm mt-2",children:"Execute a pipeline template to see results here"})]}):a.jsx("div",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gicm-card border border-gicm-border rounded-xl hover:border-gicm-primary/30 transition-colors cursor-pointer",onClick:()=>{u(e),"running"===e.status&&b(!0)},children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-2 rounded-lg ${A[e.status]}`,children:a.jsx(T,{status:e.status})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-medium text-white",children:e.pipelineName}),a.jsx("p",{className:"text-sm text-gray-400",children:new Date(e.startedAt).toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:`text-sm font-medium ${O[e.status]}`,children:e.status}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[Math.round(e.duration/1e3),"s"]})]}),a.jsx(x.Z,{className:"w-5 h-5 text-gray-500"})]})]},e.id))})]})]}),a.jsx("div",{className:"mt-8 p-4 bg-gicm-card border border-gicm-border rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Completed: ",s.filter(e=>"completed"===e.status).length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Failed: ",s.filter(e=>"failed"===e.status).length]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Running: ",s.filter(e=>"running"===e.status).length]})]})]}),a.jsx("div",{className:"text-gray-500",children:"37% token savings with PTC orchestration"})]})})]})})}},99040:(e,t,s)=>{"use strict";s.d(t,{s:()=>i});var a=s(3789);let r=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001/ws",n={autoReconnect:!0,reconnectDelay:3e3,maxReconnectAttempts:10,heartbeat:!0,heartbeatInterval:3e4,rooms:[],onEvent:()=>{},onMessage:()=>{},onStatusChange:()=>{}};function i(e={}){let t={...n,...e},[s,i]=(0,a.useState)("disconnected"),[l,c]=(0,a.useState)([]),[o,d]=(0,a.useState)(null),[u,p]=(0,a.useState)(null),m=(0,a.useRef)(null),x=(0,a.useRef)(0),h=(0,a.useRef)(null),g=(0,a.useRef)(null),y=(0,a.useRef)(!0),b=(0,a.useCallback)(e=>{y.current&&(i(e),t.onStatusChange(e))},[t]),f=(0,a.useCallback)(()=>{g.current&&(clearInterval(g.current),g.current=null)},[]),j=(0,a.useCallback)(()=>{f(),t.heartbeat&&m.current?.readyState===WebSocket.OPEN&&(g.current=setInterval(()=>{m.current?.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"ping"}))},t.heartbeatInterval))},[t.heartbeat,t.heartbeatInterval,f]),N=(0,a.useCallback)(()=>{h.current&&(clearTimeout(h.current),h.current=null),f(),m.current&&(m.current.close(),m.current=null),x.current=0,b("disconnected")},[f,b]),v=(0,a.useCallback)(()=>{if(m.current?.readyState!==WebSocket.CONNECTING&&m.current?.readyState!==WebSocket.OPEN){m.current&&m.current.close(),b("connecting"),p(null);try{let e=new WebSocket(r);m.current=e,e.onopen=()=>{y.current&&(x.current=0,b("connected"),j(),e.send(JSON.stringify({type:"subscribe",channels:["events","status","metrics"]})),t.rooms.length>0&&e.send(JSON.stringify({action:"subscribe",rooms:t.rooms})))},e.onmessage=e=>{if(y.current)try{let s=JSON.parse(e.data);if(d(s),t.onMessage(s),"event"===s.type&&s.payload){let e=s.payload;c(t=>[e,...t].slice(0,100)),t.onEvent(e)}}catch(e){console.warn("Failed to parse WebSocket message:",e)}},e.onerror=e=>{y.current&&(console.error("WebSocket error:",e),p("Connection error"),b("error"))},e.onclose=e=>{if(y.current){if(f(),1e3===e.code){b("disconnected");return}if(b("disconnected"),t.autoReconnect&&(0===t.maxReconnectAttempts||x.current<t.maxReconnectAttempts)){x.current++;let e=t.reconnectDelay*Math.min(x.current,5);h.current=setTimeout(()=>{y.current&&v()},e)}}}}catch(e){console.error("Failed to create WebSocket:",e),p(e instanceof Error?e.message:"Failed to connect"),b("error")}}},[t,b,j,f]),k=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&(m.current.send(JSON.stringify(e)),!0),[]),w=(0,a.useCallback)(()=>{c([])},[]),C=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"subscribe",rooms:e})),!0),[]),Z=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"unsubscribe",rooms:e})),!0),[]);return{status:s,events:l,lastMessage:o,error:u,isConnected:"connected"===s,reconnectAttempts:x.current,connect:v,disconnect:N,send:k,clearEvents:w,subscribe:C,unsubscribe:Z}}},58450:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},81974:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},72806:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},74067:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},91109:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},76289:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]])},75308:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},56691:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},88781:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},28532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},50527:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},83331:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},52640:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},97019:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},1666:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},20590:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},43631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(51509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\dashboard\app\pipelines\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[547,9557,6867],()=>s(63709));module.exports=a})();