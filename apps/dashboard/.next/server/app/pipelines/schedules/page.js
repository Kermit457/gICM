(()=>{var e={};e.id=6744,e.ids=[6744],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30986:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),s(53839),s(13263),s(38013);var a=s(66933),r=s(16006),l=s(294),i=s.n(l),n=s(46901),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["pipelines",{children:["schedules",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53839)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\pipelines\\schedules\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,13263)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,38013,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\pipelines\\schedules\\page.tsx"],x="/pipelines/schedules/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/pipelines/schedules/page",pathname:"/pipelines/schedules",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75599:(e,t,s)=>{Promise.resolve().then(s.bind(s,72545))},72545:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(52723),r=s(3789),l=s(13029),i=s(82953),n=s(20590),c=s(78858),d=s(88781),o=s(1666),x=s(66969),u=s(22668),m=s(66707),p=s(74067),h=s(91109),g=s(50527),y=s(80321);let b=(0,s(82016).Z)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var v=s(28532),j=s(97039),f=s(53006),N=s(76612);let w=[{label:"Every minute",value:"* * * * *",description:"Runs every minute"},{label:"Every 5 minutes",value:"*/5 * * * *",description:"Runs every 5 minutes"},{label:"Every 15 minutes",value:"*/15 * * * *",description:"Runs every 15 minutes"},{label:"Every 30 minutes",value:"*/30 * * * *",description:"Runs every 30 minutes"},{label:"Hourly",value:"0 * * * *",description:"Runs at minute 0 every hour"},{label:"Every 2 hours",value:"0 */2 * * *",description:"Runs every 2 hours"},{label:"Every 4 hours",value:"0 */4 * * *",description:"Runs every 4 hours"},{label:"Every 6 hours",value:"0 */6 * * *",description:"Runs every 6 hours"},{label:"Daily at midnight",value:"0 0 * * *",description:"Runs at 00:00 every day"},{label:"Daily at 9 AM",value:"0 9 * * *",description:"Runs at 09:00 every day"},{label:"Daily at 6 PM",value:"0 18 * * *",description:"Runs at 18:00 every day"},{label:"Weekdays at 9 AM",value:"0 9 * * 1-5",description:"Runs Mon-Fri at 09:00"},{label:"Weekly (Sunday)",value:"0 0 * * 0",description:"Runs every Sunday at midnight"},{label:"Monthly (1st)",value:"0 0 1 * *",description:"Runs 1st of each month at midnight"}],k=[{label:"UTC",value:"UTC"},{label:"US Eastern",value:"America/New_York"},{label:"US Pacific",value:"America/Los_Angeles"},{label:"US Central",value:"America/Chicago"},{label:"UK",value:"Europe/London"},{label:"Central Europe",value:"Europe/Berlin"},{label:"Japan",value:"Asia/Tokyo"},{label:"Singapore",value:"Asia/Singapore"},{label:"Australia",value:"Australia/Sydney"}];function S({value:e,onChange:t,timezone:s="UTC",onTimezoneChange:l}){let[i,n]=(0,r.useState)("preset"),[c,d]=(0,r.useState)({minute:"*",hour:"*",dayOfMonth:"*",month:"*",dayOfWeek:"*"}),[o,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),g=(0,r.useMemo)(()=>(function(e){let t=e.split(" ");if(5!==t.length)return e;let[s,a,r,l,i]=t;if("*"===s&&"*"===a&&"*"===r&&"*"===l&&"*"===i)return"Every minute";if(s.startsWith("*/")&&"*"===a&&"*"===r&&"*"===l&&"*"===i)return`Every ${s.slice(2)} minutes`;if(!s.includes("*")&&"*"===a&&"*"===r&&"*"===l&&"*"===i)return`Every hour at :${s.padStart(2,"0")}`;if("*"!==s&&a.startsWith("*/")&&"*"===r)return`Every ${a.slice(2)} hours at :${s.padStart(2,"0")}`;if(!s.includes("*")&&!a.includes("*")&&"*"===r&&"*"===l&&"*"===i)return`Daily at ${a.padStart(2,"0")}:${s.padStart(2,"0")}`;if(!s.includes("*")&&!a.includes("*")&&"*"===r&&"*"===l&&"1-5"===i)return`Weekdays at ${a.padStart(2,"0")}:${s.padStart(2,"0")}`;if(!s.includes("*")&&!a.includes("*")&&"*"===r&&"*"===l&&!i.includes("*")){let e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][parseInt(i)]||i;return`Weekly on ${e} at ${a.padStart(2,"0")}:${s.padStart(2,"0")}`}if(!s.includes("*")&&!a.includes("*")&&!r.includes("*")&&"*"===l&&"*"===i){let e=["th","st","nd","rd"][parseInt(r)%10]||"th";return`Monthly on the ${r}${e} at ${a.padStart(2,"0")}:${s.padStart(2,"0")}`}return e})(e),[e]),y=(0,r.useMemo)(()=>(function(e,t){try{let t=e.split(" ");if(5!==t.length)return null;let[s,a]=t,r=new Date,l=new Date(r);if(l.setSeconds(0),l.setMilliseconds(0),"*"===s)return l.setMinutes(l.getMinutes()+1),l;if(s.startsWith("*/")){let e=parseInt(s.slice(2)),t=l.getMinutes(),a=Math.ceil((t+1)/e)*e;return a>=60?(l.setHours(l.getHours()+1),l.setMinutes(0)):l.setMinutes(a),l}if(!s.includes("*")&&!a.includes("*"))return l.setMinutes(parseInt(s)),l.setHours(parseInt(a)),l<=r&&l.setDate(l.getDate()+1),l;if(!s.includes("*")&&"*"===a)return l.setMinutes(parseInt(s)),l.getMinutes()<=r.getMinutes()&&l.setHours(l.getHours()+1),l;return null}catch{return null}})(e,0),[e,s]),b=w.find(t=>t.value===e),v=e=>{d(e),t(`${e.minute} ${e.hour} ${e.dayOfMonth} ${e.month} ${e.dayOfWeek}`)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 p-1 bg-black/30 border border-gicm-border rounded-lg w-fit",children:[a.jsx("button",{onClick:()=>n("preset"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${"preset"===i?"bg-gicm-primary text-black font-medium":"text-gray-400 hover:text-white"}`,children:"Presets"}),a.jsx("button",{onClick:()=>n("custom"),className:`px-3 py-1.5 text-sm rounded-md transition-colors ${"custom"===i?"bg-gicm-primary text-black font-medium":"text-gray-400 hover:text-white"}`,children:"Custom"})]}),"preset"===i?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>m(!o),className:"w-full flex items-center justify-between px-4 py-3 bg-black/30 border border-gicm-border rounded-lg text-left hover:border-gicm-primary/50 transition-colors",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white font-medium",children:b?.label||"Select a schedule"}),b&&a.jsx("p",{className:"text-sm text-gray-400",children:b.description})]}),a.jsx(j.Z,{className:`w-5 h-5 text-gray-400 transition-transform ${o?"rotate-180":""}`})]}),o&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gicm-card border border-gicm-border rounded-lg shadow-xl z-50 max-h-80 overflow-y-auto",children:w.map(s=>(0,a.jsxs)("button",{onClick:()=>{t(s.value),m(!1)},className:`w-full flex items-center justify-between px-4 py-3 text-left hover:bg-white/5 transition-colors ${e===s.value?"bg-gicm-primary/10":""}`,children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-white",children:s.label}),a.jsx("p",{className:"text-xs text-gray-500",children:s.value})]}),e===s.value&&a.jsx(f.Z,{className:"w-4 h-4 text-gicm-primary"})]},s.value))})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-5 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Minute"}),a.jsx("input",{type:"text",value:c.minute,onChange:e=>v({...c,minute:e.target.value}),placeholder:"*",className:"w-full px-3 py-2 bg-black/30 border border-gicm-border rounded-lg text-white text-center focus:border-gicm-primary focus:outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"0-59"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Hour"}),a.jsx("input",{type:"text",value:c.hour,onChange:e=>v({...c,hour:e.target.value}),placeholder:"*",className:"w-full px-3 py-2 bg-black/30 border border-gicm-border rounded-lg text-white text-center focus:border-gicm-primary focus:outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"0-23"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Day"}),a.jsx("input",{type:"text",value:c.dayOfMonth,onChange:e=>v({...c,dayOfMonth:e.target.value}),placeholder:"*",className:"w-full px-3 py-2 bg-black/30 border border-gicm-border rounded-lg text-white text-center focus:border-gicm-primary focus:outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"1-31"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Month"}),a.jsx("input",{type:"text",value:c.month,onChange:e=>v({...c,month:e.target.value}),placeholder:"*",className:"w-full px-3 py-2 bg-black/30 border border-gicm-border rounded-lg text-white text-center focus:border-gicm-primary focus:outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"1-12"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Weekday"}),a.jsx("input",{type:"text",value:c.dayOfWeek,onChange:e=>v({...c,dayOfWeek:e.target.value}),placeholder:"*",className:"w-full px-3 py-2 bg-black/30 border border-gicm-border rounded-lg text-white text-center focus:border-gicm-primary focus:outline-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"0-6"})]})]}),a.jsx("div",{className:"p-3 bg-black/20 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[a.jsx(N.Z,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 space-y-1",children:[(0,a.jsxs)("p",{children:[a.jsx("code",{className:"text-gicm-primary",children:"*"})," = any value,"," ",a.jsx("code",{className:"text-gicm-primary",children:"*/n"})," = every n,"," ",a.jsx("code",{className:"text-gicm-primary",children:"n-m"})," = range,"," ",a.jsx("code",{className:"text-gicm-primary",children:"n,m"})," = list"]}),(0,a.jsxs)("p",{children:["Example: ",a.jsx("code",{className:"text-white",children:"0 9 * * 1-5"})," = Every weekday at 9:00 AM"]})]})]})})]}),l&&(0,a.jsxs)("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Timezone"}),(0,a.jsxs)("button",{onClick:()=>h(!p),className:"w-full flex items-center justify-between px-4 py-2.5 bg-black/30 border border-gicm-border rounded-lg text-left hover:border-gicm-primary/50 transition-colors",children:[a.jsx("span",{className:"text-white",children:k.find(e=>e.value===s)?.label||s}),a.jsx(j.Z,{className:`w-4 h-4 text-gray-400 transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gicm-card border border-gicm-border rounded-lg shadow-xl z-50 max-h-60 overflow-y-auto",children:k.map(e=>(0,a.jsxs)("button",{onClick:()=>{l(e.value),h(!1)},className:`w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-white/5 transition-colors ${s===e.value?"bg-gicm-primary/10":""}`,children:[a.jsx("span",{className:"text-white",children:e.label}),a.jsx("span",{className:"text-xs text-gray-500",children:e.value})]},e.value))})]}),(0,a.jsxs)("div",{className:"p-4 bg-gicm-card border border-gicm-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-gicm-primary"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Schedule Summary"})]}),a.jsx("code",{className:"px-2 py-1 bg-black/30 rounded text-xs text-gicm-primary font-mono",children:e})]}),a.jsx("p",{className:"text-white font-medium mb-2",children:g}),y&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[a.jsx(u.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Next run:"," ",a.jsx("span",{className:"text-white",children:y.toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]})}let C=[{id:"1",pipelineId:"research-and-analyze",pipelineName:"Research & Analyze",name:"Daily Crypto Research",description:"Analyze top trending tokens every morning",cronExpression:"0 9 * * *",timezone:"America/New_York",enabled:!0,status:"active",nextRun:new Date(Date.now()+18e6).toISOString(),lastRun:new Date(Date.now()-864e5).toISOString(),lastStatus:"completed",runCount:45,consecutiveFailures:0,createdAt:new Date(Date.now()-2592e6).toISOString()},{id:"2",pipelineId:"content-generation",pipelineName:"Content Generation",name:"Weekly Blog Posts",description:"Generate SEO-optimized blog content",cronExpression:"0 10 * * 1",timezone:"UTC",enabled:!0,status:"active",nextRun:new Date(Date.now()+2592e5).toISOString(),lastRun:new Date(Date.now()-3456e5).toISOString(),lastStatus:"completed",runCount:12,consecutiveFailures:0,createdAt:new Date(Date.now()-5184e6).toISOString()},{id:"3",pipelineId:"security-audit",pipelineName:"Security Audit",name:"Nightly Security Scan",description:"Automated security analysis",cronExpression:"0 2 * * *",timezone:"UTC",enabled:!1,status:"paused",nextRun:null,lastRun:new Date(Date.now()-1728e5).toISOString(),lastStatus:"failed",runCount:8,consecutiveFailures:3,createdAt:new Date(Date.now()-1296e6).toISOString()}],M={totalSchedules:3,activeSchedules:2,pausedSchedules:1,totalRuns:65,successfulRuns:58,failedRuns:7,successRate:89.2};function Z({status:e,lastStatus:t}){return"active"===e?(0,a.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-green-500/10 text-green-400 text-xs rounded-full",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"}),"Active"]}):"paused"===e?(0,a.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-yellow-500/10 text-yellow-400 text-xs rounded-full",children:[a.jsx(i.Z,{className:"w-3 h-3"}),"Paused"]}):"error"===e?(0,a.jsxs)("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-red-500/10 text-red-400 text-xs rounded-full",children:[a.jsx(n.Z,{className:"w-3 h-3"}),"Error"]}):a.jsx("span",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-500/10 text-gray-400 text-xs rounded-full",children:"Disabled"})}function D({schedule:e,onToggle:t,onDelete:s,onTrigger:l}){let[n,g]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-5 hover:border-gicm-primary/30 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),a.jsx(Z,{status:e.status,lastStatus:e.lastStatus})]}),a.jsx("p",{className:"text-sm text-gray-400",children:e.pipelineName}),e.description&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{onClick:()=>g(!n),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(c.Z,{className:"w-4 h-4 text-gray-400"})}),n&&(0,a.jsxs)("div",{className:"absolute right-0 top-full mt-1 w-40 bg-gicm-card border border-gicm-border rounded-lg shadow-xl z-10",children:[(0,a.jsxs)("button",{onClick:()=>{l(e.id),g(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-white/5",children:[a.jsx(d.Z,{className:"w-4 h-4"}),"Run Now"]}),a.jsx("button",{onClick:()=>{t(e.id),g(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-white/5",children:e.enabled?(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.Z,{className:"w-4 h-4"}),"Pause"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"w-4 h-4"}),"Resume"]})}),(0,a.jsxs)("button",{onClick:()=>{s(e.id),g(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10",children:[a.jsx(o.Z,{className:"w-4 h-4"}),"Delete"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(x.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Schedule"}),a.jsx("p",{className:"text-sm text-white",children:function(e){let t=e.split(" ");if(5!==t.length)return e;let[s,a,r,l,i]=t;return"*"===s&&"*"===a?"Every minute":s.startsWith("*/")?`Every ${s.slice(2)} minutes`:"*"!==s&&"*"===a?`Every hour at :${s.padStart(2,"0")}`:"*"!==s&&"*"!==a&&"*"===r&&"*"===i?`Daily at ${a.padStart(2,"0")}:${s.padStart(2,"0")}`:"*"!==i&&"*"===r?`Weekly (${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][parseInt(i)]||i}) at ${a}:${s}`:"*"!==r?`Monthly on ${r} at ${a}:${s}`:e}(e.cronExpression)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Next Run"}),a.jsx("p",{className:"text-sm text-white",children:e.nextRun?new Date(e.nextRun).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"â€”"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gicm-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[a.jsx(m.Z,{className:"w-3.5 h-3.5 text-gicm-primary"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[e.runCount," runs"]})]}),e.lastStatus&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:["completed"===e.lastStatus?a.jsx(p.Z,{className:"w-3.5 h-3.5 text-green-400"}):a.jsx(h.Z,{className:"w-3.5 h-3.5 text-red-400"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:["Last: ",e.lastStatus]})]})]}),a.jsx("code",{className:"text-xs text-gray-500 font-mono",children:e.cronExpression})]})]})}function R({isOpen:e,onClose:t,onCreate:s}){let[l,i]=(0,r.useState)(""),[n,c]=(0,r.useState)(""),[d,o]=(0,r.useState)("0 9 * * *"),[x,u]=(0,r.useState)("UTC"),[m,p]=(0,r.useState)("");return e?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"p-5 border-b border-gicm-border",children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Schedule"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Automate your pipeline execution"})]}),(0,a.jsxs)("div",{className:"p-5 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Schedule Name"}),a.jsx("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"e.g., Daily Morning Analysis",className:"w-full px-4 py-2.5 bg-black/30 border border-gicm-border rounded-lg text-white placeholder-gray-500 focus:border-gicm-primary focus:outline-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Pipeline"}),(0,a.jsxs)("select",{value:n,onChange:e=>c(e.target.value),className:"w-full px-4 py-2.5 bg-black/30 border border-gicm-border rounded-lg text-white focus:border-gicm-primary focus:outline-none",children:[a.jsx("option",{value:"",children:"Select a pipeline..."}),a.jsx("option",{value:"research-and-analyze",children:"Research & Analyze"}),a.jsx("option",{value:"content-generation",children:"Content Generation"}),a.jsx("option",{value:"security-audit",children:"Security Audit"}),a.jsx("option",{value:"token-swap",children:"Token Swap"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Schedule"}),a.jsx(S,{value:d,onChange:o,timezone:x,onTimezoneChange:u})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Description (optional)"}),a.jsx("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"What does this schedule do?",rows:2,className:"w-full px-4 py-2.5 bg-black/30 border border-gicm-border rounded-lg text-white placeholder-gray-500 focus:border-gicm-primary focus:outline-none resize-none"})]})]}),(0,a.jsxs)("div",{className:"p-5 border-t border-gicm-border flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{s({name:l,pipelineId:n,pipelineName:n.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),cronExpression:d,timezone:x,description:m}),t()},disabled:!l||!n,className:"px-4 py-2 bg-gicm-primary text-black font-medium rounded-lg hover:bg-gicm-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Schedule"})]})]})}):null}function $(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(null),[n,c]=(0,r.useState)(!0),[d,o]=(0,r.useState)(!1),x=(0,r.useCallback)(async()=>{c(!0);try{let e=await fetch("http://localhost:3100/api/schedules");if(e.ok){let s=await e.json();if(s.ok){t(s.schedules),i(s.stats),c(!1);return}}}catch(e){console.error("Failed to fetch schedules:",e)}t(C),i(M),c(!1)},[]),u=async e=>{t(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled,status:t.enabled?"paused":"active",nextRun:t.enabled?null:new Date(Date.now()+36e5).toISOString()}:t))},m=async e=>{confirm("Are you sure you want to delete this schedule?")&&t(t=>t.filter(t=>t.id!==e))},p=async e=>{alert(`Triggering schedule ${e}...`)};return n?a.jsx("div",{className:"min-h-screen bg-gicm-bg flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(g.Z,{className:"w-8 h-8 text-gicm-primary mx-auto mb-3 animate-spin"}),a.jsx("p",{className:"text-gray-400",children:"Loading schedules..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gicm-bg text-white",children:[a.jsx("div",{className:"border-b border-gicm-border bg-gicm-card/50 backdrop-blur-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(l.default,{href:"/pipelines",className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(y.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx(b,{className:"w-7 h-7 text-gicm-primary"}),"Pipeline Schedules"]}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Automate pipeline execution with cron scheduling"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:x,className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:a.jsx(g.Z,{className:"w-5 h-5 text-gray-400"})}),(0,a.jsxs)("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-gicm-primary text-black font-medium rounded-lg hover:bg-gicm-primary/90 transition-colors",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"New Schedule"]})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[s&&(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Schedules"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.totalSchedules})]}),(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-green-400",children:s.activeSchedules})]}),(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Runs"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:s.totalRuns})]}),(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gicm-primary",children:[s.successRate,"%"]})]})]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-16",children:[a.jsx(b,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Schedules Yet"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Create your first schedule to automate pipeline execution"}),a.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-gicm-primary text-black font-medium rounded-lg hover:bg-gicm-primary/90 transition-colors",children:"Create Schedule"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:e.map(e=>a.jsx(D,{schedule:e,onToggle:u,onDelete:m,onTrigger:p},e.id))})]}),a.jsx(R,{isOpen:d,onClose:()=>o(!1),onCreate:e=>{let s={id:`${Date.now()}`,pipelineId:e.pipelineId||"",pipelineName:e.pipelineName||"",name:e.name||"",description:e.description,cronExpression:e.cronExpression||"0 9 * * *",timezone:e.timezone||"UTC",enabled:!0,status:"active",nextRun:new Date(Date.now()+36e5).toISOString(),lastRun:null,lastStatus:null,runCount:0,consecutiveFailures:0,createdAt:new Date().toISOString()};t(e=>[s,...e])}})]})}},80321:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},22668:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},53006:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},74067:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},91109:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66969:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},78858:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},76612:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},82953:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},88781:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},28532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},50527:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},1666:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},20590:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(82016).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},53839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(51509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\dashboard\app\pipelines\schedules\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[547,9557,6867],()=>s(30986));module.exports=a})();