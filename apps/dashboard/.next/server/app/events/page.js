(()=>{var e={};e.id=38,e.ids=[38],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},31254:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>c.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>l}),r(61904),r(13263),r(38013);var s=r(66933),a=r(16006),n=r(294),c=r.n(n),o=r(46901),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l=["",{children:["events",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,61904)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\events\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13263)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,38013,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\events\\page.tsx"],u="/events/page",g={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/events/page",pathname:"/events",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},69938:(e,t,r)=>{Promise.resolve().then(r.bind(r,26539))},26539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Z});var s=r(52723),a=r(3789),n=r(63177),c=r(54870),o=r(69175),i=r(13733),l=r(53591),d=r(57981),u=r(91109),g=r(57432),m=r(81584),x=r(76612),p=r(66969),b=r(97039),h=r(384),y=r(50527),v=r(36722),f=r(99040),j=r(15961);let N={brain:{icon:n.Z,color:"text-purple-400"},money:{icon:c.Z,color:"text-green-400"},growth:{icon:o.Z,color:"text-blue-400"},product:{icon:i.Z,color:"text-orange-400"},hunter:{icon:l.Z,color:"text-gicm-primary"},autonomy:{icon:d.Z,color:"text-yellow-400"}},S={action:{color:"text-gicm-primary",bgColor:"bg-gicm-primary/10"},decision:{color:"text-purple-400",bgColor:"bg-purple-500/10"},discovery:{color:"text-blue-400",bgColor:"bg-blue-500/10"},error:{color:"text-red-400",bgColor:"bg-red-500/10"},success:{color:"text-green-400",bgColor:"bg-green-500/10"},info:{color:"text-gray-400",bgColor:"bg-gray-500/10"}};function k({category:e}){switch(e){case"error":return s.jsx(u.Z,{className:"w-4 h-4"});case"success":return s.jsx(g.Z,{className:"w-4 h-4"});case"action":return s.jsx(m.Z,{className:"w-4 h-4"});default:return s.jsx(x.Z,{className:"w-4 h-4"})}}function w({event:e}){let[t,r]=(0,a.useState)(!1),n=N[e.source]??{icon:m.Z,color:"text-gray-400"},c=S[e.category]??S.info,o=n.icon;return(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 flex items-start gap-4 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>r(!t),children:[s.jsx("div",{className:`p-2 rounded-lg ${c.bgColor}`,children:s.jsx(o,{className:`w-5 h-5 ${n.color}`})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${c.bgColor} ${c.color}`,children:e.category}),s.jsx("span",{className:"text-xs text-gray-500",children:e.source})]}),s.jsx("div",{className:"font-medium",children:e.type}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 flex items-center gap-2 mt-1",children:[s.jsx(p.Z,{className:"w-3 h-3"}),function(e){let t=new Date(e),r=new Date().getTime()-t.getTime();return r<6e4?"Just now":r<36e5?`${Math.floor(r/6e4)}m ago`:r<864e5?`${Math.floor(r/36e5)}h ago`:t.toLocaleDateString()}(e.timestamp)," â€¢ ",new Date(e.timestamp).toLocaleTimeString()]})]}),s.jsx(b.Z,{className:`w-5 h-5 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&s.jsx("div",{className:"px-4 pb-4 border-t border-gicm-border",children:s.jsx("div",{className:"mt-3 p-3 bg-black/30 rounded-lg font-mono text-xs overflow-x-auto",children:s.jsx("pre",{children:JSON.stringify(e.payload,null,2)})})})]})}function C({sources:e,categories:t,selectedSource:r,selectedCategory:a,onSourceChange:n,onCategoryChange:c}){return(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-gicm-card border border-gicm-border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[s.jsx(h.Z,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Filters:"})]}),(0,s.jsxs)("select",{value:r,onChange:e=>n(e.target.value),className:"bg-white/5 border border-gicm-border rounded px-3 py-1.5 text-sm",children:[s.jsx("option",{value:"",children:"All Sources"}),e.map(e=>s.jsx("option",{value:e,children:e},e))]}),(0,s.jsxs)("select",{value:a,onChange:e=>c(e.target.value),className:"bg-white/5 border border-gicm-border rounded px-3 py-1.5 text-sm",children:[s.jsx("option",{value:"",children:"All Categories"}),t.map(e=>s.jsx("option",{value:e,children:e},e))]})]})}function $({events:e}){let t=e.reduce((e,t)=>(e[t.source]=(e[t.source]||0)+1,e),{}),r=e.reduce((e,t)=>(e[t.category]=(e[t.category]||0)+1,e),{});return(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm text-gray-400 mb-3",children:"By Source"}),s.jsx("div",{className:"space-y-2",children:Object.entries(t).map(([e,t])=>{let r=N[e]??{icon:m.Z,color:"text-gray-400"},a=r.icon;return(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(a,{className:`w-4 h-4 ${r.color}`}),s.jsx("span",{className:"capitalize",children:e})]}),s.jsx("span",{className:"font-medium",children:t})]},e)})})]}),(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm text-gray-400 mb-3",children:"By Category"}),s.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([e,t])=>{let r=S[e]??S.info;return(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(k,{category:e}),s.jsx("span",{className:`capitalize ${r.color}`,children:e})]}),s.jsx("span",{className:"font-medium",children:t})]},e)})})]})]})}function Z(){let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)([]),[i,l]=(0,a.useState)(""),[d,u]=(0,a.useState)("");(0,a.useRef)(null);let g=(0,f.s)({autoReconnect:!0,reconnectDelay:3e3,onEvent:e=>{o(t=>t.some(t=>t.id===e.id)?t:[e,...t].slice(0,100))}}),x=(0,a.useCallback)(async()=>{n(!0);let e=await v.PK.getEvents(100);o(e?.events??[]),n(!1)},[]),p=[...new Set(c.map(e=>e.source))],b=[...new Set(c.map(e=>e.category))],h=c.filter(e=>(!i||e.source===i)&&(!d||e.category===d));return e?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx(m.Z,{className:"w-8 h-8 text-gicm-primary"}),"Event Stream"]}),s.jsx("p",{className:"text-gray-400 mt-1",children:"Real-time audit trail of all system events"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(j.Y,{status:g.status,isRealtime:g.isConnected,compact:!0}),(0,s.jsxs)("button",{onClick:()=>x(),className:"flex items-center gap-2 px-4 py-2 bg-white/5 hover:bg-white/10 rounded-lg transition-colors",children:[s.jsx(y.Z,{className:`w-4 h-4 ${r?"animate-spin":""}`}),"Refresh"]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Events"}),s.jsx("div",{className:"text-2xl font-bold text-gicm-primary",children:c.length})]}),(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Sources"}),s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:p.length})]}),(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Categories"}),s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:b.length})]}),(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Filtered"}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:h.length})]})]}),s.jsx($,{events:c}),s.jsx(C,{sources:p,categories:b,selectedSource:i,selectedCategory:d,onSourceChange:l,onCategoryChange:u}),s.jsx("div",{className:"space-y-3",children:0===h.length?(0,s.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-8 text-center",children:[s.jsx(m.Z,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No events found"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:0===c.length?"Start the Integration Hub to see events":"Try adjusting your filters"})]}):h.map(e=>s.jsx(w,{event:e},e.id))})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-gray-500",children:"Loading Events..."})})}},15961:(e,t,r)=>{"use strict";r.d(t,{Y:()=>o});var s=r(52723),a=r(63035),n=r(98412);let c={connected:{icon:a.Z,label:"Real-time",color:"text-green-400",dot:"bg-green-400 animate-pulse",bg:"bg-green-500/10 border-green-500/30"},connecting:{icon:a.Z,label:"Connecting...",color:"text-yellow-400",dot:"bg-yellow-400 animate-pulse",bg:"bg-yellow-500/10 border-yellow-500/30"},disconnected:{icon:n.Z,label:"Offline",color:"text-gray-400",dot:"bg-gray-400",bg:"bg-gray-500/10 border-gray-500/30"},error:{icon:n.Z,label:"Error",color:"text-red-400",dot:"bg-red-400",bg:"bg-red-500/10 border-red-500/30"}};function o({status:e,isRealtime:t,compact:r=!1}){let a=c[e]||c.disconnected,n=a.icon;return r?(0,s.jsxs)("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full ${a.bg} border`,children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot}`}),s.jsx("span",{className:`text-xs font-medium ${a.color}`,children:a.label})]}):s.jsx("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg ${a.bg} border`,children:[s.jsx(n,{className:`w-4 h-4 ${a.color}`}),s.jsx("span",{className:`text-xs font-medium ${a.color}`,children:t?"Real-time":a.label})]})})}},99040:(e,t,r)=>{"use strict";r.d(t,{s:()=>c});var s=r(3789);let a=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001/ws",n={autoReconnect:!0,reconnectDelay:3e3,maxReconnectAttempts:10,heartbeat:!0,heartbeatInterval:3e4,rooms:[],onEvent:()=>{},onMessage:()=>{},onStatusChange:()=>{}};function c(e={}){let t={...n,...e},[r,c]=(0,s.useState)("disconnected"),[o,i]=(0,s.useState)([]),[l,d]=(0,s.useState)(null),[u,g]=(0,s.useState)(null),m=(0,s.useRef)(null),x=(0,s.useRef)(0),p=(0,s.useRef)(null),b=(0,s.useRef)(null),h=(0,s.useRef)(!0),y=(0,s.useCallback)(e=>{h.current&&(c(e),t.onStatusChange(e))},[t]),v=(0,s.useCallback)(()=>{b.current&&(clearInterval(b.current),b.current=null)},[]),f=(0,s.useCallback)(()=>{v(),t.heartbeat&&m.current?.readyState===WebSocket.OPEN&&(b.current=setInterval(()=>{m.current?.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"ping"}))},t.heartbeatInterval))},[t.heartbeat,t.heartbeatInterval,v]),j=(0,s.useCallback)(()=>{p.current&&(clearTimeout(p.current),p.current=null),v(),m.current&&(m.current.close(),m.current=null),x.current=0,y("disconnected")},[v,y]),N=(0,s.useCallback)(()=>{if(m.current?.readyState!==WebSocket.CONNECTING&&m.current?.readyState!==WebSocket.OPEN){m.current&&m.current.close(),y("connecting"),g(null);try{let e=new WebSocket(a);m.current=e,e.onopen=()=>{h.current&&(x.current=0,y("connected"),f(),e.send(JSON.stringify({type:"subscribe",channels:["events","status","metrics"]})),t.rooms.length>0&&e.send(JSON.stringify({action:"subscribe",rooms:t.rooms})))},e.onmessage=e=>{if(h.current)try{let r=JSON.parse(e.data);if(d(r),t.onMessage(r),"event"===r.type&&r.payload){let e=r.payload;i(t=>[e,...t].slice(0,100)),t.onEvent(e)}}catch(e){console.warn("Failed to parse WebSocket message:",e)}},e.onerror=e=>{h.current&&(console.error("WebSocket error:",e),g("Connection error"),y("error"))},e.onclose=e=>{if(h.current){if(v(),1e3===e.code){y("disconnected");return}if(y("disconnected"),t.autoReconnect&&(0===t.maxReconnectAttempts||x.current<t.maxReconnectAttempts)){x.current++;let e=t.reconnectDelay*Math.min(x.current,5);p.current=setTimeout(()=>{h.current&&N()},e)}}}}catch(e){console.error("Failed to create WebSocket:",e),g(e instanceof Error?e.message:"Failed to connect"),y("error")}}},[t,y,f,v]),S=(0,s.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&(m.current.send(JSON.stringify(e)),!0),[]),k=(0,s.useCallback)(()=>{i([])},[]),w=(0,s.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"subscribe",rooms:e})),!0),[]),C=(0,s.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"unsubscribe",rooms:e})),!0),[]);return{status:r,events:o,lastMessage:l,error:u,isConnected:"connected"===r,reconnectAttempts:x.current,connect:N,disconnect:j,send:S,clearEvents:k,subscribe:w,unsubscribe:C}}},36722:(e,t,r)=>{"use strict";r.d(t,{PK:()=>c,yu:()=>s});let s="http://localhost:3100";async function a(e){try{let t=await fetch(`${s}/api${e}`,{signal:AbortSignal.timeout(5e3),cache:"no-store"});if(!t.ok)return null;return t.json()}catch{return null}}async function n(e,t){try{let r=await fetch(`${s}/api${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,signal:AbortSignal.timeout(1e4)});if(!r.ok)return null;return r.json()}catch{return null}}s.replace(/^http/,"ws");let c={getStatus:()=>a("/status"),getBrain:()=>a("/brain/status"),getBrainStatus:()=>a("/brain/status"),getBrainStats:()=>a("/brain/stats"),getBrainRecent:(e=20)=>a(`/brain/recent?limit=${e}`),getBrainPatterns:()=>a("/brain/patterns"),getBrainPredictions:()=>a("/brain/predictions"),searchBrain:e=>n("/brain/search",{query:e}),triggerIngest:e=>n("/brain/ingest",{source:e}),getBrainKnowledgeById:e=>a(`/brain/knowledge/${e}`),getBrainKnowledgeByTopic:(e,t=20)=>a(`/brain/knowledge/topic/${e}?limit=${t}`),getBrainKnowledgeSimilar:(e,t=10)=>a(`/brain/knowledge/${e}/similar?limit=${t}`),getBrainPatternById:e=>a(`/brain/patterns/${e}`),getBrainPredictionById:e=>a(`/brain/predictions/${e}`),generateBrainPredictions:(e,t=5)=>n("/brain/predictions/generate",{type:e,count:t}),getBrainIngestStats:()=>a("/brain/ingest/stats"),getTreasury:()=>a("/treasury"),getMoney:()=>a("/money/status"),getGrowth:()=>a("/growth/status"),getProduct:()=>a("/product/status"),getHunter:()=>a("/hunter/status"),getAutonomy:()=>a("/autonomy/status"),getPredictions:()=>a("/predictions/status"),getEvents:(e=50,t)=>a(`/events?limit=${e}${t?`&category=${t}`:""}`),getEnrichedEvents:(e=50,t,r)=>a(`/events/enriched?limit=${e}${t?`&category=${t}`:""}${r?`&severity=${r}`:""}`),getEventCategories:()=>a("/events/categories"),startBrain:()=>n("/brain/start"),stopBrain:()=>n("/brain/stop"),triggerPhase:e=>n("/brain/phase",{phase:e}),runDiscovery:()=>n("/discovery/run"),generateContent:e=>n("/content/generate",{type:e})}},57432:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91109:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},384:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},76612:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},50527:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(82016).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},61904:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(51509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\dashboard\app\events\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[547,9557,6867],()=>r(31254));module.exports=s})();