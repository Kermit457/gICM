(()=>{var e={};e.id=9394,e.ids=[9394],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},95032:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),r(46423),r(13263),r(38013);var a=r(66933),s=r(16006),n=r(294),l=r.n(n),i=r(46901),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);r.d(t,c);let o=["",{children:["command",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,46423)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\command\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,13263)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,38013,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\command\\page.tsx"],u="/command/page",g={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/command/page",pathname:"/command",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},77887:(e,t,r)=>{Promise.resolve().then(r.bind(r,82358))},82358:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var a=r(52723),s=r(3789),n=r.n(s),l=r(13029),i=r(57432),c=r(91109),o=r(63177),d=r(54870),u=r(69175),g=r(13733),m=r(57981),x=r(53591),b=r(83337),h=r(82953),p=r(88781);let y=(0,r(82016).Z)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var v=r(72839),f=r(20118),w=r(66707),j=r(97039),N=r(75308),k=r(63035),S=r(98412),$=r(71770),P=r(81584),Z=r(79793),C=r(50527),B=r(36722),M=r(99040);function R({message:e,type:t,onClose:r}){return(0,a.jsxs)("div",{className:`fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 z-50 ${"success"===t?"bg-green-500/90 text-white":"bg-red-500/90 text-white"}`,children:["success"===t?a.jsx(i.Z,{className:"w-4 h-4"}):a.jsx(c.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:e})]})}let A=[{id:"brain",name:"Brain",icon:o.Z,color:"purple",description:"Master orchestrator",link:"/brain"},{id:"money",name:"Treasury",icon:d.Z,color:"green",description:"Funds & allocations",link:"/treasury"},{id:"growth",name:"Growth",icon:u.Z,color:"blue",description:"Content & marketing",link:"/growth"},{id:"product",name:"Product",icon:g.Z,color:"orange",description:"Discovery & building",link:"/product"},{id:"autonomy",name:"Autonomy",icon:m.Z,color:"yellow",description:"Approvals & audit",link:"/brain"},{id:"hunter",name:"Hunter",icon:x.Z,color:"red",description:"Opportunity discovery",link:"/hunter"}],O={green:{bg:"bg-green-500/10",border:"border-green-500/30",text:"text-green-400",dot:"bg-green-400"},blue:{bg:"bg-blue-500/10",border:"border-blue-500/30",text:"text-blue-400",dot:"bg-blue-400"},purple:{bg:"bg-purple-500/10",border:"border-purple-500/30",text:"text-purple-400",dot:"bg-purple-400"},orange:{bg:"bg-orange-500/10",border:"border-orange-500/30",text:"text-orange-400",dot:"bg-orange-400"},yellow:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",text:"text-yellow-400",dot:"bg-yellow-400"},red:{bg:"bg-red-500/10",border:"border-red-500/30",text:"text-red-400",dot:"bg-red-400"},gray:{bg:"bg-gray-500/10",border:"border-gray-500/30",text:"text-gray-400",dot:"bg-gray-400"}};function E({status:e}){let t={healthy:{icon:i.Z,label:"Healthy",color:"green"},degraded:{icon:b.Z,label:"Degraded",color:"yellow"},offline:{icon:c.Z,label:"Offline",color:"red"},unknown:{icon:b.Z,label:"Unknown",color:"gray"}}[e];t.icon;let r=O[t.color];return(0,a.jsxs)("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full ${r.bg} ${r.border} border`,children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${r.dot} ${"healthy"===e?"animate-pulse":""}`}),a.jsx("span",{className:`text-xs font-medium ${r.text}`,children:t.label})]})}function D({engine:e,health:t,metrics:r,brainRunning:n,onAction:i}){let[c,o]=(0,s.useState)(!1),[d,u]=(0,s.useState)(null),g=e.icon,m=O[e.color],x=t?.status??"unknown",b=function(e,t){switch(e){case"brain":if(!t.brain)return[{label:"Status",value:"—"},{label:"Actions",value:"—"}];return[{label:"Phase",value:t.brain.currentPhase??"Idle"},{label:"Today",value:`${t.brain.metrics?.todayActions??0} actions`}];case"money":var r;if(!t.treasury)return[{label:"Value",value:"—"},{label:"Runway",value:"—"}];return[{label:"Value",value:(r=t.treasury.totalValueUsd)>=1e6?`$${(r/1e6).toFixed(1)}M`:r>=1e3?`$${(r/1e3).toFixed(1)}K`:`$${r.toFixed(0)}`},{label:"Runway",value:`${t.treasury.runway??0} mo`}];case"growth":if(!t.growth)return[{label:"Posts",value:"—"},{label:"Queue",value:"—"}];return[{label:"Posts",value:`${t.growth.metrics?.content?.postsPublished??0}`},{label:"Queue",value:`${t.growth.upcomingContent?.tweets??0} tweets`}];case"product":if(!t.product)return[{label:"Backlog",value:"—"},{label:"Built",value:"—"}];return[{label:"Backlog",value:`${t.product.backlog?.total??0}`},{label:"Built",value:`${t.product.metrics?.built??0}`}];case"autonomy":if(!t.autonomy)return[{label:"Level",value:"—"},{label:"Pending",value:"—"}];return[{label:"Level",value:`L${t.autonomy.level}`},{label:"Pending",value:`${t.autonomy.queue?.pending??0}`}];case"hunter":if(!t.hunter)return[{label:"Signals",value:"—"},{label:"Sources",value:"—"}];return[{label:"Signals",value:`${t.hunter.actionableSignals??0}`},{label:"Sources",value:`${t.hunter.enabledSources?.length??0}`}];default:return[{label:"Status",value:"—"},{label:"Data",value:"—"}]}}(e.id,r),k=function(e,t,r){switch(e){case"brain":return t?[{id:"stop",label:"Stop Brain",icon:h.Z,action:async()=>{let e=await B.PK.stopBrain();r("Brain stopped",!!e?.ok)}}]:[{id:"start",label:"Start Brain",icon:p.Z,action:async()=>{let e=await B.PK.startBrain();r("Brain started",!!e?.ok)}}];case"growth":return[{id:"tweet",label:"Generate Tweet",icon:y,action:async()=>{let e=await B.PK.generateContent("tweet");r("Tweet generated",!!e?.ok)}},{id:"blog",label:"Generate Blog",icon:v.Z,action:async()=>{let e=await B.PK.generateContent("blog");r("Blog generated",!!e?.ok)}}];case"product":return[{id:"discovery",label:"Run Discovery",icon:f.Z,action:async()=>{let e=await B.PK.runDiscovery();r("Discovery started",!!e?.ok)}}];default:return[]}}(e.id,n,i),S=async e=>{u(e.id);try{await e.action()}catch{i(`${e.label} failed`,!1)}finally{u(null),o(!1)}};return(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-5 hover:border-gicm-primary/50 transition-all relative",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-lg ${m.bg} border ${m.border}`,children:a.jsx(g,{className:`w-5 h-5 ${m.text}`})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.description})]})]}),a.jsx(E,{status:x})]}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:b.map((e,t)=>(0,a.jsxs)("div",{className:`p-2 rounded-lg ${m.bg} border ${m.border}`,children:[a.jsx("div",{className:"text-xs text-gray-500",children:e.label}),a.jsx("div",{className:`text-sm font-semibold ${m.text}`,children:e.value})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(l.default,{href:e.link,className:"flex-1 px-3 py-2 rounded-lg text-center text-sm font-medium bg-white/5 border border-gicm-border text-gray-300 hover:bg-white/10 hover:text-white transition-all",children:"View"}),k.length>0&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>o(!c),className:"px-3 py-2 rounded-lg text-sm font-medium bg-gicm-primary/10 border border-gicm-primary/30 text-gicm-primary hover:bg-gicm-primary/20 transition-all flex items-center gap-1",children:[a.jsx(w.Z,{className:"w-4 h-4"}),a.jsx(j.Z,{className:`w-3 h-3 transition-transform ${c?"rotate-180":""}`})]}),c&&a.jsx("div",{className:"absolute top-full right-0 mt-1 w-48 bg-gicm-card border border-gicm-border rounded-lg shadow-xl z-10 overflow-hidden",children:k.map(e=>{let t=e.icon,r=d===e.id;return(0,a.jsxs)("button",{onClick:()=>S(e),disabled:r,className:"w-full px-4 py-2.5 text-left text-sm text-gray-300 hover:bg-white/5 hover:text-white transition-colors flex items-center gap-2 disabled:opacity-50",children:[r?a.jsx(N.Z,{className:"w-4 h-4 animate-spin"}):a.jsx(t,{className:"w-4 h-4"}),e.label]},e.id)})})]})]})]})}function I({status:e,isRealtime:t}){let r={connected:{icon:k.Z,label:"Real-time",color:"text-green-400",dot:"bg-green-400 animate-pulse"},connecting:{icon:k.Z,label:"Connecting...",color:"text-yellow-400",dot:"bg-yellow-400 animate-pulse"},disconnected:{icon:S.Z,label:"Polling",color:"text-gray-400",dot:"bg-gray-400"},error:{icon:S.Z,label:"Polling",color:"text-gray-400",dot:"bg-gray-400"}}[e],s=r.icon;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${r.dot}`}),a.jsx(s,{className:`w-4 h-4 ${r.color}`}),a.jsx("span",{className:`text-sm ${r.color}`,children:r.label})]})}function K({events:e}){let t=e=>{switch(e){case"trade":case"treasury":return a.jsx($.Z,{className:"w-4 h-4 text-green-400"});case"content":return a.jsx(v.Z,{className:"w-4 h-4 text-blue-400"});case"build":case"discovery":return a.jsx(g.Z,{className:"w-4 h-4 text-orange-400"});case"engine":return a.jsx(w.Z,{className:"w-4 h-4 text-purple-400"});case"brain":return a.jsx(o.Z,{className:"w-4 h-4 text-purple-400"});case"hunter":case"signal":return a.jsx(x.Z,{className:"w-4 h-4 text-red-400"});default:return a.jsx(P.Z,{className:"w-4 h-4 text-gray-400"})}},r=e=>{switch(e){case"trade":case"treasury":return"green";case"content":return"blue";case"build":case"discovery":return"orange";case"engine":case"brain":return"purple";case"hunter":case"signal":return"red";default:return"gray"}},s=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),n=e=>{let t=e.payload;return t.message?String(t.message):t.action?`Action: ${t.action}`:t.status?`Status: ${t.status}`:t.name?String(t.name):e.type};return 0===e.length?(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gicm-primary/10",children:a.jsx(P.Z,{className:"w-5 h-5 text-gicm-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Activity Feed"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Real-time event stream"})]})]}),(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(P.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No events yet"}),a.jsx("p",{className:"text-xs mt-1",children:"Events will appear here as engines operate"})]})]}):(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gicm-primary/10",children:a.jsx(P.Z,{className:"w-5 h-5 text-gicm-primary"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold",children:"Activity Feed"}),a.jsx("p",{className:"text-sm text-gray-400",children:"Real-time event stream"})]}),(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Live"})]})]}),a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(e=>{let l=O[r(e.category)];return(0,a.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-lg ${l.bg} border ${l.border}`,children:[a.jsx("div",{className:"mt-0.5",children:t(e.category)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-medium ${l.text} uppercase`,children:e.source}),a.jsx("span",{className:"text-xs text-gray-500",children:e.type})]}),a.jsx("p",{className:"text-sm text-gray-300 truncate mt-0.5",children:n(e)})]}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:s(e.timestamp)})]},e.id)})})]})}function _({status:e}){let t=e?.engines?.details??[],r=t.filter(e=>"healthy"===e.status).length,s=t.filter(e=>"degraded"===e.status).length,n=t.filter(e=>"offline"===e.status).length,l=t.length||5,i=n>0?"degraded":s>0?"degraded":r===l?"healthy":"unknown";return(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/30",children:[a.jsx("div",{className:"text-sm text-green-400 mb-1",children:"Healthy"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:r})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:[a.jsx("div",{className:"text-sm text-yellow-400 mb-1",children:"Degraded"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:s})]}),(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/30",children:[a.jsx("div",{className:"text-sm text-red-400 mb-1",children:"Offline"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:n})]}),(0,a.jsxs)("div",{className:`p-4 rounded-lg ${"healthy"===i?"bg-green-500/10 border-green-500/30":"degraded"===i?"bg-yellow-500/10 border-yellow-500/30":"bg-gray-500/10 border-gray-500/30"} border`,children:[a.jsx("div",{className:`text-sm ${"healthy"===i?"text-green-400":"degraded"===i?"text-yellow-400":"text-gray-400"} mb-1`,children:"System"}),a.jsx("div",{className:"text-2xl font-bold text-white capitalize",children:i})]})]})}function T(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(!0),[i,c]=(0,s.useState)(null),[o,d]=(0,s.useState)([]),[u,g]=(0,s.useState)({}),[m,x]=(0,s.useState)(null),[b,h]=(0,s.useState)(null);n().useRef(null);let p=(0,M.s)({autoReconnect:!0,reconnectDelay:3e3,maxReconnectAttempts:10,heartbeat:!0,onEvent:e=>{}}),y=n().useMemo(()=>{let e=[...p.events,...o],t=new Set;return e.filter(e=>!t.has(e.id)&&(t.add(e.id),!0)).sort((e,t)=>t.timestamp-e.timestamp).slice(0,50)},[p.events,o]),v=(e,t)=>{h({message:e,type:t?"success":"error"}),t&&setTimeout(f,500)},f=(0,s.useCallback)(async()=>{try{let[e,t,r,a,s,n,l,i]=await Promise.all([B.PK.getStatus(),B.PK.getEvents(20),B.PK.getTreasury(),B.PK.getGrowth(),B.PK.getProduct(),B.PK.getAutonomy(),B.PK.getBrain(),B.PK.getHunter()]);c(e),d(t?.events??[]),g({treasury:r,growth:a,product:s,autonomy:n,brain:l?.status,hunter:i}),x(new Date)}catch(e){console.error("Failed to fetch data:",e)}finally{l(!1)}},[]);if(!e)return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-12 bg-gicm-card rounded-lg animate-pulse"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[...Array(6)].map((e,t)=>a.jsx("div",{className:"h-48 bg-gicm-card rounded-xl animate-pulse"},t))})]});let w=i?.engines?.details?.reduce((e,t)=>({...e,[t.id]:t}),{})??{};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gicm-primary/10",children:a.jsx(Z.Z,{className:"w-6 h-6 text-gicm-primary"})}),"Command Center"]}),a.jsx("p",{className:"text-gray-400 mt-1 ml-12",children:"Unified control for all gICM engines"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(I,{status:p.status,isRealtime:p.isConnected}),i?.running&&(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm text-gray-400",children:"Hub"})]}),a.jsx("button",{onClick:()=>{l(!0),f()},className:"p-2 rounded-lg bg-white/5 hover:bg-white/10 transition-colors",disabled:r,title:"Refresh data",children:a.jsx(C.Z,{className:`w-5 h-5 text-gray-400 ${r?"animate-spin":""}`})})]})]}),a.jsx(_,{status:i}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:A.map(e=>a.jsx(D,{engine:e,health:w[e.id],metrics:u,brainRunning:u.brain?.isRunning??!1,onAction:v},e.id))}),a.jsx(K,{events:y}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gicm-border",children:[(0,a.jsxs)("span",{children:["Hub: ",i?.running?"Running":"Stopped"," on port ",i?.apiPort??3001]}),(0,a.jsxs)("span",{children:["Last updated: ",m?.toLocaleTimeString()??"Never"]}),(0,a.jsxs)("span",{children:[i?.workflows??0," workflows registered"]})]}),b&&a.jsx(R,{message:b.message,type:b.type,onClose:()=>h(null)})]})}},99040:(e,t,r)=>{"use strict";r.d(t,{s:()=>l});var a=r(3789);let s=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:3001/ws",n={autoReconnect:!0,reconnectDelay:3e3,maxReconnectAttempts:10,heartbeat:!0,heartbeatInterval:3e4,rooms:[],onEvent:()=>{},onMessage:()=>{},onStatusChange:()=>{}};function l(e={}){let t={...n,...e},[r,l]=(0,a.useState)("disconnected"),[i,c]=(0,a.useState)([]),[o,d]=(0,a.useState)(null),[u,g]=(0,a.useState)(null),m=(0,a.useRef)(null),x=(0,a.useRef)(0),b=(0,a.useRef)(null),h=(0,a.useRef)(null),p=(0,a.useRef)(!0),y=(0,a.useCallback)(e=>{p.current&&(l(e),t.onStatusChange(e))},[t]),v=(0,a.useCallback)(()=>{h.current&&(clearInterval(h.current),h.current=null)},[]),f=(0,a.useCallback)(()=>{v(),t.heartbeat&&m.current?.readyState===WebSocket.OPEN&&(h.current=setInterval(()=>{m.current?.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"ping"}))},t.heartbeatInterval))},[t.heartbeat,t.heartbeatInterval,v]),w=(0,a.useCallback)(()=>{b.current&&(clearTimeout(b.current),b.current=null),v(),m.current&&(m.current.close(),m.current=null),x.current=0,y("disconnected")},[v,y]),j=(0,a.useCallback)(()=>{if(m.current?.readyState!==WebSocket.CONNECTING&&m.current?.readyState!==WebSocket.OPEN){m.current&&m.current.close(),y("connecting"),g(null);try{let e=new WebSocket(s);m.current=e,e.onopen=()=>{p.current&&(x.current=0,y("connected"),f(),e.send(JSON.stringify({type:"subscribe",channels:["events","status","metrics"]})),t.rooms.length>0&&e.send(JSON.stringify({action:"subscribe",rooms:t.rooms})))},e.onmessage=e=>{if(p.current)try{let r=JSON.parse(e.data);if(d(r),t.onMessage(r),"event"===r.type&&r.payload){let e=r.payload;c(t=>[e,...t].slice(0,100)),t.onEvent(e)}}catch(e){console.warn("Failed to parse WebSocket message:",e)}},e.onerror=e=>{p.current&&(console.error("WebSocket error:",e),g("Connection error"),y("error"))},e.onclose=e=>{if(p.current){if(v(),1e3===e.code){y("disconnected");return}if(y("disconnected"),t.autoReconnect&&(0===t.maxReconnectAttempts||x.current<t.maxReconnectAttempts)){x.current++;let e=t.reconnectDelay*Math.min(x.current,5);b.current=setTimeout(()=>{p.current&&j()},e)}}}}catch(e){console.error("Failed to create WebSocket:",e),g(e instanceof Error?e.message:"Failed to connect"),y("error")}}},[t,y,f,v]),N=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&(m.current.send(JSON.stringify(e)),!0),[]),k=(0,a.useCallback)(()=>{c([])},[]),S=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"subscribe",rooms:e})),!0),[]),$=(0,a.useCallback)(e=>m.current?.readyState===WebSocket.OPEN&&e.length>0&&(m.current.send(JSON.stringify({action:"unsubscribe",rooms:e})),!0),[]);return{status:r,events:i,lastMessage:o,error:u,isConnected:"connected"===r,reconnectAttempts:x.current,connect:j,disconnect:w,send:N,clearEvents:k,subscribe:S,unsubscribe:$}}},36722:(e,t,r)=>{"use strict";r.d(t,{PK:()=>l,yu:()=>a});let a="http://localhost:3100";async function s(e){try{let t=await fetch(`${a}/api${e}`,{signal:AbortSignal.timeout(5e3),cache:"no-store"});if(!t.ok)return null;return t.json()}catch{return null}}async function n(e,t){try{let r=await fetch(`${a}/api${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,signal:AbortSignal.timeout(1e4)});if(!r.ok)return null;return r.json()}catch{return null}}a.replace(/^http/,"ws");let l={getStatus:()=>s("/status"),getBrain:()=>s("/brain/status"),getBrainStatus:()=>s("/brain/status"),getBrainStats:()=>s("/brain/stats"),getBrainRecent:(e=20)=>s(`/brain/recent?limit=${e}`),getBrainPatterns:()=>s("/brain/patterns"),getBrainPredictions:()=>s("/brain/predictions"),searchBrain:e=>n("/brain/search",{query:e}),triggerIngest:e=>n("/brain/ingest",{source:e}),getBrainKnowledgeById:e=>s(`/brain/knowledge/${e}`),getBrainKnowledgeByTopic:(e,t=20)=>s(`/brain/knowledge/topic/${e}?limit=${t}`),getBrainKnowledgeSimilar:(e,t=10)=>s(`/brain/knowledge/${e}/similar?limit=${t}`),getBrainPatternById:e=>s(`/brain/patterns/${e}`),getBrainPredictionById:e=>s(`/brain/predictions/${e}`),generateBrainPredictions:(e,t=5)=>n("/brain/predictions/generate",{type:e,count:t}),getBrainIngestStats:()=>s("/brain/ingest/stats"),getTreasury:()=>s("/treasury"),getMoney:()=>s("/money/status"),getGrowth:()=>s("/growth/status"),getProduct:()=>s("/product/status"),getHunter:()=>s("/hunter/status"),getAutonomy:()=>s("/autonomy/status"),getPredictions:()=>s("/predictions/status"),getEvents:(e=50,t)=>s(`/events?limit=${e}${t?`&category=${t}`:""}`),getEnrichedEvents:(e=50,t,r)=>s(`/events/enriched?limit=${e}${t?`&category=${t}`:""}${r?`&severity=${r}`:""}`),getEventCategories:()=>s("/events/categories"),startBrain:()=>n("/brain/start"),stopBrain:()=>n("/brain/stop"),triggerPhase:e=>n("/brain/phase",{phase:e}),runDiscovery:()=>n("/discovery/run"),generateContent:e=>n("/content/generate",{type:e})}},83337:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},57432:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91109:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},71770:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},72839:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},75308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},82953:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},88781:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},50527:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},20118:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(82016).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},46423:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(51509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\dashboard\app\command\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[547,9557,6867],()=>r(95032));module.exports=a})();