"use strict";(()=>{var e={};e.id=4484,e.ids=[4484],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},622:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>u,serverHooks:()=>p,staticGenerationAsyncStorage:()=>g});var n={};t.r(n),t.d(n,{GET:()=>l});var s=t(28998),i=t(16006),o=t(14274),a=t(95663),c=t(47588);async function l(e){if(!(0,c.jv)())return a.NextResponse.json({error:"Supabase not configured",configured:!1},{status:503});let{searchParams:r}=new URL(e.url),t=r.get("status"),n=parseInt(r.get("limit")||"50");try{let e="queued"===t?await c.CA.getQueued(n):await c.CA.getRecent(n),r=e.filter(e=>"queued"===e.status).length,s=e.filter(e=>"executed"===e.status).length,i=e.filter(e=>"rejected"===e.status).length;return a.NextResponse.json({signals:e,stats:{total:e.length,queued:r,executed:s,rejected:i},configured:!0,lastUpdated:Date.now()})}catch(e){return console.error("Signals API error:",e),a.NextResponse.json({error:"Failed to fetch signals",configured:!0},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/signals/route",pathname:"/api/signals",filename:"route",bundlePath:"app/api/signals/route"},resolvedPagePath:"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\api\\signals\\route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:p}=u,f="/api/signals/route";function m(){return(0,o.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:g})}},47588:(e,r,t)=>{t.d(r,{CA:()=>l,G3:()=>u,Wg:()=>c,iE:()=>a,jv:()=>g,vH:()=>d});var n=t(73894);let s="https://bscpftwzsgmuhxaceqhy.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzY3BmdHd6c2dtdWh4YWNlcWh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0MDM5NTQsImV4cCI6MjA3OTk3OTk1NH0.UtD1uV94N8b2gaLV6H_4cZ_mcuHSxsC2DOyFXYhHqBA",o=s&&i?(0,n.eI)(s,i):null,a={async getOpen(){if(!o)return[];let{data:e,error:r}=await o.from("positions").select("*").eq("status","open").order("opened_at",{ascending:!1});return r&&console.error("Error fetching positions:",r),e||[]},async getAll(){if(!o)return[];let{data:e,error:r}=await o.from("positions").select("*").order("opened_at",{ascending:!1});return r&&console.error("Error fetching positions:",r),e||[]},async getRecent(e=10){if(!o)return[];let{data:r,error:t}=await o.from("positions").select("*").order("opened_at",{ascending:!1}).limit(e);return t&&console.error("Error fetching positions:",t),r||[]}},c={async getToday(){if(!o)return[];let e=new Date().toISOString().split("T")[0],{data:r,error:t}=await o.from("trades").select("*").gte("executed_at",`${e}T00:00:00`).order("executed_at",{ascending:!1});return t&&console.error("Error fetching trades:",t),r||[]},async getRecent(e=50){if(!o)return[];let{data:r,error:t}=await o.from("trades").select("*").order("executed_at",{ascending:!1}).limit(e);return t&&console.error("Error fetching trades:",t),r||[]}},l={async getQueued(e=50){if(!o)return[];let{data:r,error:t}=await o.from("signals").select("*").eq("status","queued").order("received_at",{ascending:!1}).limit(e);return t&&console.error("Error fetching signals:",t),r||[]},async getRecent(e=100){if(!o)return[];let{data:r,error:t}=await o.from("signals").select("*").order("received_at",{ascending:!1}).limit(e);return t&&console.error("Error fetching signals:",t),r||[]},async getById(e){if(!o)return null;let{data:r,error:t}=await o.from("signals").select("*").eq("id",e).single();return t&&console.error("Error fetching signal:",t),r}},u={async getRecent(e=100){if(!o)return[];let{data:r,error:t}=await o.from("discoveries").select("*").order("discovered_at",{ascending:!1}).limit(e);return t&&console.error("Error fetching discoveries:",t),r||[]},async getBySource(e,r=50){if(!o)return[];let{data:t,error:n}=await o.from("discoveries").select("*").eq("source",e).order("discovered_at",{ascending:!1}).limit(r);return n&&console.error("Error fetching discoveries:",n),t||[]}},d={async getToday(){if(!o)return null;let e=new Date().toISOString().split("T")[0],{data:r,error:t}=await o.from("daily_stats").select("*").eq("date",e).single();return t&&"PGRST116"!==t.code&&console.error("Error fetching daily stats:",t),r},async getRecent(e=30){if(!o)return[];let{data:r,error:t}=await o.from("daily_stats").select("*").order("date",{ascending:!1}).limit(e);return t&&console.error("Error fetching daily stats:",t),r||[]},async getTotalPnL(){if(!o)return 0;let{data:e,error:r}=await o.from("daily_stats").select("pnl");return r?(console.error("Error fetching total PnL:",r),0):(e||[]).reduce((e,r)=>e+(r.pnl||0),0)}};function g(){return!!(s&&i)}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[547,7536,3894],()=>t(622));module.exports=n})();