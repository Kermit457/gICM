"use strict";(()=>{var e={};e.id=9552,e.ids=[9552],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},27790:e=>{e.exports=require("assert")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},92048:e=>{e.exports=require("fs")},85807:e=>{e.exports=require("module")},55315:e=>{e.exports=require("path")},17360:e=>{e.exports=require("url")},21764:e=>{e.exports=require("util")},6162:e=>{e.exports=require("worker_threads")},65714:e=>{e.exports=require("node:diagnostics_channel")},15673:e=>{e.exports=require("node:events")},70612:e=>{e.exports=require("node:os")},49411:e=>{e.exports=require("node:path")},88400:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>y,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>x});var o={};r.r(o),r.d(o,{GET:()=>d,dynamic:()=>p});var a=r(28998),i=r(16006),s=r(14274),u=r(95663),n=r(31046);let p="force-dynamic";async function d(e){try{let{searchParams:t}=new URL(e.url),r=parseInt(t.get("limit")||"50",10),o=t.get("category"),a=t.get("decision"),i=(0,n.X2)().getAuditLog();o&&(i=i.filter(e=>e.category===o)),a&&(i=i.filter(e=>e.type===a));let s={total:(i=i.slice(0,r)).length,autoExecuted:i.filter(e=>"executed"===e.type).length,approved:i.filter(e=>"approved"===e.type).length,rejected:i.filter(e=>"rejected"===e.type).length,escalated:i.filter(e=>"escalated"===e.type).length};return u.NextResponse.json({ok:!0,entries:i,stats:s})}catch(e){return console.error("[API] Autonomy audit error:",e),u.NextResponse.json({ok:!1,error:"Failed to get audit log"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/autonomy/audit/route",pathname:"/api/autonomy/audit",filename:"route",bundlePath:"app/api/autonomy/audit/route"},resolvedPagePath:"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\api\\autonomy\\audit\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:x,serverHooks:g}=l,m="/api/autonomy/audit/route";function y(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:x})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[547,7536,1046],()=>r(88400));module.exports=o})();