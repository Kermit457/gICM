"use strict";(()=>{var e={};e.id=8036,e.ids=[8036],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},59101:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>l});var o={};r.r(o),r.d(o,{POST:()=>u});var s=r(28998),n=r(16006),a=r(14274),i=r(95663);let p=process.env.ANTHROPIC_API_KEY;async function u(e){try{let{method:t,topic:r,prompt:o}=await e.json();if(!r||!o)return i.NextResponse.json({error:"Missing topic or prompt"},{status:400});if(!p)return i.NextResponse.json({error:"AI not configured",configured:!1},{status:503});let s=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":p,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-sonnet-4-20250514",max_tokens:4096,messages:[{role:"user",content:o}],system:`You are gICM's strategic brainstorming assistant. You help with structured thinking and analysis using proven brainstorming frameworks.

Your responses should be:
- Comprehensive but focused
- Actionable with concrete suggestions
- Formatted with clear sections and bullet points
- Tailored to Web3, DeFi, AI, and trading contexts when relevant

Current method: ${t}
Topic: ${r}`})});if(!s.ok){let e=await s.text();return console.error("Anthropic API error:",e),i.NextResponse.json({error:"AI API error",details:e},{status:500})}let n=await s.json(),a=n.content?.find(e=>"text"===e.type),u=a?.text||"No response generated";return i.NextResponse.json({method:t,topic:r,response:u,model:n.model,usage:n.usage,timestamp:Date.now()})}catch(e){return console.error("Brainstorm API error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let d=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/brainstorm/route",pathname:"/api/brainstorm",filename:"route",bundlePath:"app/api/brainstorm/route"},resolvedPagePath:"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\dashboard\\app\\api\\brainstorm\\route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:m}=d,g="/api/brainstorm/route";function h(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:l})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[547,7536],()=>r(59101));module.exports=o})();