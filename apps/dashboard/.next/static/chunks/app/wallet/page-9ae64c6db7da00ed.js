(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3597],{141:function(e,t,s){Promise.resolve().then(s.bind(s,45985))},45985:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(82363),n=s(38954),r=s(89738),i=s(70328),c=s(38532),l=s(18903),o=s(56086),d=s(19420),m=s(4897),x=s(7201),u=s(16789),h=s(11374),g=s(1289),p=s(47068),b=s(47302),y=s(45482),j=s(90935),f=s(1749),N=s(60195),v=s(82720);let w="T7t1oC7QCBsMdKyKFKE8gpAUqTkuBsdDbqFNaFX1m2f".slice(0,8)+"..."+"T7t1oC7QCBsMdKyKFKE8gpAUqTkuBsdDbqFNaFX1m2f".slice(-8)||"8xYz2...nM4qR9pL",k="T7t1oC7QCBsMdKyKFKE8gpAUqTkuBsdDbqFNaFX1m2f";function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e>=1e9?(e/1e9).toFixed(t)+"B":e>=1e6?(e/1e6).toFixed(t)+"M":e>=1e3?(e/1e3).toFixed(t)+"K":e.toFixed(t)}function S(e){let{token:t}=e,s=t.change24h>=0;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gicm-primary/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm font-bold text-gicm-primary",children:t.symbol[0]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white",children:t.symbol}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:t.name})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-white",children:[B(t.balance)," ",t.symbol]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["$",B(t.usdValue)]})]}),(0,a.jsxs)("div",{className:"text-right w-24",children:[(0,a.jsxs)("p",{className:"font-medium text-white",children:["$",t.price<.01?t.price.toFixed(6):t.price.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-sm flex items-center justify-end gap-1 ".concat(s?"text-green-400":"text-red-400"),children:[s?(0,a.jsx)(r.Z,{className:"w-3 h-3"}):(0,a.jsx)(i.Z,{className:"w-3 h-3"}),Math.abs(t.change24h),"%"]})]})]})}function Z(e){let{tx:t}=e,s={send:c.Z,receive:l.Z,swap:o.Z}[t.type];return(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-white/5 rounded-lg transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg ".concat({send:"text-red-400 bg-red-500/20",receive:"text-green-400 bg-green-500/20",swap:"text-blue-400 bg-blue-500/20"}[t.type]),children:(0,a.jsx)(s,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-white capitalize",children:t.type}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:t.token})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium ".concat("receive"===t.type?"text-green-400":"send"===t.type?"text-red-400":"text-white"),children:["receive"===t.type?"+":"send"===t.type?"-":"",B(t.amount)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:["$",B(t.usdValue)]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:function(e){let t=Date.now()-e;return t<6e4?"Just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):t<864e5?"".concat(Math.floor(t/36e5),"h ago"):new Date(e).toLocaleDateString()}(t.timestamp)}),(0,a.jsx)("p",{className:"text-xs ".concat("confirmed"===t.status?"text-green-400":"pending"===t.status?"text-yellow-400":"text-red-400"),children:t.status})]}),(0,a.jsx)("button",{className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:(0,a.jsx)(d.Z,{className:"w-4 h-4 text-gray-400"})})]})}function C(){let[e,t]=(0,n.useState)([]),[s,C]=(0,n.useState)([]),[P,T]=(0,n.useState)(!1),[F,M]=(0,n.useState)("tokens"),[D,E]=(0,n.useState)(!0),[K,V]=(0,n.useState)(null),[A,q]=(0,n.useState)(!1),I=(0,n.useRef)(null),L=(0,N.s)({autoReconnect:!0,reconnectDelay:3e3,onEvent:e=>{var t,s,a;((null===(t=e.type)||void 0===t?void 0:t.includes("wallet"))||(null===(s=e.type)||void 0===s?void 0:s.includes("trading"))||(null===(a=e.type)||void 0===a?void 0:a.includes("balance")))&&U()}}),U=(0,n.useCallback)(async()=>{try{let[e,s,a,n]=await Promise.all([fetch("/api/wallet").then(e=>e.ok?e.json():null).catch(()=>null),j.PK.getTreasury(),f.e.getPositions(),f.e.getTradesToday()]),r=[];if(e&&e.sol>0&&(r.push({symbol:"SOL",name:"Solana",balance:e.sol,usdValue:e.sol*e.solPrice,price:e.solPrice,change24h:0}),q(!0)),e&&e.usdc>0&&r.push({symbol:"USDC",name:"USD Coin",balance:e.usdc,usdValue:e.usdc,price:1,change24h:0}),s){let e=r.some(e=>"SOL"===e.symbol),t=r.some(e=>"USDC"===e.symbol);!e&&s.balances.sol>0&&r.push({symbol:"SOL",name:"Solana",balance:s.balances.sol,usdValue:230*s.balances.sol,price:230,change24h:0}),!t&&s.balances.usdc>0&&r.push({symbol:"USDC",name:"USD Coin",balance:s.balances.usdc,usdValue:s.balances.usdc,price:1,change24h:0})}if(a&&Array.isArray(a)&&a.forEach(e=>{r.some(t=>t.symbol===e.token)||r.push({symbol:e.token,name:e.token,balance:e.quantity,usdValue:e.quantity*e.currentPrice,price:e.currentPrice,change24h:e.pnlPercent||0})}),r.length>0&&t(r),n&&Array.isArray(n)&&n.length>0){let e=n.map((e,t)=>{var s;return{id:e.id||"trade-".concat(t),type:"buy"===e.type?"receive":"send",token:e.asset,amount:e.amount,usdValue:e.total,timestamp:e.timestamp,status:"completed"===e.status?"confirmed":"pending"===e.status?"pending":"failed",txHash:"".concat(null===(s=e.id)||void 0===s?void 0:s.slice(0,8),"...")}});C(e)}V(Date.now())}catch(e){console.error("[Wallet] Failed to fetch data:",e)}finally{E(!1)}},[]);(0,n.useEffect)(()=>(U(),()=>{I.current&&clearInterval(I.current)}),[U]),(0,n.useEffect)(()=>{I.current&&clearInterval(I.current);let e=L.isConnected?3e4:1e4;return I.current=setInterval(U,e),()=>{I.current&&clearInterval(I.current)}},[L.isConnected,U]);let O=e.reduce((e,t)=>e+t.usdValue,0),R=e.reduce((e,t)=>e+t.usdValue*t.change24h/100,0),_=O>0?R/(O-R)*100:0;return(0,a.jsx)("div",{className:"min-h-screen bg-gicm-dark p-6",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[(0,a.jsx)(m.Z,{className:"w-7 h-7 text-gicm-primary"}),"Wallet Dashboard"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"text-gray-400 font-mono",children:w}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(k),T(!0),setTimeout(()=>T(!1),2e3)},className:"p-1 hover:bg-white/10 rounded transition-colors",children:P?(0,a.jsx)(x.Z,{className:"w-4 h-4 text-green-400"}):(0,a.jsx)(u.Z,{className:"w-4 h-4 text-gray-400"})}),(0,a.jsx)("a",{href:"https://solscan.io/account/".concat(k),target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-white/10 rounded transition-colors",children:(0,a.jsx)(d.Z,{className:"w-4 h-4 text-gray-400"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(v.Y,{status:L.status,isRealtime:L.isConnected,compact:!0}),A&&(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1 bg-green-500/20 border border-green-500/30 rounded-lg",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-xs text-green-400 font-medium",children:"Data Live"})]}),(0,a.jsxs)("button",{onClick:()=>{E(!0),U()},disabled:D,className:"flex items-center gap-2 px-4 py-2 bg-gicm-primary text-black rounded-lg hover:bg-gicm-primary/90 transition-colors disabled:opacity-50",children:[D?(0,a.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Refresh"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-6 md:col-span-2",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Total Portfolio Value"}),(0,a.jsxs)("div",{className:"flex items-baseline gap-4",children:[(0,a.jsxs)("h2",{className:"text-4xl font-bold text-white",children:["$",B(O)]}),(0,a.jsxs)("span",{className:"flex items-center gap-1 text-lg ".concat(R>=0?"text-green-400":"text-red-400"),children:[R>=0?(0,a.jsx)(r.Z,{className:"w-5 h-5"}):(0,a.jsx)(i.Z,{className:"w-5 h-5"}),"$",Math.abs(R).toFixed(2)," (",_.toFixed(2),"%)"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"24h change"})]}),(0,a.jsxs)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Allocation"}),(0,a.jsx)(g.Z,{className:"w-4 h-4 text-gray-400"})]}),(0,a.jsx)("div",{className:"space-y-2",children:e.slice(0,4).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:e.symbol}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-20 h-1.5 bg-gicm-dark rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gicm-primary rounded-full",style:{width:"".concat(e.usdValue/O*100,"%")}})}),(0,a.jsxs)("span",{className:"text-sm text-white w-12 text-right",children:[(e.usdValue/O*100).toFixed(1),"%"]})]})]},e.symbol))})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-gicm-border",children:[(0,a.jsx)("button",{onClick:()=>M("tokens"),className:"pb-3 px-1 text-sm font-medium transition-colors ".concat("tokens"===F?"text-gicm-primary border-b-2 border-gicm-primary":"text-gray-400 hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),"Tokens (",e.length,")"]})}),(0,a.jsx)("button",{onClick:()=>M("transactions"),className:"pb-3 px-1 text-sm font-medium transition-colors ".concat("transactions"===F?"text-gicm-primary border-b-2 border-gicm-primary":"text-gray-400 hover:text-white"),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4"}),"Transactions"]})})]}),(0,a.jsx)("div",{className:"bg-gicm-card border border-gicm-border rounded-xl",children:"tokens"===F?(0,a.jsxs)("div",{className:"divide-y divide-gicm-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"w-48",children:"Token"}),(0,a.jsx)("span",{className:"text-right",children:"Balance"}),(0,a.jsx)("span",{className:"text-right w-24",children:"Price"}),(0,a.jsx)("span",{className:"w-8"})]}),e.map(e=>(0,a.jsx)(S,{token:e},e.symbol))]}):(0,a.jsxs)("div",{className:"divide-y divide-gicm-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"w-32",children:"Type"}),(0,a.jsx)("span",{className:"text-right",children:"Amount"}),(0,a.jsx)("span",{className:"text-right",children:"Time"}),(0,a.jsx)("span",{className:"w-8"})]}),s.map(e=>(0,a.jsx)(Z,{tx:e},e.id))]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 p-4 bg-gicm-card border border-gicm-border rounded-xl hover:border-gicm-primary/30 transition-colors",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-gicm-primary"}),(0,a.jsx)("span",{className:"text-white",children:"Send"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 p-4 bg-gicm-card border border-gicm-border rounded-xl hover:border-gicm-primary/30 transition-colors",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 text-gicm-primary"}),(0,a.jsx)("span",{className:"text-white",children:"Receive"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 p-4 bg-gicm-card border border-gicm-border rounded-xl hover:border-gicm-primary/30 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-gicm-primary"}),(0,a.jsx)("span",{className:"text-white",children:"Swap"})]}),(0,a.jsxs)("button",{className:"flex items-center justify-center gap-2 p-4 bg-gicm-card border border-gicm-border rounded-xl hover:border-gicm-primary/30 transition-colors",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-gicm-primary"}),(0,a.jsx)("span",{className:"text-white",children:"Buy"})]})]})]})})}},90935:function(e,t,s){"use strict";s.d(t,{Lf:function(){return n},PK:function(){return c},yu:function(){return a}});let a="http://localhost:3100",n=a.replace(/^http/,"ws")+"/ws";async function r(e){try{let t=await fetch("".concat(a,"/api").concat(e),{signal:AbortSignal.timeout(5e3),cache:"no-store"});if(!t.ok)return null;return t.json()}catch(e){return null}}async function i(e,t){try{let s=await fetch("".concat(a,"/api").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:t?JSON.stringify(t):void 0,signal:AbortSignal.timeout(1e4)});if(!s.ok)return null;return s.json()}catch(e){return null}}let c={getStatus:()=>r("/status"),getBrain:()=>r("/brain/status"),getBrainStatus:()=>r("/brain/status"),getBrainStats:()=>r("/brain/stats"),getBrainRecent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return r("/brain/recent?limit=".concat(e))},getBrainPatterns:()=>r("/brain/patterns"),getBrainPredictions:()=>r("/brain/predictions"),searchBrain:e=>i("/brain/search",{query:e}),triggerIngest:e=>i("/brain/ingest",{source:e}),getBrainKnowledgeById:e=>r("/brain/knowledge/".concat(e)),getBrainKnowledgeByTopic:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return r("/brain/knowledge/topic/".concat(e,"?limit=").concat(t))},getBrainKnowledgeSimilar:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r("/brain/knowledge/".concat(e,"/similar?limit=").concat(t))},getBrainPatternById:e=>r("/brain/patterns/".concat(e)),getBrainPredictionById:e=>r("/brain/predictions/".concat(e)),generateBrainPredictions:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return i("/brain/predictions/generate",{type:e,count:t})},getBrainIngestStats:()=>r("/brain/ingest/stats"),getTreasury:()=>r("/treasury"),getMoney:()=>r("/money/status"),getGrowth:()=>r("/growth/status"),getProduct:()=>r("/product/status"),getHunter:()=>r("/hunter/status"),getAutonomy:()=>r("/autonomy/status"),getPredictions:()=>r("/predictions/status"),getEvents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1?arguments[1]:void 0;return r("/events?limit=".concat(e).concat(t?"&category=".concat(t):""))},getEnrichedEvents:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return r("/events/enriched?limit=".concat(e).concat(t?"&category=".concat(t):"").concat(s?"&severity=".concat(s):""))},getEventCategories:()=>r("/events/categories"),startBrain:()=>i("/brain/start"),stopBrain:()=>i("/brain/stop"),triggerPhase:e=>i("/brain/phase",{phase:e}),runDiscovery:()=>i("/discovery/run"),generateContent:e=>i("/content/generate",{type:e})}},7201:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(13024).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},47068:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(13024).Z)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},16789:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(13024).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},19420:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(13024).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])}},function(e){e.O(0,[8855,6829,8854,1744],function(){return e(e.s=141)}),_N_E=e.O()}]);