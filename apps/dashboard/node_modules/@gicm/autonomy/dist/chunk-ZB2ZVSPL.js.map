{"version":3,"sources":["../src/utils/logger.ts"],"sourcesContent":["/**\n * Logger utility for Autonomy package\n */\n\nimport pino from \"pino\";\n\nconst isDev = process.env.NODE_ENV !== \"production\";\n\nconst transport = isDev\n  ? {\n      target: \"pino-pretty\",\n      options: {\n        colorize: true,\n        translateTime: \"SYS:standard\",\n        ignore: \"pid,hostname\",\n      },\n    }\n  : undefined;\n\nconst baseLogger = pino({\n  level: process.env.LOG_LEVEL ?? \"info\",\n  transport,\n});\n\nexport class Logger {\n  private logger: pino.Logger;\n\n  constructor(context: string) {\n    this.logger = baseLogger.child({ context });\n  }\n\n  info(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.info(data, message);\n    } else {\n      this.logger.info(message);\n    }\n  }\n\n  warn(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.warn(data, message);\n    } else {\n      this.logger.warn(message);\n    }\n  }\n\n  error(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.error(data, message);\n    } else {\n      this.logger.error(message);\n    }\n  }\n\n  debug(message: string, data?: Record<string, unknown>): void {\n    if (data) {\n      this.logger.debug(data, message);\n    } else {\n      this.logger.debug(message);\n    }\n  }\n}\n\nexport function createLogger(context: string): Logger {\n  return new Logger(context);\n}\n\nexport default Logger;\n"],"mappings":";AAIA,OAAO,UAAU;AAEjB,IAAM,QAAQ,QAAQ,IAAI,aAAa;AAEvC,IAAM,YAAY,QACd;AAAA,EACE,QAAQ;AAAA,EACR,SAAS;AAAA,IACP,UAAU;AAAA,IACV,eAAe;AAAA,IACf,QAAQ;AAAA,EACV;AACF,IACA;AAEJ,IAAM,aAAa,KAAK;AAAA,EACtB,OAAO,QAAQ,IAAI,aAAa;AAAA,EAChC;AACF,CAAC;AAEM,IAAM,SAAN,MAAa;AAAA,EACV;AAAA,EAER,YAAY,SAAiB;AAC3B,SAAK,SAAS,WAAW,MAAM,EAAE,QAAQ,CAAC;AAAA,EAC5C;AAAA,EAEA,KAAK,SAAiB,MAAsC;AAC1D,QAAI,MAAM;AACR,WAAK,OAAO,KAAK,MAAM,OAAO;AAAA,IAChC,OAAO;AACL,WAAK,OAAO,KAAK,OAAO;AAAA,IAC1B;AAAA,EACF;AAAA,EAEA,KAAK,SAAiB,MAAsC;AAC1D,QAAI,MAAM;AACR,WAAK,OAAO,KAAK,MAAM,OAAO;AAAA,IAChC,OAAO;AACL,WAAK,OAAO,KAAK,OAAO;AAAA,IAC1B;AAAA,EACF;AAAA,EAEA,MAAM,SAAiB,MAAsC;AAC3D,QAAI,MAAM;AACR,WAAK,OAAO,MAAM,MAAM,OAAO;AAAA,IACjC,OAAO;AACL,WAAK,OAAO,MAAM,OAAO;AAAA,IAC3B;AAAA,EACF;AAAA,EAEA,MAAM,SAAiB,MAAsC;AAC3D,QAAI,MAAM;AACR,WAAK,OAAO,MAAM,MAAM,OAAO;AAAA,IACjC,OAAO;AACL,WAAK,OAAO,MAAM,OAAO;AAAA,IAC3B;AAAA,EACF;AACF;","names":[]}