(()=>{var e={};e.id=614,e.ids=[614],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4123:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(2384),t(4864),t(8013);var a=t(6933),r=t(6006),n=t(294),l=t.n(n),i=t(6901),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let o=["",{children:["treasury",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2384)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\gicm-dashboard\\src\\app\\treasury\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4864)),"C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\gicm-dashboard\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8013,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\mirko\\OneDrive\\Desktop\\gICM\\apps\\gicm-dashboard\\src\\app\\treasury\\page.tsx"],x="/treasury/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/treasury/page",pathname:"/treasury",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},1960:(e,s,t)=>{Promise.resolve().then(t.bind(t,4224))},832:(e,s,t)=>{Promise.resolve().then(t.bind(t,2502))},9339:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6868,23)),Promise.resolve().then(t.t.bind(t,5091,23)),Promise.resolve().then(t.t.bind(t,1668,23)),Promise.resolve().then(t.t.bind(t,2146,23)),Promise.resolve().then(t.t.bind(t,5926,23)),Promise.resolve().then(t.t.bind(t,2651,23))},4224:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(2723);t(3789);var r=t(9431),n=t(6848),l=t(4870),i=t(527),c=t(6969);function o(){let e;let{treasury:s,fetchTreasury:t,loading:n}=(0,r.L)(),o=(e,s=4)=>e.toFixed(s);return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(l.Z,{className:"w-5 h-5 text-green-400"}),a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Treasury"})]}),a.jsx("button",{onClick:t,disabled:n.treasury,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded-lg",children:a.jsx(i.Z,{className:"w-4 h-4 "+(n.treasury?"animate-spin":"")})})]}),s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center py-4 bg-gradient-to-r from-green-900/30 to-blue-900/30 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Value"}),a.jsx("p",{className:"text-3xl font-bold text-white",children:(e=s.totalUsd,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"SOL Balance"}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-white",children:[o(s.solBalance)," SOL"]})]}),(0,a.jsxs)("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"USDC Balance"}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-white",children:[o(s.usdcBalance,2)," USDC"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-blue-900/30 rounded-lg",children:[a.jsx(c.Z,{className:"w-5 h-5 text-blue-400"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Runway"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-white",children:[s.runway.toFixed(1)," months"]})]})]})]}):(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-12 bg-gray-700 rounded"}),a.jsx("div",{className:"h-8 bg-gray-700 rounded w-2/3"})]})]})}let d=(0,t(2016).Z)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),x={trading:"bg-blue-500",growth:"bg-green-500",operations:"bg-purple-500",reserve:"bg-yellow-500",default:"bg-gray-500"};function h(){let e=(0,r.L)(e=>e.treasury);if(!e?.allocations)return null;let s=Object.entries(e.allocations),t=s.reduce((e,[,s])=>e+s,0);return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(d,{className:"w-5 h-5 text-purple-400"}),a.jsx("h2",{className:"text-lg font-semibold text-white",children:"Allocations"})]}),a.jsx("div",{className:"space-y-3",children:s.map(([e,s])=>{let r=t>0?s/t*100:0,n=x[e]||x.default;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm text-gray-400 capitalize",children:e}),(0,a.jsxs)("span",{className:"text-sm text-white",children:[r.toFixed(1),"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full "+n,style:{width:r+"%"}})})]},e)})})]})}function m(){let{fetchTreasury:e}=(0,r.L)();return(0,n.s)(),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Treasury"}),a.jsx("p",{className:"text-gray-400 mt-1",children:"Financial overview and allocations"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(o,{}),a.jsx(h,{})]})]})}},2502:(e,s,t)=>{"use strict";t.d(s,{Navigation:()=>g});var a=t(2723),r=t(3029),n=t(5567),l=t(3177),i=t(8279),c=t(4870),o=t(1584),d=t(9431),x=t(3035),h=t(8412);function m(){let e=(0,d.L)(e=>e.connected);return a.jsx("div",{className:"flex items-center space-x-2",children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"w-4 h-4 text-green-500"}),a.jsx("span",{className:"text-sm text-green-500",children:"Connected"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(h.Z,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-500",children:"Disconnected"})]})})}let u=[{href:"/brain",label:"Brain",icon:l.Z},{href:"/engines",label:"Engines",icon:i.Z},{href:"/treasury",label:"Treasury",icon:c.Z},{href:"/events",label:"Events",icon:o.Z}];function g(){let e=(0,n.usePathname)();return a.jsx("nav",{className:"bg-gray-900 border-b border-gray-800",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(r.default,{href:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(l.Z,{className:"w-5 h-5 text-white"})}),a.jsx("span",{className:"text-white font-bold text-lg",children:"gICM"})]}),a.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:u.map(s=>{let t=e===s.href,n=s.icon;return(0,a.jsxs)(r.default,{href:s.href,className:"flex items-center px-3 py-2 rounded-md text-sm font-medium "+(t?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[a.jsx(n,{className:"w-4 h-4 mr-2"}),s.label]},s.href)})})]}),a.jsx(m,{})]})})})}},2868:(e,s,t)=>{"use strict";async function a(e,s){let t=await fetch("http://localhost:3100"+e,{...s,headers:{"Content-Type":"application/json",...s?.headers}});if(!t.ok)throw Error("API request failed: "+t.status);return t.json()}t.d(s,{h:()=>r});let r={getStatus:async()=>a("/api/status"),getBrainStatus:async()=>a("/api/brain/status"),startBrain:async()=>a("/api/brain/start",{method:"POST"}),stopBrain:async()=>a("/api/brain/stop",{method:"POST"}),triggerPhase:async e=>a("/api/brain/phase",{method:"POST",body:JSON.stringify({phase:e})}),getTreasury:async()=>a("/api/treasury"),getEvents:async(e=50)=>a("/api/events?limit="+e),getBacklog:async()=>a("/api/backlog"),runDiscovery:async()=>a("/api/discovery/run",{method:"POST"}),generateContent:async e=>a("/api/content/generate",{method:"POST",body:JSON.stringify({type:e})})}},9431:(e,s,t)=>{"use strict";t.d(s,{L:()=>n});var a=t(7852),r=t(2868);let n=(0,a.Ue)((e,s)=>({connected:!1,setConnected:s=>e({connected:s}),brainStatus:null,fetchBrainStatus:async()=>{e(e=>({loading:{...e.loading,brain:!0}}));try{let s=await r.h.getBrainStatus();s.ok&&e({brainStatus:s.status})}catch(e){console.error("Failed to fetch brain status:",e)}finally{e(e=>({loading:{...e.loading,brain:!1}}))}},engines:[],fetchEngines:async()=>{e(e=>({loading:{...e.loading,engines:!0}}));try{let s=await r.h.getStatus();s.ok&&e({engines:s.engines.details,connected:!0})}catch(s){console.error("Failed to fetch engines:",s),e({connected:!1})}finally{e(e=>({loading:{...e.loading,engines:!1}}))}},treasury:null,fetchTreasury:async()=>{e(e=>({loading:{...e.loading,treasury:!0}}));try{let s=await r.h.getTreasury();s.ok&&e({treasury:s.treasury})}catch(e){console.error("Failed to fetch treasury:",e)}finally{e(e=>({loading:{...e.loading,treasury:!1}}))}},events:[],addEvent:s=>{e(e=>({events:[s,...e.events].slice(0,100)}))},fetchEvents:async()=>{e(e=>({loading:{...e.loading,events:!0}}));try{let s=await r.h.getEvents(50);s.ok&&e({events:s.events})}catch(e){console.error("Failed to fetch events:",e)}finally{e(e=>({loading:{...e.loading,events:!1}}))}},loading:{brain:!1,engines:!1,treasury:!1,events:!1}}))},6848:(e,s,t)=>{"use strict";t.d(s,{s:()=>n});var a=t(3789),r=t(9431);function n(){let e=(0,a.useRef)(null),s=(0,a.useRef)(null),{setConnected:t,addEvent:n}=(0,r.L)(),l=(0,a.useCallback)(()=>{if(e.current?.readyState!==WebSocket.OPEN)try{let a=new WebSocket("ws://localhost:3100/ws");a.onopen=()=>{console.log("[WS] Connected"),t(!0)},a.onclose=()=>{console.log("[WS] Disconnected"),t(!1),s.current=setTimeout(()=>{console.log("[WS] Reconnecting..."),l()},3e3)},a.onerror=e=>{console.error("[WS] Error:",e)},a.onmessage=e=>{try{let s=JSON.parse(e.data);s.id&&s.timestamp&&n(s)}catch(e){}},e.current=a}catch(e){console.error("[WS] Connection error:",e),t(!1)}},[t,n]);return{connect:l,disconnect:(0,a.useCallback)(()=>{s.current&&clearTimeout(s.current),e.current&&(e.current.close(),e.current=null)},[]),isConnected:e.current?.readyState===WebSocket.OPEN}}},6969:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2016).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},527:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2016).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4864:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>i});var a=t(442),r=t(2039),n=t.n(r);t(9631);let l=(0,t(1509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\gicm-dashboard\src\components\Navigation.tsx#Navigation`),i={title:"gICM Dashboard",description:"Control center for gICM autonomous system"};function c({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[a.jsx(l,{}),a.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e})]})})})}},2384:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(1509).createProxy)(String.raw`C:\Users\mirko\OneDrive\Desktop\gICM\apps\gicm-dashboard\src\app\treasury\page.tsx#default`)},9631:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[462],()=>t(4123));module.exports=a})();